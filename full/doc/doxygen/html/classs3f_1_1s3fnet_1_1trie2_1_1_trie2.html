<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>S3F: s3f::s3fnet::trie2::Trie2 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">S3F
   &#160;<span id="projectnumber">2.1.0_full_version</span>
   </div>
   <div id="projectbrief">Simpler Scalable Simulation Framework + S3F-based Network Testbed (Simulation, OpenVZ-based Emulation, and OpenFlow-based SDN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">s3f::s3fnet::trie2::Trie2 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A data structure for forwarding tables.  
 <a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="trie2_8h_source.html">trie2.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for s3f::s3fnet::trie2::Trie2:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.png" usemap="#s3f::s3fnet::trie2::Trie2_map" alt=""/>
  <map id="s3f::s3fnet::trie2::Trie2_map" name="s3f::s3fnet::trie2::Trie2_map">
<area href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. " alt="s3f::s3fnet::Trie" shape="rect" coords="0,0,135,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_1_1iterator.html">iterator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8a138853be305e70fb5a1bd7b2c85eb9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9">TrieType</a> { <br/>
&#160;&#160;<a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9af9cbfa34cf569adfc09db2b3121ba24e">ORIGINAL</a> = 0, 
<a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a54d44ac160288696ddec6c025a8d5e10">SIMPLE</a> = 1, 
<a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a8dfbbc0de205c769a7d12642b2ece98e">PREFIX</a> = 2, 
<a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a9f1859b031694d2c5a423a2bafeedf25">UNORDERED_PREFIX</a> = 3, 
<br/>
&#160;&#160;<a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a4c2fc60f314104b1982c2e2be9d5b4bc">ARRAY_BACKED</a> = 4, 
<a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a10314668a03e53a385446ac74ef9c0e0">ARRAY_BACKED_PREFIX</a> = 5, 
<a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9ac30a8a4fa08462d58a23dc77364db75d">ARRAY_BACKED_UNORDERED_PREFIX</a> = 6
<br/>
 }</td></tr>
<tr class="memdesc:a8a138853be305e70fb5a1bd7b2c85eb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum containing <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> implementations.  <a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9">More...</a><br/></td></tr>
<tr class="separator:a8a138853be305e70fb5a1bd7b2c85eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4f292d0b5cc95710f1c513066684c85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae4f292d0b5cc95710f1c513066684c85">Trie2</a> ()</td></tr>
<tr class="memdesc:ae4f292d0b5cc95710f1c513066684c85"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor.  <a href="#ae4f292d0b5cc95710f1c513066684c85">More...</a><br/></td></tr>
<tr class="separator:ae4f292d0b5cc95710f1c513066684c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bf8aa904b18eb7f15748dcff681fd3"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#aa0bf8aa904b18eb7f15748dcff681fd3">~Trie2</a> ()</td></tr>
<tr class="memdesc:aa0bf8aa904b18eb7f15748dcff681fd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor.  <a href="#aa0bf8aa904b18eb7f15748dcff681fd3">More...</a><br/></td></tr>
<tr class="separator:aa0bf8aa904b18eb7f15748dcff681fd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15a75fe9613d98eb297ed2f791e4cb0"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ad15a75fe9613d98eb297ed2f791e4cb0">insert</a> (<a class="el" href="namespaces3f_1_1s3fnet.html#a3c2cafb7362ca342d00c677a85f73d1b">TRIEBITSTRING</a> key, int nBits, <a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> *data, bool replace)</td></tr>
<tr class="memdesc:ad15a75fe9613d98eb297ed2f791e4cb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts a new (key, data) pair.  <a href="#ad15a75fe9613d98eb297ed2f791e4cb0">More...</a><br/></td></tr>
<tr class="separator:ad15a75fe9613d98eb297ed2f791e4cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5ac1102027a5bd2e474e58144b7f89"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#aad5ac1102027a5bd2e474e58144b7f89">remove</a> (<a class="el" href="namespaces3f_1_1s3fnet.html#a3c2cafb7362ca342d00c677a85f73d1b">TRIEBITSTRING</a> key, int nBits)</td></tr>
<tr class="memdesc:aad5ac1102027a5bd2e474e58144b7f89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a key from the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>.  <a href="#aad5ac1102027a5bd2e474e58144b7f89">More...</a><br/></td></tr>
<tr class="separator:aad5ac1102027a5bd2e474e58144b7f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a737ec9bec7f70802ed9c08c16acc199d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a737ec9bec7f70802ed9c08c16acc199d">lookup</a> (<a class="el" href="namespaces3f_1_1s3fnet.html#a3c2cafb7362ca342d00c677a85f73d1b">TRIEBITSTRING</a> key)</td></tr>
<tr class="memdesc:a737ec9bec7f70802ed9c08c16acc199d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a key in the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>.  <a href="#a737ec9bec7f70802ed9c08c16acc199d">More...</a><br/></td></tr>
<tr class="separator:a737ec9bec7f70802ed9c08c16acc199d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1e5b162f3de6fbfb1a3d1f355abc3c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#acf1e5b162f3de6fbfb1a3d1f355abc3c">getDefault</a> ()</td></tr>
<tr class="memdesc:acf1e5b162f3de6fbfb1a3d1f355abc3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the default Route.  <a href="#acf1e5b162f3de6fbfb1a3d1f355abc3c">More...</a><br/></td></tr>
<tr class="separator:acf1e5b162f3de6fbfb1a3d1f355abc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fd82ac42073341c3bfb8464559f9e5"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ab5fd82ac42073341c3bfb8464559f9e5">size</a> ()</td></tr>
<tr class="memdesc:ab5fd82ac42073341c3bfb8464559f9e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of items in the trie.  <a href="#ab5fd82ac42073341c3bfb8464559f9e5">More...</a><br/></td></tr>
<tr class="separator:ab5fd82ac42073341c3bfb8464559f9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1584e867e0a262cc97329e89f0fdbe65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_1_1iterator.html">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a1584e867e0a262cc97329e89f0fdbe65">begin</a> ()</td></tr>
<tr class="separator:a1584e867e0a262cc97329e89f0fdbe65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a1f8d2d39af28e3afc158c97ddabf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_1_1iterator.html">iterator</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a13a1f8d2d39af28e3afc158c97ddabf0">end</a> ()</td></tr>
<tr class="separator:a13a1f8d2d39af28e3afc158c97ddabf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a86a935a927d0f99b638cbcbdea43a413"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_1_1iterator.html">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a86a935a927d0f99b638cbcbdea43a413">last</a></td></tr>
<tr class="memdesc:a86a935a927d0f99b638cbcbdea43a413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last item in iterator.  <a href="#a86a935a927d0f99b638cbcbdea43a413">More...</a><br/></td></tr>
<tr class="separator:a86a935a927d0f99b638cbcbdea43a413"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a1dc5f9cc828a37dec8e880b16eb86052"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a1dc5f9cc828a37dec8e880b16eb86052">deallocate</a> (<a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html">TrieNode</a> *theroot)</td></tr>
<tr class="memdesc:a1dc5f9cc828a37dec8e880b16eb86052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate the trie recursively.  <a href="#a1dc5f9cc828a37dec8e880b16eb86052">More...</a><br/></td></tr>
<tr class="separator:a1dc5f9cc828a37dec8e880b16eb86052"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af5ab057f4f46fcedb8a363b665858d3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html">TrieNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a></td></tr>
<tr class="memdesc:af5ab057f4f46fcedb8a363b665858d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The root of the trie.  <a href="#af5ab057f4f46fcedb8a363b665858d3a">More...</a><br/></td></tr>
<tr class="separator:af5ab057f4f46fcedb8a363b665858d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae009d2c42d707a3e491e8103ed5bfde3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">nElements</a></td></tr>
<tr class="memdesc:ae009d2c42d707a3e491e8103ed5bfde3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of data elements stored in the trie.  <a href="#ae009d2c42d707a3e491e8103ed5bfde3">More...</a><br/></td></tr>
<tr class="separator:ae009d2c42d707a3e491e8103ed5bfde3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A data structure for forwarding tables. </p>
<p>This <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> implementation stores values at their minimum required depth instead of always at depth 32. It's storage use is better than Trie0 and <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> 1, but is still suboptimal, even for this implementation. It can potentially be extended (at the cost of runtime reorganizations) to produce the fewest necessary nodes and/or CIDR-style routing entries.</p>
<p>NOTE: The CIDR address loading order limitations noted for Trie0 and Trie1 apply in reverse to this class as shorter CIDR addresses will replace longer ones already in the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>. For properly-ordered input, this has less overhead than Trie3, which supports unordered input but may propagate entries up/down the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> as necessary. </p>

<p>Definition at line <a class="el" href="trie2_8h_source.html#l00054">54</a> of file <a class="el" href="trie2_8h_source.html">trie2.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a8a138853be305e70fb5a1bd7b2c85eb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9">s3f::s3fnet::Trie::TrieType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enum containing <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> implementations. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a8a138853be305e70fb5a1bd7b2c85eb9af9cbfa34cf569adfc09db2b3121ba24e"></a>ORIGINAL</em>&#160;</td><td class="fielddoc">
<p>Very first <a class="el" href="namespaces3f_1_1s3fnet.html" title="Network Simulator developed based on the S3F Scalable Simulation Framework. ">s3fnet</a> <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> implementation. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a8a138853be305e70fb5a1bd7b2c85eb9a54d44ac160288696ddec6c025a8d5e10"></a>SIMPLE</em>&#160;</td><td class="fielddoc">
<p>Identical to ORIGINAL with minor fixes/enhancements. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a8a138853be305e70fb5a1bd7b2c85eb9a8dfbbc0de205c769a7d12642b2ece98e"></a>PREFIX</em>&#160;</td><td class="fielddoc">
<p>Stores values at minimum depth instead of depth equal to their bit-length (ie depth 32 for an ipv4 address). </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a8a138853be305e70fb5a1bd7b2c85eb9a9f1859b031694d2c5a423a2bafeedf25"></a>UNORDERED_PREFIX</em>&#160;</td><td class="fielddoc">
<p>Like PREFIX but can take CIDR-format IP address as input in any order. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a8a138853be305e70fb5a1bd7b2c85eb9a4c2fc60f314104b1982c2e2be9d5b4bc"></a>ARRAY_BACKED</em>&#160;</td><td class="fielddoc">
<p><a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> that stores indices into an array in its nodes (vs data IN the nodes). </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a8a138853be305e70fb5a1bd7b2c85eb9a10314668a03e53a385446ac74ef9c0e0"></a>ARRAY_BACKED_PREFIX</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a8a138853be305e70fb5a1bd7b2c85eb9ac30a8a4fa08462d58a23dc77364db75d"></a>ARRAY_BACKED_UNORDERED_PREFIX</em>&#160;</td><td class="fielddoc">
<p>PREFIX with array-backing (ARRAY_BACKED). </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="trie_8h_source.html#l00112">112</a> of file <a class="el" href="trie_8h_source.html">trie.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                      {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9af9cbfa34cf569adfc09db2b3121ba24e">ORIGINAL</a> = 0, </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a54d44ac160288696ddec6c025a8d5e10">SIMPLE</a> = 1, </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a8dfbbc0de205c769a7d12642b2ece98e">PREFIX</a> = 2, </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a9f1859b031694d2c5a423a2bafeedf25">UNORDERED_PREFIX</a> = 3, </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a4c2fc60f314104b1982c2e2be9d5b4bc">ARRAY_BACKED</a> = 4, </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a10314668a03e53a385446ac74ef9c0e0">ARRAY_BACKED_PREFIX</a> = 5, </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9ac30a8a4fa08462d58a23dc77364db75d">ARRAY_BACKED_UNORDERED_PREFIX</a> = 6 </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a4c2fc60f314104b1982c2e2be9d5b4bc"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a4c2fc60f314104b1982c2e2be9d5b4bc">s3f::s3fnet::Trie::ARRAY_BACKED</a></div><div class="ttdoc">Trie that stores indices into an array in its nodes (vs data IN the nodes). </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00117">trie.h:117</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a54d44ac160288696ddec6c025a8d5e10"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a54d44ac160288696ddec6c025a8d5e10">s3f::s3fnet::Trie::SIMPLE</a></div><div class="ttdoc">Identical to ORIGINAL with minor fixes/enhancements. </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00114">trie.h:114</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a10314668a03e53a385446ac74ef9c0e0"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a10314668a03e53a385446ac74ef9c0e0">s3f::s3fnet::Trie::ARRAY_BACKED_PREFIX</a></div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00118">trie.h:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a9f1859b031694d2c5a423a2bafeedf25"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a9f1859b031694d2c5a423a2bafeedf25">s3f::s3fnet::Trie::UNORDERED_PREFIX</a></div><div class="ttdoc">Like PREFIX but can take CIDR-format IP address as input in any order. </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00116">trie.h:116</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9af9cbfa34cf569adfc09db2b3121ba24e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9af9cbfa34cf569adfc09db2b3121ba24e">s3f::s3fnet::Trie::ORIGINAL</a></div><div class="ttdoc">Very first s3fnet Trie implementation. </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00113">trie.h:113</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a8dfbbc0de205c769a7d12642b2ece98e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a8dfbbc0de205c769a7d12642b2ece98e">s3f::s3fnet::Trie::PREFIX</a></div><div class="ttdoc">Stores values at minimum depth instead of depth equal to their bit-length (ie depth 32 for an ipv4 ad...</div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00115">trie.h:115</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9ac30a8a4fa08462d58a23dc77364db75d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9ac30a8a4fa08462d58a23dc77364db75d">s3f::s3fnet::Trie::ARRAY_BACKED_UNORDERED_PREFIX</a></div><div class="ttdoc">PREFIX with array-backing (ARRAY_BACKED). </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00119">trie.h:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae4f292d0b5cc95710f1c513066684c85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::trie2::Trie2::Trie2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The constructor. </p>

<p>Definition at line <a class="el" href="trie2_8cc_source.html#l00053">53</a> of file <a class="el" href="trie2_8cc_source.html">trie2.cc</a>.</p>

<p>References <a class="el" href="trie2_8h_source.html#l00119">root</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;             : <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">nElements</a>(0), <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a86a935a927d0f99b638cbcbdea43a413">last</a>(<span class="keyword">this</span>) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a> = <span class="keyword">new</span> TrieNode();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        assert(<a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_a86a935a927d0f99b638cbcbdea43a413"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a86a935a927d0f99b638cbcbdea43a413">s3f::s3fnet::trie2::Trie2::last</a></div><div class="ttdeci">iterator last</div><div class="ttdoc">Last item in iterator. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00258">trie2.h:258</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_af5ab057f4f46fcedb8a363b665858d3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">s3f::s3fnet::trie2::Trie2::root</a></div><div class="ttdeci">TrieNode * root</div><div class="ttdoc">The root of the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00119">trie2.h:119</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_ae009d2c42d707a3e491e8103ed5bfde3"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">s3f::s3fnet::trie2::Trie2::nElements</a></div><div class="ttdeci">int nElements</div><div class="ttdoc">Number of data elements stored in the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00122">trie2.h:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa0bf8aa904b18eb7f15748dcff681fd3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::trie2::Trie2::~Trie2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor. </p>

<p>Definition at line <a class="el" href="trie2_8cc_source.html#l00061">61</a> of file <a class="el" href="trie2_8cc_source.html">trie2.cc</a>.</p>

<p>References <a class="el" href="trie2_8cc_source.html#l00205">deallocate()</a>, <a class="el" href="trie2_8h_source.html#l00122">nElements</a>, and <a class="el" href="trie2_8h_source.html#l00119">root</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a1dc5f9cc828a37dec8e880b16eb86052">deallocate</a>(<a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">nElements</a> = 0;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_af5ab057f4f46fcedb8a363b665858d3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">s3f::s3fnet::trie2::Trie2::root</a></div><div class="ttdeci">TrieNode * root</div><div class="ttdoc">The root of the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00119">trie2.h:119</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_ae009d2c42d707a3e491e8103ed5bfde3"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">s3f::s3fnet::trie2::Trie2::nElements</a></div><div class="ttdeci">int nElements</div><div class="ttdoc">Number of data elements stored in the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00122">trie2.h:122</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_a1dc5f9cc828a37dec8e880b16eb86052"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a1dc5f9cc828a37dec8e880b16eb86052">s3f::s3fnet::trie2::Trie2::deallocate</a></div><div class="ttdeci">static void deallocate(TrieNode *theroot)</div><div class="ttdoc">Deallocate the trie recursively. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8cc_source.html#l00205">trie2.cc:205</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad15a75fe9613d98eb297ed2f791e4cb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> * s3f::s3fnet::trie2::Trie2::insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaces3f_1_1s3fnet.html#a3c2cafb7362ca342d00c677a85f73d1b">TRIEBITSTRING</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new (key, data) pair. </p>
<p>Adds a new (key, data) pair to the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>. If the key already exists, and if the replace flag is set, we will replace the old data with the new one and return the old data. If the replace flag is not set, the old data remains in the trie and the new data is returned. If the key does not exist in trie, the data will be inserted and the return value is 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key to insert </td></tr>
    <tr><td class="paramname">nBits</td><td>bits of the key to consider (useful for CIDR) </td></tr>
    <tr><td class="paramname">data</td><td>the <a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html" title="A generic data type for data stored in trie. ">TrieData</a> object to add </td></tr>
    <tr><td class="paramname">replace</td><td>whether to replace an existing value with the same key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL on success, otherwise the <a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html" title="A generic data type for data stored in trie. ">TrieData</a> object we attempted to insert (so reference is not lost) </dd></dl>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#aa7fd473e289ddf3f54603950d4052321">s3f::s3fnet::Trie</a>.</p>

<p>Definition at line <a class="el" href="trie2_8cc_source.html#l00070">70</a> of file <a class="el" href="trie2_8cc_source.html">trie2.cc</a>.</p>

<p>References <a class="el" href="ip__prefix_8h_source.html#l00132">s3f::s3fnet::IPPrefix::addr</a>, <a class="el" href="trie2_8h_source.html#l00288">s3f::s3fnet::trie2::TrieNode::children</a>, <a class="el" href="trie2_8h_source.html#l00285">s3f::s3fnet::trie2::TrieNode::data</a>, <a class="el" href="forwardingtable_8h_source.html#l00099">s3f::s3fnet::RouteInfo::destination</a>, <a class="el" href="trie_8h_source.html#l00068">s3f::s3fnet::TrieData::equiv()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, <a class="el" href="ip__prefix_8h_source.html#l00135">s3f::s3fnet::IPPrefix::len</a>, <a class="el" href="trie2_8h_source.html#l00122">nElements</a>, <a class="el" href="forwardingtable_8h_source.html#l00102">s3f::s3fnet::RouteInfo::next_hop</a>, <a class="el" href="trie2_8h_source.html#l00119">root</a>, <a class="el" href="trie2_8h_source.html#l00034">s3f::s3fnet::trie2::TRIE_BIT_MASK</a>, and <a class="el" href="trie_8h_source.html#l00028">TRIE_KEY_SIZE</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">if</span>(nBits &gt; <a class="code" href="trie_8h.html#a6e663b4490de2453273dfdb1711ccdc0">TRIE_KEY_SIZE</a>(key)) { <span class="comment">// the given mask is too long</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                fprintf(stderr, <span class="stringliteral">&quot;Invalid mask size %d\n&quot;</span>,nBits);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                nBits = <a class="code" href="trie_8h.html#a6e663b4490de2453273dfdb1711ccdc0">TRIE_KEY_SIZE</a>(key);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">        #ifdef TRIE2_DEBUG</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor"></span>        RouteInfo* data_ri = (RouteInfo*)data;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        printf(<span class="stringliteral">&quot;new route: %s/%d\n&quot;</span>,<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(data_ri-&gt;destination.addr),data_ri-&gt;destination.len);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        TrieNode* cur = <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        TrieNode* lastcur;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordtype">int</span> index;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">for</span>(i=0;cur;i++) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <span class="comment">// if we find a match</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <span class="keywordflow">if</span>(cur-&gt;data) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                        <span class="comment">// TODO: Tests indicate that true duplicates are still not always detected</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                        <span class="comment">// if this node already contains the correct forwarding data</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                        <span class="keywordflow">if</span>(data-&gt;equiv(cur-&gt;data)) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                <span class="keyword">delete</span> data; <span class="comment">// remove duplicate data (doesn&#39;t matter which since identical)</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                        <span class="comment">// if inserting to this exact point but data is different, we have a real conflict</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(nBits == i) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">                                #ifdef TRIE2_DEBUG</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor"></span>                                printf(<span class="stringliteral">&quot;CONFLICT!!!\n&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                RouteInfo* cur_ri = (RouteInfo*)cur-&gt;data;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                printf(<span class="stringliteral">&quot;old route: %s/%d\n&quot;</span>,<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(cur_ri-&gt;destination.addr),cur_ri-&gt;destination.len);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                printf(<span class="stringliteral">&quot;old next_hop: %s\n&quot;</span>,<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(cur_ri-&gt;next_hop));</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                printf(<span class="stringliteral">&quot;new next_hop: %s\n&quot;</span>,<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(data_ri-&gt;next_hop));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">                                #endif</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor"></span>                                <span class="keywordflow">if</span>(!replace) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                        <span class="keywordflow">return</span> data;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                TrieData* temp = cur-&gt;data;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                cur-&gt;data = data;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                <span class="keywordflow">return</span> temp;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                        }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="comment">// check next node</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                key &lt;&lt;= 1;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                lastcur = cur;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                index = (key &amp; <a class="code" href="namespaces3f_1_1s3fnet_1_1trie2.html#a20972abf79a23059ef16e0548d06c165">TRIE_BIT_MASK</a>)?1:0;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                cur = cur-&gt;children[index];</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">        #ifdef TRIE2_DEBUG</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor"></span>        printf(<span class="stringliteral">&quot;Stored at depth %d\n&quot;</span>,i); <span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">// cur is null, so lastcur is where we need to insert</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        lastcur-&gt;children[index] = <span class="keyword">new</span> TrieNode();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        lastcur-&gt;children[index]-&gt;data = data;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">nElements</a>++;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="ttc" id="trie_8h_html_a6e663b4490de2453273dfdb1711ccdc0"><div class="ttname"><a href="trie_8h.html#a6e663b4490de2453273dfdb1711ccdc0">TRIE_KEY_SIZE</a></div><div class="ttdeci">#define TRIE_KEY_SIZE(key)</div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00028">trie.h:28</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_af5ab057f4f46fcedb8a363b665858d3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">s3f::s3fnet::trie2::Trie2::root</a></div><div class="ttdeci">TrieNode * root</div><div class="ttdoc">The root of the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00119">trie2.h:119</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_ae009d2c42d707a3e491e8103ed5bfde3"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">s3f::s3fnet::trie2::Trie2::nElements</a></div><div class="ttdeci">int nElements</div><div class="ttdoc">Number of data elements stored in the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00122">trie2.h:122</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_1_1trie2_html_a20972abf79a23059ef16e0548d06c165"><div class="ttname"><a href="namespaces3f_1_1s3fnet_1_1trie2.html#a20972abf79a23059ef16e0548d06c165">s3f::s3fnet::trie2::TRIE_BIT_MASK</a></div><div class="ttdeci">const unsigned int TRIE_BIT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00034">trie2.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad5ac1102027a5bd2e474e58144b7f89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> * s3f::s3fnet::trie2::Trie2::remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaces3f_1_1s3fnet.html#a3c2cafb7362ca342d00c677a85f73d1b">TRIEBITSTRING</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nBits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a key from the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>. </p>
<p>Remove the key from the trie, if it exists, and returns the data corresponding to the removed key. If the key is not in the trie, return NULL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key to remove </td></tr>
    <tr><td class="paramname">nBits</td><td>bits of the key to consider </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the data correspoding to the key on success, otherwise NULL </dd></dl>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a9efe19d03a3cd65b799cc49b7816d830">s3f::s3fnet::Trie</a>.</p>

<p>Definition at line <a class="el" href="trie2_8cc_source.html#l00163">163</a> of file <a class="el" href="trie2_8cc_source.html">trie2.cc</a>.</p>

<p>References <a class="el" href="trie2_8h_source.html#l00288">s3f::s3fnet::trie2::TrieNode::children</a>, <a class="el" href="trie2_8h_source.html#l00285">s3f::s3fnet::trie2::TrieNode::data</a>, <a class="el" href="trie2_8h_source.html#l00119">root</a>, <a class="el" href="trie2_8h_source.html#l00034">s3f::s3fnet::trie2::TRIE_BIT_MASK</a>, and <a class="el" href="trie_8h_source.html#l00028">TRIE_KEY_SIZE</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                                    {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span>(nBits &gt; <a class="code" href="trie_8h.html#a6e663b4490de2453273dfdb1711ccdc0">TRIE_KEY_SIZE</a>(key)) { <span class="comment">// the given mask is too long</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                fprintf(stderr, <span class="stringliteral">&quot;Invalid mask size %d\n&quot;</span>,nBits);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                nBits = <a class="code" href="trie_8h.html#a6e663b4490de2453273dfdb1711ccdc0">TRIE_KEY_SIZE</a>(key);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        TrieNode* cur = <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        TrieNode* lastcur;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordtype">int</span> index;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="comment">// move to target depth</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">for</span>(i=0;cur &amp;&amp; i &lt; nBits;i++) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                key &lt;&lt;= 1;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                lastcur = cur;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                index = (key &amp; <a class="code" href="namespaces3f_1_1s3fnet_1_1trie2.html#a20972abf79a23059ef16e0548d06c165">TRIE_BIT_MASK</a>)?1:0;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                cur = cur-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a58f9e6b834406cc9fa91c2e8b28042f5">children</a>[index];</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="comment">// if there is a match at the proper depth</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">if</span>(cur &amp;&amp; cur-&gt;data) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                TrieData* olddata = cur-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a285c09ea1802372b82cbc4c317335d50">data</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                cur-&gt;data = 0;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="comment">// free this node if it is now a leaf</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">if</span>(cur-&gt;children[0] == NULL &amp;&amp; cur-&gt;children[1] == NULL) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        <span class="keyword">delete</span> lastcur-&gt;children[index];</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">return</span> olddata;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="comment">// no match was found at the given depth</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="ttc" id="trie_8h_html_a6e663b4490de2453273dfdb1711ccdc0"><div class="ttname"><a href="trie_8h.html#a6e663b4490de2453273dfdb1711ccdc0">TRIE_KEY_SIZE</a></div><div class="ttdeci">#define TRIE_KEY_SIZE(key)</div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00028">trie.h:28</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node_html_a58f9e6b834406cc9fa91c2e8b28042f5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a58f9e6b834406cc9fa91c2e8b28042f5">s3f::s3fnet::trie2::TrieNode::children</a></div><div class="ttdeci">TrieNode * children[TRIE_KEY_SPAN]</div><div class="ttdoc">Pointers to children nodes. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00288">trie2.h:288</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node_html_a285c09ea1802372b82cbc4c317335d50"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a285c09ea1802372b82cbc4c317335d50">s3f::s3fnet::trie2::TrieNode::data</a></div><div class="ttdeci">TrieData * data</div><div class="ttdoc">Data field. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00285">trie2.h:285</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_af5ab057f4f46fcedb8a363b665858d3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">s3f::s3fnet::trie2::Trie2::root</a></div><div class="ttdeci">TrieNode * root</div><div class="ttdoc">The root of the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00119">trie2.h:119</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_1_1trie2_html_a20972abf79a23059ef16e0548d06c165"><div class="ttname"><a href="namespaces3f_1_1s3fnet_1_1trie2.html#a20972abf79a23059ef16e0548d06c165">s3f::s3fnet::trie2::TRIE_BIT_MASK</a></div><div class="ttdeci">const unsigned int TRIE_BIT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00034">trie2.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a737ec9bec7f70802ed9c08c16acc199d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> * s3f::s3fnet::trie2::Trie2::lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaces3f_1_1s3fnet.html#a3c2cafb7362ca342d00c677a85f73d1b">TRIEBITSTRING</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a key in the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>. </p>
<p>Perform a longest-matching prefix search for the key and if found, places the data in pData. Otherwise, pData is NULL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key to lookup </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the data matching the key on success, otherwise NULL </dd></dl>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a9820fbea84200d3cd8b5028626f0a20f">s3f::s3fnet::Trie</a>.</p>

<p>Definition at line <a class="el" href="trie2_8cc_source.html#l00139">139</a> of file <a class="el" href="trie2_8cc_source.html">trie2.cc</a>.</p>

<p>References <a class="el" href="trie2_8h_source.html#l00288">s3f::s3fnet::trie2::TrieNode::children</a>, <a class="el" href="trie2_8h_source.html#l00285">s3f::s3fnet::trie2::TrieNode::data</a>, <a class="el" href="trie2_8h_source.html#l00119">root</a>, and <a class="el" href="trie2_8h_source.html#l00034">s3f::s3fnet::trie2::TRIE_BIT_MASK</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// If this Trie exists to call &#39;lookup&#39;, root has already been asserted as non-null</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  TrieNode* cur = <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a58f9e6b834406cc9fa91c2e8b28042f5">children</a>[(key &amp; <a class="code" href="namespaces3f_1_1s3fnet_1_1trie2.html#a20972abf79a23059ef16e0548d06c165">TRIE_BIT_MASK</a>)?1:0];</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  TrieData* pData = <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a285c09ea1802372b82cbc4c317335d50">data</a>; <span class="comment">// handles default-route case</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">while</span>(cur) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span>(cur-&gt;data) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                pData = cur-&gt;data;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        key &lt;&lt;= 1; <span class="comment">// needed from pre-loop lookup and removes last unnecessary shift</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    cur = cur-&gt;children[(key &amp; <a class="code" href="namespaces3f_1_1s3fnet_1_1trie2.html#a20972abf79a23059ef16e0548d06c165">TRIE_BIT_MASK</a>)?1:0];</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> pData;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node_html_a58f9e6b834406cc9fa91c2e8b28042f5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a58f9e6b834406cc9fa91c2e8b28042f5">s3f::s3fnet::trie2::TrieNode::children</a></div><div class="ttdeci">TrieNode * children[TRIE_KEY_SPAN]</div><div class="ttdoc">Pointers to children nodes. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00288">trie2.h:288</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node_html_a285c09ea1802372b82cbc4c317335d50"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a285c09ea1802372b82cbc4c317335d50">s3f::s3fnet::trie2::TrieNode::data</a></div><div class="ttdeci">TrieData * data</div><div class="ttdoc">Data field. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00285">trie2.h:285</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_af5ab057f4f46fcedb8a363b665858d3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">s3f::s3fnet::trie2::Trie2::root</a></div><div class="ttdeci">TrieNode * root</div><div class="ttdoc">The root of the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00119">trie2.h:119</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_1_1trie2_html_a20972abf79a23059ef16e0548d06c165"><div class="ttname"><a href="namespaces3f_1_1s3fnet_1_1trie2.html#a20972abf79a23059ef16e0548d06c165">s3f::s3fnet::trie2::TRIE_BIT_MASK</a></div><div class="ttdeci">const unsigned int TRIE_BIT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00034">trie2.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf1e5b162f3de6fbfb1a3d1f355abc3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html">TrieData</a> * s3f::s3fnet::trie2::Trie2::getDefault </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the default Route. </p>
<dl class="section return"><dt>Returns</dt><dd>an instance of the default route as a <a class="el" href="classs3f_1_1s3fnet_1_1_trie_data.html" title="A generic data type for data stored in trie. ">TrieData</a> object </dd></dl>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a758577983d032c1b841faf737f69940d">s3f::s3fnet::Trie</a>.</p>

<p>Definition at line <a class="el" href="trie2_8cc_source.html#l00197">197</a> of file <a class="el" href="trie2_8cc_source.html">trie2.cc</a>.</p>

<p>References <a class="el" href="trie2_8h_source.html#l00285">s3f::s3fnet::trie2::TrieNode::data</a>, and <a class="el" href="trie2_8h_source.html#l00119">root</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                            {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a>) <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">root</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a285c09ea1802372b82cbc4c317335d50">data</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node_html_a285c09ea1802372b82cbc4c317335d50"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html#a285c09ea1802372b82cbc4c317335d50">s3f::s3fnet::trie2::TrieNode::data</a></div><div class="ttdeci">TrieData * data</div><div class="ttdoc">Data field. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00285">trie2.h:285</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_af5ab057f4f46fcedb8a363b665858d3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#af5ab057f4f46fcedb8a363b665858d3a">s3f::s3fnet::trie2::Trie2::root</a></div><div class="ttdeci">TrieNode * root</div><div class="ttdoc">The root of the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00119">trie2.h:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5fd82ac42073341c3bfb8464559f9e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::trie2::Trie2::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of items in the trie. </p>
<dl class="section return"><dt>Returns</dt><dd>the size of the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> (generally the number of elements contained) </dd></dl>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a308055c37e161fc570d463940400eb97">s3f::s3fnet::Trie</a>.</p>

<p>Definition at line <a class="el" href="trie2_8h_source.html#l00109">109</a> of file <a class="el" href="trie2_8h_source.html">trie2.h</a>.</p>

<p>References <a class="el" href="trie2_8h_source.html#l00122">nElements</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">nElements</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_ae009d2c42d707a3e491e8103ed5bfde3"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#ae009d2c42d707a3e491e8103ed5bfde3">s3f::s3fnet::trie2::Trie2::nElements</a></div><div class="ttdeci">int nElements</div><div class="ttdoc">Number of data elements stored in the trie. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00122">trie2.h:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1dc5f9cc828a37dec8e880b16eb86052"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::trie2::Trie2::deallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html">TrieNode</a> *&#160;</td>
          <td class="paramname"><em>theroot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocate the trie recursively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theroot</td><td>the root entry of the <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> to free </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="trie2_8cc_source.html#l00205">205</a> of file <a class="el" href="trie2_8cc_source.html">trie2.cc</a>.</p>

<p>References <a class="el" href="trie2_8h_source.html#l00288">s3f::s3fnet::trie2::TrieNode::children</a>, and <a class="el" href="trie2_8h_source.html#l00033">s3f::s3fnet::trie2::TRIE_KEY_SPAN</a>.</p>

<p>Referenced by <a class="el" href="trie2_8cc_source.html#l00061">~Trie2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span>(theroot == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// deallocate all the children</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="namespaces3f_1_1s3fnet_1_1trie2.html#a0b14d1fcadc6c0d4eec2f1a86227403b">TRIE_KEY_SPAN</a>; i++) </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a1dc5f9cc828a37dec8e880b16eb86052">deallocate</a>(theroot-&gt;children[i]);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keyword">delete</span> theroot;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_1_1trie2_html_a0b14d1fcadc6c0d4eec2f1a86227403b"><div class="ttname"><a href="namespaces3f_1_1s3fnet_1_1trie2.html#a0b14d1fcadc6c0d4eec2f1a86227403b">s3f::s3fnet::trie2::TRIE_KEY_SPAN</a></div><div class="ttdeci">const unsigned int TRIE_KEY_SPAN</div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00033">trie2.h:33</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_a1dc5f9cc828a37dec8e880b16eb86052"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a1dc5f9cc828a37dec8e880b16eb86052">s3f::s3fnet::trie2::Trie2::deallocate</a></div><div class="ttdeci">static void deallocate(TrieNode *theroot)</div><div class="ttdoc">Deallocate the trie recursively. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8cc_source.html#l00205">trie2.cc:205</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1584e867e0a262cc97329e89f0fdbe65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_1_1iterator.html">Trie2::iterator</a> s3f::s3fnet::trie2::Trie2::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="trie2_8cc_source.html#l00380">380</a> of file <a class="el" href="trie2_8cc_source.html">trie2.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                           { </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  iterator first(<span class="keyword">this</span>); <span class="comment">// create iterator</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  ++first; <span class="comment">// find first element</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">return</span> first; <span class="comment">// return by copy</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a13a1f8d2d39af28e3afc158c97ddabf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_1_1iterator.html">iterator</a>&amp; s3f::s3fnet::trie2::Trie2::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="trie2_8h_source.html#l00269">269</a> of file <a class="el" href="trie2_8h_source.html">trie2.h</a>.</p>

<p>References <a class="el" href="trie2_8h_source.html#l00258">last</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a86a935a927d0f99b638cbcbdea43a413">last</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_html_a86a935a927d0f99b638cbcbdea43a413"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html#a86a935a927d0f99b638cbcbdea43a413">s3f::s3fnet::trie2::Trie2::last</a></div><div class="ttdeci">iterator last</div><div class="ttdoc">Last item in iterator. </div><div class="ttdef"><b>Definition:</b> <a href="trie2_8h_source.html#l00258">trie2.h:258</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af5ab057f4f46fcedb8a363b665858d3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie_node.html">TrieNode</a>* s3f::s3fnet::trie2::Trie2::root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The root of the trie. </p>

<p>Definition at line <a class="el" href="trie2_8h_source.html#l00119">119</a> of file <a class="el" href="trie2_8h_source.html">trie2.h</a>.</p>

<p>Referenced by <a class="el" href="trie2_8cc_source.html#l00197">getDefault()</a>, <a class="el" href="trie2_8cc_source.html#l00070">insert()</a>, <a class="el" href="trie2_8cc_source.html#l00139">lookup()</a>, <a class="el" href="trie2_8cc_source.html#l00163">remove()</a>, <a class="el" href="trie2_8cc_source.html#l00053">Trie2()</a>, and <a class="el" href="trie2_8cc_source.html#l00061">~Trie2()</a>.</p>

</div>
</div>
<a class="anchor" id="ae009d2c42d707a3e491e8103ed5bfde3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::trie2::Trie2::nElements</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of data elements stored in the trie. </p>

<p>Definition at line <a class="el" href="trie2_8h_source.html#l00122">122</a> of file <a class="el" href="trie2_8h_source.html">trie2.h</a>.</p>

<p>Referenced by <a class="el" href="trie2_8cc_source.html#l00070">insert()</a>, <a class="el" href="trie2_8h_source.html#l00109">size()</a>, and <a class="el" href="trie2_8cc_source.html#l00061">~Trie2()</a>.</p>

</div>
</div>
<a class="anchor" id="a86a935a927d0f99b638cbcbdea43a413"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2_1_1iterator.html">iterator</a> s3f::s3fnet::trie2::Trie2::last</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last item in iterator. </p>

<p>Definition at line <a class="el" href="trie2_8h_source.html#l00258">258</a> of file <a class="el" href="trie2_8h_source.html">trie2.h</a>.</p>

<p>Referenced by <a class="el" href="trie2_8h_source.html#l00269">end()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="trie2_8h_source.html">trie2.h</a></li>
<li><a class="el" href="trie2_8cc_source.html">trie2.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaces3f.html">s3f</a></li><li class="navelem"><a class="el" href="namespaces3f_1_1s3fnet.html">s3fnet</a></li><li class="navelem"><a class="el" href="namespaces3f_1_1s3fnet_1_1trie2.html">trie2</a></li><li class="navelem"><a class="el" href="classs3f_1_1s3fnet_1_1trie2_1_1_trie2.html">Trie2</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 00:36:04 for S3F by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
