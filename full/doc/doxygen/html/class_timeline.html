<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>S3F: Timeline Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">S3F
   &#160;<span id="projectnumber">2.1.0_full_version</span>
   </div>
   <div id="projectbrief">Simpler Scalable Simulation Framework + S3F-based Network Testbed (Simulation, OpenVZ-based Emulation, and OpenFlow-based SDN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_timeline.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_timeline-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Timeline Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> is a logical process in concept, and a pthread by implementation.  
 <a href="class_timeline.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="timeline_8h_source.html">timeline.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89e535626d789c393aca624d6e81db5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a89e535626d789c393aca624d6e81db5e">Timeline</a> (<a class="el" href="class_timeline_interface.html">TimelineInterface</a> *)</td></tr>
<tr class="memdesc:a89e535626d789c393aca624d6e81db5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">At creation a <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> is given a pointer to a data structure that is the interface between the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> and <a class="el" href="class_interface.html" title="A C++ program can build an S3F simulation and interact with it through an instance of some derivation...">Interface</a> objects.  <a href="#a89e535626d789c393aca624d6e81db5e">More...</a><br/></td></tr>
<tr class="separator:a89e535626d789c393aca624d6e81db5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206e9a2a47a5c5fb0c935054b891e6fe"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a206e9a2a47a5c5fb0c935054b891e6fe">~Timeline</a> ()</td></tr>
<tr class="separator:a206e9a2a47a5c5fb0c935054b891e6fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71314df64a061c5f6283cc3ff1d3b50a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a71314df64a061c5f6283cc3ff1d3b50a">now</a> ()</td></tr>
<tr class="memdesc:a71314df64a061c5f6283cc3ff1d3b50a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A timeline can be queried for the simulation time, either the time stamp of the last event executed, or (if the state is not RUNNING) the largest time in the synchronization window last completed.  <a href="#a71314df64a061c5f6283cc3ff1d3b50a">More...</a><br/></td></tr>
<tr class="separator:a71314df64a061c5f6283cc3ff1d3b50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc8dd2a695bb3817936e72f1517c5ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a1dc8dd2a695bb3817936e72f1517c5ea">horizon</a> ()</td></tr>
<tr class="memdesc:a1dc8dd2a695bb3817936e72f1517c5ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The synchronization horizon, the upper edge of the current synchronization window.  <a href="#a1dc8dd2a695bb3817936e72f1517c5ea">More...</a><br/></td></tr>
<tr class="separator:a1dc8dd2a695bb3817936e72f1517c5ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab115574b1b828cee37d988754d165822"><td class="memItemLeft" align="right" valign="top"><a class="el" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8">TimelineState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ab115574b1b828cee37d988754d165822">get_state</a> ()</td></tr>
<tr class="memdesc:ab115574b1b828cee37d988754d165822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports the state of the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>.  <a href="#ab115574b1b828cee37d988754d165822">More...</a><br/></td></tr>
<tr class="separator:ab115574b1b828cee37d988754d165822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae464fb0656e1f2b62d11d728962dfa57"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a> ()</td></tr>
<tr class="memdesc:ae464fb0656e1f2b62d11d728962dfa57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id for this timeline, between 0 and the number of created timelines minus 1.  <a href="#ae464fb0656e1f2b62d11d728962dfa57">More...</a><br/></td></tr>
<tr class="separator:ae464fb0656e1f2b62d11d728962dfa57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6567d1e02a1873ec03b828f3050c04e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a6567d1e02a1873ec03b828f3050c04e8">get_log_ticks_per_sec</a> ()</td></tr>
<tr class="memdesc:a6567d1e02a1873ec03b828f3050c04e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The simulation clock is a long integer.  <a href="#a6567d1e02a1873ec03b828f3050c04e8">More...</a><br/></td></tr>
<tr class="separator:a6567d1e02a1873ec03b828f3050c04e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf1216b6feef09b8c08e61133d2efd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_timeline_interface.html">TimelineInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#adbf1216b6feef09b8c08e61133d2efd1">get_timeline_interface</a> ()</td></tr>
<tr class="memdesc:adbf1216b6feef09b8c08e61133d2efd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the pointer of the <a class="el" href="class_timeline_interface.html" title="TimelineInterface is another helper class, that carries information from the Interface class instance...">TimelineInterface</a> class.  <a href="#adbf1216b6feef09b8c08e61133d2efd1">More...</a><br/></td></tr>
<tr class="separator:adbf1216b6feef09b8c08e61133d2efd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345add6ab6e65949a36763a8cf96f0e5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a345add6ab6e65949a36763a8cf96f0e5">thread_function</a> ()</td></tr>
<tr class="memdesc:a345add6ab6e65949a36763a8cf96f0e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the code body of the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> thread.  <a href="#a345add6ab6e65949a36763a8cf96f0e5">More...</a><br/></td></tr>
<tr class="separator:a345add6ab6e65949a36763a8cf96f0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a53806adf4a07d9de843bcafc077bb605"><td class="memItemLeft" align="right" valign="top">static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a53806adf4a07d9de843bcafc077bb605">timeline_class_mutex</a></td></tr>
<tr class="memdesc:a53806adf4a07d9de843bcafc077bb605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronizes access to __entity_list.  <a href="#a53806adf4a07d9de843bcafc077bb605">More...</a><br/></td></tr>
<tr class="separator:a53806adf4a07d9de843bcafc077bb605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47c5f160783ea2f10e8fbcaeb347183"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ae47c5f160783ea2f10e8fbcaeb347183">__num_timelines</a> = 0</td></tr>
<tr class="memdesc:ae47c5f160783ea2f10e8fbcaeb347183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates the number of <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> instances created.  <a href="#ae47c5f160783ea2f10e8fbcaeb347183">More...</a><br/></td></tr>
<tr class="separator:ae47c5f160783ea2f10e8fbcaeb347183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9562ac0621c2079c30d4b9bc216e91e7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a9562ac0621c2079c30d4b9bc216e91e7">default_sched_pri</a></td></tr>
<tr class="memdesc:a9562ac0621c2079c30d4b9bc216e91e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls to schedule that could provide a priority for same-time tie-breking but do not are given this default_sched_pri.  <a href="#a9562ac0621c2079c30d4b9bc216e91e7">More...</a><br/></td></tr>
<tr class="separator:a9562ac0621c2079c30d4b9bc216e91e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd555350491a860cfa04fb8c707f0a7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">min_sched_pri</a></td></tr>
<tr class="memdesc:aafd555350491a860cfa04fb8c707f0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">minimum possible scheduling priority, used only by a timeline, not a user priority  <a href="#aafd555350491a860cfa04fb8c707f0a7">More...</a><br/></td></tr>
<tr class="separator:aafd555350491a860cfa04fb8c707f0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af131ceb9fc6400fadc8be839ea45849f"><td class="memItemLeft" align="right" valign="top">static vector&lt; <a class="el" href="class_timeline.html">Timeline</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">timeline_adrs</a></td></tr>
<tr class="separator:af131ceb9fc6400fadc8be839ea45849f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a50dfbc98bbd97b7e2fac787993e704a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a50dfbc98bbd97b7e2fac787993e704a1">schedule</a> (<a class="el" href="class_process.html">Process</a> *, <a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>, unsigned int, <a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>)</td></tr>
<tr class="memdesc:a50dfbc98bbd97b7e2fac787993e704a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule the given process activation, at the given time, using the provided Activation record.  <a href="#a50dfbc98bbd97b7e2fac787993e704a1">More...</a><br/></td></tr>
<tr class="separator:a50dfbc98bbd97b7e2fac787993e704a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa860d5118b6c90771ebd43174cd0da3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aa860d5118b6c90771ebd43174cd0da3a">schedule</a> (<a class="el" href="class_in_channel.html">InChannel</a> *, <a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>, unsigned int, <a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>)</td></tr>
<tr class="memdesc:aa860d5118b6c90771ebd43174cd0da3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule the given arrival, at the given time, delivering the provided Activation record.  <a href="#aa860d5118b6c90771ebd43174cd0da3a">More...</a><br/></td></tr>
<tr class="separator:aa860d5118b6c90771ebd43174cd0da3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb32c7481a3d36665e49e0e7146aa23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a0cb32c7481a3d36665e49e0e7146aa23">schedule</a> (<a class="el" href="class_in_channel.html">InChannel</a> *, <a class="el" href="class_process.html">Process</a> *, bool, unsigned int)</td></tr>
<tr class="memdesc:a0cb32c7481a3d36665e49e0e7146aa23"><td class="mdescLeft">&#160;</td><td class="mdescRight">In order to avoid an infinite loop where an process that was activated by an arrival on an inchannel calls waitOn for that inchannel AGAIN and just gets picked again to execute, we <em>schedule</em> attachments to the inchannel's waiting list to occur after all the user events at the current execution time have taken place.  <a href="#a0cb32c7481a3d36665e49e0e7146aa23">More...</a><br/></td></tr>
<tr class="separator:a0cb32c7481a3d36665e49e0e7146aa23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061a7a45c3ef9c88389ba074927dadb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_process.html">Process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a061a7a45c3ef9c88389ba074927dadb7">get_running_proc</a> ()</td></tr>
<tr class="memdesc:a061a7a45c3ef9c88389ba074927dadb7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> variable __this points to the <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> currently executing (NULL if the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> state is not RUNNING).  <a href="#a061a7a45c3ef9c88389ba074927dadb7">More...</a><br/></td></tr>
<tr class="separator:a061a7a45c3ef9c88389ba074927dadb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c70d327d5338aa3d2b3f0f0b971598f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a7c70d327d5338aa3d2b3f0f0b971598f">next_time</a> ()</td></tr>
<tr class="memdesc:a7c70d327d5338aa3d2b3f0f0b971598f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the timestamp of the event with least timestamp of the two event-lists.  <a href="#a7c70d327d5338aa3d2b3f0f0b971598f">More...</a><br/></td></tr>
<tr class="separator:a7c70d327d5338aa3d2b3f0f0b971598f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add377a8842851f1e349a16432d0f596a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#add377a8842851f1e349a16432d0f596a">cross_timeline_delay</a> (<a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> d)</td></tr>
<tr class="memdesc:add377a8842851f1e349a16432d0f596a"><td class="mdescLeft">&#160;</td><td class="mdescRight">As mapto calls are made, each one that crosses timeline boundaries has its minimum delay value reported to the timeline, using this method.  <a href="#add377a8842851f1e349a16432d0f596a">More...</a><br/></td></tr>
<tr class="separator:add377a8842851f1e349a16432d0f596a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e361b3a004bcaa3998c711f00cd6ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ae9e361b3a004bcaa3998c711f00cd6ad">all_timeline_delay</a> (<a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>)</td></tr>
<tr class="separator:ae9e361b3a004bcaa3998c711f00cd6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadcf653d68c10c6939759bbfcf6ead4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aadcf653d68c10c6939759bbfcf6ead4f">same_timeline_delay</a> (<a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>)</td></tr>
<tr class="separator:aadcf653d68c10c6939759bbfcf6ead4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafaf894600116514fbd626215a4d38e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aafaf894600116514fbd626215a4d38e3">min_sync_cross_timeline_delay</a> (<a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> thrs)</td></tr>
<tr class="memdesc:aafaf894600116514fbd626215a4d38e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This computation finds among all OutChannels owned by Entities aligned to this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>, the smallest minimum delay no smaller than thrs among mappings to InChannels on other timelines.  <a href="#aafaf894600116514fbd626215a4d38e3">More...</a><br/></td></tr>
<tr class="separator:aafaf894600116514fbd626215a4d38e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad452fe488a2fce7d4cdc0dab196377d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ad452fe488a2fce7d4cdc0dab196377d7">min_sync_all_timeline_delay</a> (<a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> thrs)</td></tr>
<tr class="separator:ad452fe488a2fce7d4cdc0dab196377d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80787d758bb96209512ed0fc65f14970"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a80787d758bb96209512ed0fc65f14970">count_min_delay_crossings</a> (<a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>)</td></tr>
<tr class="memdesc:a80787d758bb96209512ed0fc65f14970"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the number of connections whose minimum delay values are no smaller than the argument.  <a href="#a80787d758bb96209512ed0fc65f14970">More...</a><br/></td></tr>
<tr class="separator:a80787d758bb96209512ed0fc65f14970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3df547fed4bc42cce22fe55825bf0eaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a3df547fed4bc42cce22fe55825bf0eaf">get_min_sync_cross_timeline_delay</a> ()</td></tr>
<tr class="memdesc:a3df547fed4bc42cce22fe55825bf0eaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of __min_sync_cross_timeline_delay.  <a href="#a3df547fed4bc42cce22fe55825bf0eaf">More...</a><br/></td></tr>
<tr class="separator:a3df547fed4bc42cce22fe55825bf0eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6e71dc6dad48c2c5084b4488c778c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a5b6e71dc6dad48c2c5084b4488c778c6">get_min_sync_all_timeline_delay</a> ()</td></tr>
<tr class="memdesc:a5b6e71dc6dad48c2c5084b4488c778c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of __min_sync_all_timeline_delay.  <a href="#a5b6e71dc6dad48c2c5084b4488c778c6">More...</a><br/></td></tr>
<tr class="separator:a5b6e71dc6dad48c2c5084b4488c778c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcac686b7e79a3f3147a30c12061cb0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a8dcac686b7e79a3f3147a30c12061cb0">get_min_sync_same_timeline_delay</a> ()</td></tr>
<tr class="memdesc:a8dcac686b7e79a3f3147a30c12061cb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of __min_sync_same_timeline_delay.  <a href="#a8dcac686b7e79a3f3147a30c12061cb0">More...</a><br/></td></tr>
<tr class="separator:a8dcac686b7e79a3f3147a30c12061cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd589747ad2cae7b41f943b543698d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a3dd589747ad2cae7b41f943b543698d8">initialize_appt</a> (bool, <a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>)</td></tr>
<tr class="separator:a3dd589747ad2cae7b41f943b543698d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9985daca5abaa0b09177338ef703d6"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#adf9985daca5abaa0b09177338ef703d6">get_nxt_handle</a> ()</td></tr>
<tr class="separator:adf9985daca5abaa0b09177338ef703d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69913c1aa4c0e541b8e1dcfd401dede8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a69913c1aa4c0e541b8e1dcfd401dede8">get_cross_timeline_events</a> ()</td></tr>
<tr class="memdesc:a69913c1aa4c0e541b8e1dcfd401dede8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes that cross timelines are buffered until the beginning of the next synchronization window; when buffered, a description of the write is placed in a list associated with the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> where the <a class="el" href="class_in_channel.html" title="An InChannel is the endpoint of connections made by an OutChannel&#39;s mapto call. ">InChannel</a> endpoint resides.  <a href="#a69913c1aa4c0e541b8e1dcfd401dede8">More...</a><br/></td></tr>
<tr class="separator:a69913c1aa4c0e541b8e1dcfd401dede8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb36671a2346cde1bf8d510940a22930"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#abb36671a2346cde1bf8d510940a22930">change_state</a> (<a class="el" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8">TimelineState</a> s)</td></tr>
<tr class="memdesc:abb36671a2346cde1bf8d510940a22930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> state variable __state to s.  <a href="#abb36671a2346cde1bf8d510940a22930">More...</a><br/></td></tr>
<tr class="separator:abb36671a2346cde1bf8d510940a22930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014e902a5594144f2d663608e3592c7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_in_channel.html">InChannel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a014e902a5594144f2d663608e3592c7e">get_activeChannel</a> ()</td></tr>
<tr class="separator:a014e902a5594144f2d663608e3592c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eaac91407baa81d45d73b2c17bf94ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a9eaac91407baa81d45d73b2c17bf94ed">put_activeChannel</a> (<a class="el" href="class_in_channel.html">InChannel</a> *inc)</td></tr>
<tr class="separator:a9eaac91407baa81d45d73b2c17bf94ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735c16a00000350fa15ede362a96c687"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a735c16a00000350fa15ede362a96c687">get_executed</a> ()</td></tr>
<tr class="separator:a735c16a00000350fa15ede362a96c687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee71f69cdc6f4ae4da09ed87036a0296"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aee71f69cdc6f4ae4da09ed87036a0296">get_work_executed</a> ()</td></tr>
<tr class="separator:aee71f69cdc6f4ae4da09ed87036a0296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53fd7bb6658b4fc0744e6e5e84f5f3ab"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a53fd7bb6658b4fc0744e6e5e84f5f3ab">get_sync_executed</a> ()</td></tr>
<tr class="separator:a53fd7bb6658b4fc0744e6e5e84f5f3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c08a36df0db509e3cbc731803ce23b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a1c08a36df0db509e3cbc731803ce23b6">sync_window</a> ()</td></tr>
<tr class="memdesc:a1c08a36df0db509e3cbc731803ce23b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The heart of the thread_body is code that establishes a synchronization window, and then all Timelines execute asynchronously up to the time established as an upper bound.  <a href="#a1c08a36df0db509e3cbc731803ce23b6">More...</a><br/></td></tr>
<tr class="separator:a1c08a36df0db509e3cbc731803ce23b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c2f105fa603c5aaaf55fa6bd29b2d82"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a2c2f105fa603c5aaaf55fa6bd29b2d82">global_continue</a> ()</td></tr>
<tr class="memdesc:a2c2f105fa603c5aaaf55fa6bd29b2d82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after a window synchronization to see if the conditions for continuing execution are meet.  <a href="#a2c2f105fa603c5aaaf55fa6bd29b2d82">More...</a><br/></td></tr>
<tr class="separator:a2c2f105fa603c5aaaf55fa6bd29b2d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee66c80ee46b152b867ed0d9d66ed4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a8ee66c80ee46b152b867ed0d9d66ed4a">select_next_event</a> (int &amp;evt_list, <a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> &amp;evt_time)</td></tr>
<tr class="memdesc:a8ee66c80ee46b152b867ed0d9d66ed4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select which event_list of the two (__events and __ve_sink_events) has the next event.  <a href="#a8ee66c80ee46b152b867ed0d9d66ed4a">More...</a><br/></td></tr>
<tr class="separator:a8ee66c80ee46b152b867ed0d9d66ed4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4faca913a12b1e663c6e809b8e8a1d89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a4faca913a12b1e663c6e809b8e8a1d89">sim_global_scheduler_one_epoch</a> ()</td></tr>
<tr class="separator:a4faca913a12b1e663c6e809b8e8a1d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d86331bb9d4518d988ff8971e85f49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a91d86331bb9d4518d988ff8971e85f49">sim_emu_global_scheduler_one_epoch</a> ()</td></tr>
<tr class="separator:a91d86331bb9d4518d988ff8971e85f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a4e5bb8bff7221a1526072b54de423"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a09a4e5bb8bff7221a1526072b54de423">ve_proxy_entity_potential_impact_time</a> ()</td></tr>
<tr class="separator:a09a4e5bb8bff7221a1526072b54de423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a890b73b5e4816dc7e320e83c8f6ed13f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a890b73b5e4816dc7e320e83c8f6ed13f">manual_binding_thread_to_core</a> ()</td></tr>
<tr class="separator:a890b73b5e4816dc7e320e83c8f6ed13f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad179370aedadf833a3ff23d70b05404e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8">TimelineState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ad179370aedadf833a3ff23d70b05404e">__state</a></td></tr>
<tr class="memdesc:ad179370aedadf833a3ff23d70b05404e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current state of the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>, (one of INITIALIZING, RUNNING, BLOCKED).  <a href="#ad179370aedadf833a3ff23d70b05404e">More...</a><br/></td></tr>
<tr class="separator:ad179370aedadf833a3ff23d70b05404e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d64aa26319c572cccdb1ef5fb547d4f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a0d64aa26319c572cccdb1ef5fb547d4f">__s3fid</a></td></tr>
<tr class="memdesc:a0d64aa26319c572cccdb1ef5fb547d4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s own id.  <a href="#a0d64aa26319c572cccdb1ef5fb547d4f">More...</a><br/></td></tr>
<tr class="separator:a0d64aa26319c572cccdb1ef5fb547d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558784ccc7eb808b27d037c127becbc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_process.html">Process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">__this</a></td></tr>
<tr class="memdesc:a558784ccc7eb808b27d037c127becbc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Just before a <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> body is executed, __this is set to point to the instance of the <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a>.  <a href="#a558784ccc7eb808b27d037c127becbc6">More...</a><br/></td></tr>
<tr class="separator:a558784ccc7eb808b27d037c127becbc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d228b3396137e6b7f52ff6c2c1cecd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_timeline_interface.html">TimelineInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a></td></tr>
<tr class="memdesc:aa1d228b3396137e6b7f52ff6c2c1cecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> is created an run, an s3f::Interface object has filled out information describing how it wishes the simulation to advance during the next epoch of time.  <a href="#aa1d228b3396137e6b7f52ff6c2c1cecd">More...</a><br/></td></tr>
<tr class="separator:aa1d228b3396137e6b7f52ff6c2c1cecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade34de3a6f57e058c3d1d9e0e00a0479"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="class_entity.html">Entity</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a></td></tr>
<tr class="memdesc:ade34de3a6f57e058c3d1d9e0e00a0479"><td class="mdescLeft">&#160;</td><td class="mdescRight">This list holds a pointer for every <a class="el" href="class_entity.html" title="In S3F the Entity object holds the simulation state, the methods that express the logic of the simula...">Entity</a> aligned to this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>.  <a href="#ade34de3a6f57e058c3d1d9e0e00a0479">More...</a><br/></td></tr>
<tr class="separator:ade34de3a6f57e058c3d1d9e0e00a0479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4250f651fa2bceb064867dab24aec7d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a></td></tr>
<tr class="memdesc:a4250f651fa2bceb064867dab24aec7d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum transfer delay among all cross-timeline channels in this timeline.  <a href="#a4250f651fa2bceb064867dab24aec7d9">More...</a><br/></td></tr>
<tr class="separator:a4250f651fa2bceb064867dab24aec7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc18b0d7c5bce675d3877be783026b19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">__min_sync_all_timeline_delay</a></td></tr>
<tr class="memdesc:adc18b0d7c5bce675d3877be783026b19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum transfer delay among all channels in this timeline (non-cross-timeline and cross-timeline).  <a href="#adc18b0d7c5bce675d3877be783026b19">More...</a><br/></td></tr>
<tr class="separator:adc18b0d7c5bce675d3877be783026b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f83d3e643fe6db2a2270efdfa87c5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">__min_sync_same_timeline_delay</a></td></tr>
<tr class="memdesc:a44f83d3e643fe6db2a2270efdfa87c5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum transfer delay among all non-cross-timeline channels in this timeline.  <a href="#a44f83d3e643fe6db2a2270efdfa87c5d">More...</a><br/></td></tr>
<tr class="separator:a44f83d3e643fe6db2a2270efdfa87c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac27780dfbb3a52b7fcfca3ec39cff3c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ac27780dfbb3a52b7fcfca3ec39cff3c6">__window_size</a></td></tr>
<tr class="separator:ac27780dfbb3a52b7fcfca3ec39cff3c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa43a733ecbe9c370c9cff3dda055fb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a9fa43a733ecbe9c370c9cff3dda055fb">__channels_at_minimum</a></td></tr>
<tr class="memdesc:a9fa43a733ecbe9c370c9cff3dda055fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">After __min_sync_cross_timeline_delay is computed, we count the number of connections whose minimum delay values are exactly this.  <a href="#a9fa43a733ecbe9c370c9cff3dda055fb">More...</a><br/></td></tr>
<tr class="separator:a9fa43a733ecbe9c370c9cff3dda055fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6287ee2bc5e8d0659038d3343a03f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a8e6287ee2bc5e8d0659038d3343a03f9">__recompute_min_delay</a></td></tr>
<tr class="memdesc:a8e6287ee2bc5e8d0659038d3343a03f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to false at the beginning of a synchronization window, __recompute_min_delay is set to true if a dynamically called mapto or an unmap call remove the last known connection with minimum delay value __min_sync_cross_timeline_delay.  <a href="#a8e6287ee2bc5e8d0659038d3343a03f9">More...</a><br/></td></tr>
<tr class="separator:a8e6287ee2bc5e8d0659038d3343a03f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e97f558f102b26b3e6297214508832c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a1e97f558f102b26b3e6297214508832c">__log_ticks_per_sec</a></td></tr>
<tr class="memdesc:a1e97f558f102b26b3e6297214508832c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scale factor for virtual time clock, gives the logarithm base 10 of the number of clock ticks (increment of 1 on the clock variable) in each virtual time second.  <a href="#a1e97f558f102b26b3e6297214508832c">More...</a><br/></td></tr>
<tr class="separator:a1e97f558f102b26b3e6297214508832c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa076d7991bd74619152d94ecebdac540"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a></td></tr>
<tr class="memdesc:aa076d7991bd74619152d94ecebdac540"><td class="mdescLeft">&#160;</td><td class="mdescRight">The virtual time up to which the timeline has advanced.  <a href="#aa076d7991bd74619152d94ecebdac540">More...</a><br/></td></tr>
<tr class="separator:aa076d7991bd74619152d94ecebdac540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47d951fe662a75c1b12345e2078d079d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a></td></tr>
<tr class="memdesc:a47d951fe662a75c1b12345e2078d079d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This holds the result of a window calculation by all simulation threads, establishing an upper bound on how far they may simulate this window.  <a href="#a47d951fe662a75c1b12345e2078d079d">More...</a><br/></td></tr>
<tr class="separator:a47d951fe662a75c1b12345e2078d079d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42997d966fb3466648974ce53823b34d"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a42997d966fb3466648974ce53823b34d">__window</a></td></tr>
<tr class="memdesc:a42997d966fb3466648974ce53823b34d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This integer keeps track of the number of synchronization windows that have been completed.  <a href="#a42997d966fb3466648974ce53823b34d">More...</a><br/></td></tr>
<tr class="separator:a42997d966fb3466648974ce53823b34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3315665827d6072cf8c55e001bbbe4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_in_channel.html">InChannel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ac3315665827d6072cf8c55e001bbbe4f">__activeChannel</a></td></tr>
<tr class="separator:ac3315665827d6072cf8c55e001bbbe4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02682ddecc00518833a5d53378fbcf04"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="event_8h.html#a867f7bbf1403b77a908ccdda0ac25920">EventPtr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a></td></tr>
<tr class="memdesc:a02682ddecc00518833a5d53378fbcf04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector holding description of cross timeline writes.  <a href="#a02682ddecc00518833a5d53378fbcf04">More...</a><br/></td></tr>
<tr class="separator:a02682ddecc00518833a5d53378fbcf04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4629935565db07fe5f26a6411d7745d"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a></td></tr>
<tr class="memdesc:aa4629935565db07fe5f26a6411d7745d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access to __window_list is guarded by mutex __events_mutex.  <a href="#aa4629935565db07fe5f26a6411d7745d">More...</a><br/></td></tr>
<tr class="separator:aa4629935565db07fe5f26a6411d7745d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe455ed8a85f9cd83e137c66b740958b"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#abe455ed8a85f9cd83e137c66b740958b">timeline_inst_mutex</a></td></tr>
<tr class="separator:abe455ed8a85f9cd83e137c66b740958b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a295571c42ca460810b89cd05ad296"><td class="memItemLeft" align="right" valign="top">pthread_cond_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">__appointment_cond_var</a></td></tr>
<tr class="memdesc:a10a295571c42ca460810b89cd05ad296"><td class="mdescLeft">&#160;</td><td class="mdescRight">When a timeline encounters an incoming appointment time from a timeline, whose time has not yet reached the appointment, it waits on this condition variable.  <a href="#a10a295571c42ca460810b89cd05ad296">More...</a><br/></td></tr>
<tr class="separator:a10a295571c42ca460810b89cd05ad296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5878d44c6e195ae9287a03e8d265371d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_timeline.html">Timeline</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a5878d44c6e195ae9287a03e8d265371d">__waiting_on_timeline</a></td></tr>
<tr class="memdesc:a5878d44c6e195ae9287a03e8d265371d"><td class="mdescLeft">&#160;</td><td class="mdescRight">When a timeline reaches an incoming appointment and finds that the timeline it awaits has not yet reached the synchronization point, it puts that <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s address in this variable and does a wait on the condition variable.  <a href="#a5878d44c6e195ae9287a03e8d265371d">More...</a><br/></td></tr>
<tr class="separator:a5878d44c6e195ae9287a03e8d265371d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8f4e1381eab4e9459accf0cc3a5367"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classmapped_channel.html">mappedChannel</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aea8f4e1381eab4e9459accf0cc3a5367">__channels_to_map</a></td></tr>
<tr class="memdesc:aea8f4e1381eab4e9459accf0cc3a5367"><td class="mdescLeft">&#160;</td><td class="mdescRight">When mapto is called during execution of the simulation it may be necessary to delay its implementation until the end of the current simulation window.  <a href="#aea8f4e1381eab4e9459accf0cc3a5367">More...</a><br/></td></tr>
<tr class="separator:aea8f4e1381eab4e9459accf0cc3a5367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c55c8b78872d5b625426e639f32e42"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classmapped_channel.html">mappedChannel</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a></td></tr>
<tr class="memdesc:a69c55c8b78872d5b625426e639f32e42"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="namespaces3f.html" title="S3F Scalable Simulation Framework. ">s3f</a> interface to OutChannels allows for dynamic adjustment to the minimum delay on some specified connection.  <a href="#a69c55c8b78872d5b625426e639f32e42">More...</a><br/></td></tr>
<tr class="separator:a69c55c8b78872d5b625426e639f32e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27618f55b539d967ed831a1e69fb491"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="timeline_8h.html#ac3fc8316a741e918966b83a5de7daee5">InAppointment</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a></td></tr>
<tr class="separator:ae27618f55b539d967ed831a1e69fb491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d57c7ddb9a5e5b0669d191d2904402c"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="timeline_8h.html#ac94ed1a22f0ec100131e9006ed33c13a">OutAppointment</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a></td></tr>
<tr class="separator:a8d57c7ddb9a5e5b0669d191d2904402c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1712faa3abf3316e1c24a52b249485"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_s_t_l___event_list.html">STL_EventList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a></td></tr>
<tr class="memdesc:aab1712faa3abf3316e1c24a52b249485"><td class="mdescLeft">&#160;</td><td class="mdescRight">The event list.  <a href="#aab1712faa3abf3316e1c24a52b249485">More...</a><br/></td></tr>
<tr class="separator:aab1712faa3abf3316e1c24a52b249485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed44892b8b1fd7c0519e63a81ce6cf45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_s_t_l___event_list.html">STL_EventList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a></td></tr>
<tr class="memdesc:aed44892b8b1fd7c0519e63a81ce6cf45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for integrated with openVZ-based network emulation.  <a href="#aed44892b8b1fd7c0519e63a81ce6cf45">More...</a><br/></td></tr>
<tr class="separator:aed44892b8b1fd7c0519e63a81ce6cf45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569d3ceb969616c4f72aab029677ff0a"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a569d3ceb969616c4f72aab029677ff0a">__handle_idx</a></td></tr>
<tr class="separator:a569d3ceb969616c4f72aab029677ff0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade5adf0a58bde5d74dff9c8f09db8c8e"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ade5adf0a58bde5d74dff9c8f09db8c8e">__executed</a></td></tr>
<tr class="separator:ade5adf0a58bde5d74dff9c8f09db8c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f08d67deef6ba4ba7c6cd12e7e7e90"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">__work_executed</a></td></tr>
<tr class="separator:ad4f08d67deef6ba4ba7c6cd12e7e7e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73082133c3afb03fcd16f954bbbd5b35"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a73082133c3afb03fcd16f954bbbd5b35">__sync_executed</a></td></tr>
<tr class="separator:a73082133c3afb03fcd16f954bbbd5b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a299d31d27b01f3ddcd807fabfaf1bb08"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a299d31d27b01f3ddcd807fabfaf1bb08">__executed_one_window</a></td></tr>
<tr class="separator:a299d31d27b01f3ddcd807fabfaf1bb08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1759c538b78327e89744b55c1101d94e"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">__work_executed_one_window</a></td></tr>
<tr class="separator:a1759c538b78327e89744b55c1101d94e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f9b72fa901315260c36c6ed6b751b5"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a17f9b72fa901315260c36c6ed6b751b5">__sync_executed_one_window</a></td></tr>
<tr class="separator:a17f9b72fa901315260c36c6ed6b751b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce6ac3c63d04da29e2becc05491bc65"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a></td></tr>
<tr class="separator:a7ce6ac3c63d04da29e2becc05491bc65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9903217271eed0c57c92ffcb0f587be4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">__no_global_check</a></td></tr>
<tr class="separator:a9903217271eed0c57c92ffcb0f587be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67559f1450aa3e1f473128cc88d481f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#aa67559f1450aa3e1f473128cc88d481f">t_prime</a></td></tr>
<tr class="memdesc:aa67559f1450aa3e1f473128cc88d481f"><td class="mdescLeft">&#160;</td><td class="mdescRight">time of first executed deliver-to-VE event in previous SSW  <a href="#aa67559f1450aa3e1f473128cc88d481f">More...</a><br/></td></tr>
<tr class="separator:aa67559f1450aa3e1f473128cc88d481f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a44ec365807f09c8872bdbbc986b3f14a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_timeline.html#a44ec365807f09c8872bdbbc986b3f14a">proxy_function</a> (void *)</td></tr>
<tr class="separator:a44ec365807f09c8872bdbbc986b3f14a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> is a logical process in concept, and a pthread by implementation. </p>
<p>Multiple S3F entities can be assigned to a timeline and thus being processed by a hardware core. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00051">51</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a89e535626d789c393aca624d6e81db5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Timeline::Timeline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_timeline_interface.html">TimelineInterface</a> *&#160;</td>
          <td class="paramname"><em>tli</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>At creation a <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> is given a pointer to a data structure that is the interface between the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> and <a class="el" href="class_interface.html" title="A C++ program can build an S3F simulation and interact with it through an instance of some derivation...">Interface</a> objects. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00020">20</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00437">__activeChannel</a>, <a class="el" href="timeline_8h_source.html#l00455">__appointment_cond_var</a>, <a class="el" href="timeline_8h_source.html#l00403">__channels_at_minimum</a>, <a class="el" href="timeline_8h_source.html#l00447">__events_mutex</a>, <a class="el" href="timeline_8h_source.html#l00503">__executed</a>, <a class="el" href="timeline_8h_source.html#l00506">__executed_one_window</a>, <a class="el" href="timeline_8h_source.html#l00502">__handle_idx</a>, <a class="el" href="timeline_8h_source.html#l00484">__in_appt</a>, <a class="el" href="timeline_8h_source.html#l00418">__log_ticks_per_sec</a>, <a class="el" href="timeline_8h_source.html#l00388">__min_sync_all_timeline_delay</a>, <a class="el" href="timeline_8h_source.html#l00385">__min_sync_cross_timeline_delay</a>, <a class="el" href="timeline_8h_source.html#l00391">__min_sync_same_timeline_delay</a>, <a class="el" href="timeline_8h_source.html#l00512">__no_global_check</a>, <a class="el" href="timeline_8h_source.html#l00534">__num_timelines</a>, <a class="el" href="timeline_8h_source.html#l00485">__out_appt</a>, <a class="el" href="timeline_8h_source.html#l00364">__s3fid</a>, <a class="el" href="timeline_8h_source.html#l00363">__state</a>, <a class="el" href="timeline_8h_source.html#l00505">__sync_executed</a>, <a class="el" href="timeline_8h_source.html#l00508">__sync_executed_one_window</a>, <a class="el" href="timeline_8h_source.html#l00371">__this</a>, <a class="el" href="timeline_8h_source.html#l00425">__time</a>, <a class="el" href="timeline_8h_source.html#l00504">__work_executed</a>, <a class="el" href="timeline_8h_source.html#l00507">__work_executed_one_window</a>, <a class="el" href="timeline_8h_source.html#l00542">default_sched_pri</a>, <a class="el" href="interface_8h_source.html#l00132">TimelineInterface::get_log_ticks_per_sec()</a>, <a class="el" href="interface_8h_source.html#l00150">TimelineInterface::get_next_action()</a>, <a class="el" href="interface_8h_source.html#l00134">TimelineInterface::get_numTimelines()</a>, <a class="el" href="timeline_8h_source.html#l00045">INITIALIZING</a>, <a class="el" href="timeline_8h_source.html#l00545">min_sched_pri</a>, <a class="el" href="interface_8h_source.html#l00042">STOP_FUNCTION</a>, <a class="el" href="timeline_8h_source.html#l00514">t_prime</a>, <a class="el" href="timeline_8h_source.html#l00546">timeline_adrs</a>, <a class="el" href="timeline_8h_source.html#l00528">timeline_class_mutex</a>, and <a class="el" href="timeline_8h_source.html#l00448">timeline_inst_mutex</a>.</p>
<div class="fragment"><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;                                          :</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;                         <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>(tli), <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>(0)  {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="comment">// mutex for Timeline state must be initialized</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        pthread_mutex_init(&amp;<a class="code" href="class_timeline.html#abe455ed8a85f9cd83e137c66b740958b">timeline_inst_mutex</a>, NULL);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="comment">// mutex guarding __window_list must be initialized</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        pthread_mutex_init(&amp;<a class="code" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a>,NULL); </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        pthread_cond_init(&amp;<a class="code" href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">__appointment_cond_var</a>, NULL);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="comment">// always start at time 0.  Change this?</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a> = 0;   </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="comment">// interface tells us what the timescale is, remember it                                  </span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="class_timeline.html#a1e97f558f102b26b3e6297214508832c">__log_ticks_per_sec</a> = tli-&gt;<a class="code" href="class_timeline_interface.html#af1abc2d9226a2e7c35755e1c1c8eb050">get_log_ticks_per_sec</a>();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="comment">// -1 means no meaningful value</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> = -1;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <a class="code" href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">__min_sync_all_timeline_delay</a> = -1;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <a class="code" href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">__min_sync_same_timeline_delay</a> = -1;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="class_timeline.html#a9fa43a733ecbe9c370c9cff3dda055fb">__channels_at_minimum</a> = 0;      </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="comment">// we always start in the initialization state, no process running</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <a class="code" href="class_timeline.html#ad179370aedadf833a3ff23d70b05404e">__state</a> = <a class="code" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a646fa15851d5e9f6784d044a50eef221">INITIALIZING</a>;                         </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">__this</a>  = NULL;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="class_timeline.html#ac3315665827d6072cf8c55e001bbbe4f">__activeChannel</a> = NULL;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="class_timeline.html#ade5adf0a58bde5d74dff9c8f09db8c8e">__executed</a> = <a class="code" href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">__work_executed</a> = <a class="code" href="class_timeline.html#a73082133c3afb03fcd16f954bbbd5b35">__sync_executed</a> = 0;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="class_timeline.html#a299d31d27b01f3ddcd807fabfaf1bb08">__executed_one_window</a> = <a class="code" href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">__work_executed_one_window</a> = <a class="code" href="class_timeline.html#a17f9b72fa901315260c36c6ed6b751b5">__sync_executed_one_window</a> = 0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">// the default scheduling priority from the user&#39;s perspective</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="comment">// is the largest unsigned integer you can represent in 16 bits</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="class_timeline.html#a9562ac0621c2079c30d4b9bc216e91e7">default_sched_pri</a> = (1&lt;&lt;16)-1;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="comment">// minimum scheduling priority from the system&#39;s perspective</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">min_sched_pri</a> = INT_MAX;        </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="class_timeline.html#a569d3ceb969616c4f72aab029677ff0a">__handle_idx</a> = 0;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="comment">// get a unique id for this timeline.  Just in case there</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="comment">// are multiple threads building timelines, protect the access</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="comment">// with the static Timeline class mutex</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        pthread_mutex_lock(&amp;<a class="code" href="class_timeline.html#a53806adf4a07d9de843bcafc077bb605">timeline_class_mutex</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="class_timeline.html#a0d64aa26319c572cccdb1ef5fb547d4f">__s3fid</a> = <a class="code" href="class_timeline.html#ae47c5f160783ea2f10e8fbcaeb347183">__num_timelines</a>++;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">timeline_adrs</a>.push_back(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        pthread_mutex_unlock(&amp;<a class="code" href="class_timeline.html#a53806adf4a07d9de843bcafc077bb605">timeline_class_mutex</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="comment">// initialize appointment vectors</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordtype">int</span> num_timelines = (int)tli-&gt;<a class="code" href="class_timeline_interface.html#a7727c958983b73c924cc6f9916cea0a7">get_numTimelines</a>();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>.resize(num_timelines);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>.resize(num_timelines);       </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="comment">// initialize flag indicating whether to call a timeline interface</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="comment">// function to see if a global termination condition has been met</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">if</span>( tli-&gt;<a class="code" href="class_timeline_interface.html#ad5af287bd7e0a8d7c5dd3a9270683710">get_next_action</a>() == <a class="code" href="interface_8h.html#a421abab5747e33e17b50474d039b110fad180483d2c47cab7e3a8b9a7371c31c5">STOP_FUNCTION</a> ) <a class="code" href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">__no_global_check</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">__no_global_check</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#ifdef OPENVZ_EMULATION_LOOKAHEAD</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor"></span>        ve_lookahead = -1;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor"></span>        <a class="code" href="class_timeline.html#aa67559f1450aa3e1f473128cc88d481f">t_prime</a> = 0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_ac3315665827d6072cf8c55e001bbbe4f"><div class="ttname"><a href="class_timeline.html#ac3315665827d6072cf8c55e001bbbe4f">Timeline::__activeChannel</a></div><div class="ttdeci">InChannel * __activeChannel</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00437">timeline.h:437</a></div></div>
<div class="ttc" id="class_timeline_html_a9562ac0621c2079c30d4b9bc216e91e7"><div class="ttname"><a href="class_timeline.html#a9562ac0621c2079c30d4b9bc216e91e7">Timeline::default_sched_pri</a></div><div class="ttdeci">static int default_sched_pri</div><div class="ttdoc">Calls to schedule that could provide a priority for same-time tie-breking but do not are given this d...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00542">timeline.h:542</a></div></div>
<div class="ttc" id="class_timeline_html_a17f9b72fa901315260c36c6ed6b751b5"><div class="ttname"><a href="class_timeline.html#a17f9b72fa901315260c36c6ed6b751b5">Timeline::__sync_executed_one_window</a></div><div class="ttdeci">unsigned long __sync_executed_one_window</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00508">timeline.h:508</a></div></div>
<div class="ttc" id="class_timeline_html_abe455ed8a85f9cd83e137c66b740958b"><div class="ttname"><a href="class_timeline.html#abe455ed8a85f9cd83e137c66b740958b">Timeline::timeline_inst_mutex</a></div><div class="ttdeci">pthread_mutex_t timeline_inst_mutex</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00448">timeline.h:448</a></div></div>
<div class="ttc" id="class_timeline_html_ade5adf0a58bde5d74dff9c8f09db8c8e"><div class="ttname"><a href="class_timeline.html#ade5adf0a58bde5d74dff9c8f09db8c8e">Timeline::__executed</a></div><div class="ttdeci">unsigned long __executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00503">timeline.h:503</a></div></div>
<div class="ttc" id="class_timeline_html_a53806adf4a07d9de843bcafc077bb605"><div class="ttname"><a href="class_timeline.html#a53806adf4a07d9de843bcafc077bb605">Timeline::timeline_class_mutex</a></div><div class="ttdeci">static pthread_mutex_t timeline_class_mutex</div><div class="ttdoc">Synchronizes access to __entity_list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00528">timeline.h:528</a></div></div>
<div class="ttc" id="class_timeline_html_a8d57c7ddb9a5e5b0669d191d2904402c"><div class="ttname"><a href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">Timeline::__out_appt</a></div><div class="ttdeci">vector&lt; OutAppointment &gt; __out_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00485">timeline.h:485</a></div></div>
<div class="ttc" id="class_timeline_html_a44f83d3e643fe6db2a2270efdfa87c5d"><div class="ttname"><a href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">Timeline::__min_sync_same_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_same_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all non-cross-timeline channels in this timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00391">timeline.h:391</a></div></div>
<div class="ttc" id="class_timeline_html_ad179370aedadf833a3ff23d70b05404e"><div class="ttname"><a href="class_timeline.html#ad179370aedadf833a3ff23d70b05404e">Timeline::__state</a></div><div class="ttdeci">TimelineState __state</div><div class="ttdoc">The current state of the Timeline, (one of INITIALIZING, RUNNING, BLOCKED). </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00363">timeline.h:363</a></div></div>
<div class="ttc" id="class_timeline_html_af131ceb9fc6400fadc8be839ea45849f"><div class="ttname"><a href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">Timeline::timeline_adrs</a></div><div class="ttdeci">static vector&lt; Timeline * &gt; timeline_adrs</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00546">timeline.h:546</a></div></div>
<div class="ttc" id="class_timeline_html_ae47c5f160783ea2f10e8fbcaeb347183"><div class="ttname"><a href="class_timeline.html#ae47c5f160783ea2f10e8fbcaeb347183">Timeline::__num_timelines</a></div><div class="ttdeci">static unsigned int __num_timelines</div><div class="ttdoc">Enumerates the number of Timeline instances created. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00534">timeline.h:534</a></div></div>
<div class="ttc" id="class_timeline_html_a9903217271eed0c57c92ffcb0f587be4"><div class="ttname"><a href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">Timeline::__no_global_check</a></div><div class="ttdeci">bool __no_global_check</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00512">timeline.h:512</a></div></div>
<div class="ttc" id="class_timeline_html_adc18b0d7c5bce675d3877be783026b19"><div class="ttname"><a href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">Timeline::__min_sync_all_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_all_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all channels in this timeline (non-cross-timeline and cross-timeline)...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00388">timeline.h:388</a></div></div>
<div class="ttc" id="class_timeline_html_a569d3ceb969616c4f72aab029677ff0a"><div class="ttname"><a href="class_timeline.html#a569d3ceb969616c4f72aab029677ff0a">Timeline::__handle_idx</a></div><div class="ttdeci">unsigned long __handle_idx</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00502">timeline.h:502</a></div></div>
<div class="ttc" id="class_timeline_html_a558784ccc7eb808b27d037c127becbc6"><div class="ttname"><a href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">Timeline::__this</a></div><div class="ttdeci">Process * __this</div><div class="ttdoc">Just before a Process body is executed, __this is set to point to the instance of the Process...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00371">timeline.h:371</a></div></div>
<div class="ttc" id="class_timeline_html_a73082133c3afb03fcd16f954bbbd5b35"><div class="ttname"><a href="class_timeline.html#a73082133c3afb03fcd16f954bbbd5b35">Timeline::__sync_executed</a></div><div class="ttdeci">unsigned long __sync_executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00505">timeline.h:505</a></div></div>
<div class="ttc" id="interface_8h_html_a421abab5747e33e17b50474d039b110fad180483d2c47cab7e3a8b9a7371c31c5"><div class="ttname"><a href="interface_8h.html#a421abab5747e33e17b50474d039b110fad180483d2c47cab7e3a8b9a7371c31c5">STOP_FUNCTION</a></div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00042">interface.h:42</a></div></div>
<div class="ttc" id="class_timeline_html_a0d64aa26319c572cccdb1ef5fb547d4f"><div class="ttname"><a href="class_timeline.html#a0d64aa26319c572cccdb1ef5fb547d4f">Timeline::__s3fid</a></div><div class="ttdeci">unsigned int __s3fid</div><div class="ttdoc">This Timeline&#39;s own id. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00364">timeline.h:364</a></div></div>
<div class="ttc" id="class_timeline_html_a9fa43a733ecbe9c370c9cff3dda055fb"><div class="ttname"><a href="class_timeline.html#a9fa43a733ecbe9c370c9cff3dda055fb">Timeline::__channels_at_minimum</a></div><div class="ttdeci">unsigned int __channels_at_minimum</div><div class="ttdoc">After __min_sync_cross_timeline_delay is computed, we count the number of connections whose minimum d...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00403">timeline.h:403</a></div></div>
<div class="ttc" id="class_timeline_html_aa076d7991bd74619152d94ecebdac540"><div class="ttname"><a href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">Timeline::__time</a></div><div class="ttdeci">ltime_t __time</div><div class="ttdoc">The virtual time up to which the timeline has advanced. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00425">timeline.h:425</a></div></div>
<div class="ttc" id="class_timeline_html_a7ce6ac3c63d04da29e2becc05491bc65"><div class="ttname"><a href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">Timeline::__evtnum</a></div><div class="ttdeci">unsigned int __evtnum</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00510">timeline.h:510</a></div></div>
<div class="ttc" id="class_timeline_html_aa1d228b3396137e6b7f52ff6c2c1cecd"><div class="ttname"><a href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">Timeline::__interface_control</a></div><div class="ttdeci">TimelineInterface * __interface_control</div><div class="ttdoc">When the Timeline is created an run, an s3f::Interface object has filled out information describing h...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00379">timeline.h:379</a></div></div>
<div class="ttc" id="class_timeline_html_aa4629935565db07fe5f26a6411d7745d"><div class="ttname"><a href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">Timeline::__events_mutex</a></div><div class="ttdeci">pthread_mutex_t __events_mutex</div><div class="ttdoc">Access to __window_list is guarded by mutex __events_mutex. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00447">timeline.h:447</a></div></div>
<div class="ttc" id="class_timeline_html_aafd555350491a860cfa04fb8c707f0a7"><div class="ttname"><a href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">Timeline::min_sched_pri</a></div><div class="ttdeci">static int min_sched_pri</div><div class="ttdoc">minimum possible scheduling priority, used only by a timeline, not a user priority ...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00545">timeline.h:545</a></div></div>
<div class="ttc" id="class_timeline_interface_html_ad5af287bd7e0a8d7c5dd3a9270683710"><div class="ttname"><a href="class_timeline_interface.html#ad5af287bd7e0a8d7c5dd3a9270683710">TimelineInterface::get_next_action</a></div><div class="ttdeci">next_action get_next_action()</div><div class="ttdoc">access to type of synchronization </div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00150">interface.h:150</a></div></div>
<div class="ttc" id="class_timeline_html_a1759c538b78327e89744b55c1101d94e"><div class="ttname"><a href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">Timeline::__work_executed_one_window</a></div><div class="ttdeci">unsigned long __work_executed_one_window</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00507">timeline.h:507</a></div></div>
<div class="ttc" id="class_timeline_interface_html_a7727c958983b73c924cc6f9916cea0a7"><div class="ttname"><a href="class_timeline_interface.html#a7727c958983b73c924cc6f9916cea0a7">TimelineInterface::get_numTimelines</a></div><div class="ttdeci">int get_numTimelines()</div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00134">interface.h:134</a></div></div>
<div class="ttc" id="class_timeline_html_aa67559f1450aa3e1f473128cc88d481f"><div class="ttname"><a href="class_timeline.html#aa67559f1450aa3e1f473128cc88d481f">Timeline::t_prime</a></div><div class="ttdeci">ltime_t t_prime</div><div class="ttdoc">time of first executed deliver-to-VE event in previous SSW </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00514">timeline.h:514</a></div></div>
<div class="ttc" id="class_timeline_html_a10a295571c42ca460810b89cd05ad296"><div class="ttname"><a href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">Timeline::__appointment_cond_var</a></div><div class="ttdeci">pthread_cond_t __appointment_cond_var</div><div class="ttdoc">When a timeline encounters an incoming appointment time from a timeline, whose time has not yet reach...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00455">timeline.h:455</a></div></div>
<div class="ttc" id="class_timeline_interface_html_af1abc2d9226a2e7c35755e1c1c8eb050"><div class="ttname"><a href="class_timeline_interface.html#af1abc2d9226a2e7c35755e1c1c8eb050">TimelineInterface::get_log_ticks_per_sec</a></div><div class="ttdeci">int get_log_ticks_per_sec()</div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00132">interface.h:132</a></div></div>
<div class="ttc" id="class_timeline_html_ad4f08d67deef6ba4ba7c6cd12e7e7e90"><div class="ttname"><a href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">Timeline::__work_executed</a></div><div class="ttdeci">unsigned long __work_executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00504">timeline.h:504</a></div></div>
<div class="ttc" id="class_timeline_html_a1e97f558f102b26b3e6297214508832c"><div class="ttname"><a href="class_timeline.html#a1e97f558f102b26b3e6297214508832c">Timeline::__log_ticks_per_sec</a></div><div class="ttdeci">int __log_ticks_per_sec</div><div class="ttdoc">Scale factor for virtual time clock, gives the logarithm base 10 of the number of clock ticks (increm...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00418">timeline.h:418</a></div></div>
<div class="ttc" id="class_timeline_html_ae27618f55b539d967ed831a1e69fb491"><div class="ttname"><a href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">Timeline::__in_appt</a></div><div class="ttdeci">vector&lt; InAppointment &gt; __in_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00484">timeline.h:484</a></div></div>
<div class="ttc" id="class_timeline_html_a299d31d27b01f3ddcd807fabfaf1bb08"><div class="ttname"><a href="class_timeline.html#a299d31d27b01f3ddcd807fabfaf1bb08">Timeline::__executed_one_window</a></div><div class="ttdeci">unsigned long __executed_one_window</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00506">timeline.h:506</a></div></div>
<div class="ttc" id="class_timeline_html_a4250f651fa2bceb064867dab24aec7d9"><div class="ttname"><a href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">Timeline::__min_sync_cross_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_cross_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all cross-timeline channels in this timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00385">timeline.h:385</a></div></div>
<div class="ttc" id="timeline_8h_html_a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a646fa15851d5e9f6784d044a50eef221"><div class="ttname"><a href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a646fa15851d5e9f6784d044a50eef221">INITIALIZING</a></div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00045">timeline.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a206e9a2a47a5c5fb0c935054b891e6fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Timeline::~Timeline </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01352">1352</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00455">__appointment_cond_var</a>, <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00447">__events_mutex</a>, <a class="el" href="timeline_8h_source.html#l00484">__in_appt</a>, <a class="el" href="timeline_8h_source.html#l00485">__out_appt</a>, <a class="el" href="timeline_8h_source.html#l00500">__ve_sink_events</a>, <a class="el" href="stl-eventlist_8h_source.html#l00036">STL_EventList::empty()</a>, <a class="el" href="stl-eventlist_8h_source.html#l00035">STL_EventList::pop()</a>, <a class="el" href="timeline_8h_source.html#l00076">s3fid()</a>, <a class="el" href="timeline_8h_source.html#l00528">timeline_class_mutex</a>, and <a class="el" href="timeline_8h_source.html#l00448">timeline_inst_mutex</a>.</p>
<div class="fragment"><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                     {  </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <span class="keywordflow">while</span>(!<a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>()) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a4c1eb446b80e1654f8254088207328e5">pop</a>();</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="keywordflow">while</span>(!<a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>()) {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a4c1eb446b80e1654f8254088207328e5">pop</a>();</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="comment">// destroy mutexes and cond_var</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>() ) pthread_mutex_destroy(&amp;<a class="code" href="class_timeline.html#a53806adf4a07d9de843bcafc077bb605">timeline_class_mutex</a>);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="preprocessor">#ifdef PTHREAD_BARRIER</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">if</span>( !<a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>() ) pthread_mutex_destroy(&amp;bottom_barrier_min_value_mutex);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>() ) pthread_mutex_destroy(&amp;emu_window_barrier_min_value_mutex);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="preprocessor"></span>        pthread_mutex_destroy(&amp;<a class="code" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a>);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        pthread_mutex_destroy(&amp;<a class="code" href="class_timeline.html#abe455ed8a85f9cd83e137c66b740958b">timeline_inst_mutex</a>);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        pthread_cond_destroy(&amp;<a class="code" href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">__appointment_cond_var</a>);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>.size(); i++) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                pthread_mutex_destroy(&amp;<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[i].appt_mutex);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>.size(); i++) {</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                pthread_mutex_destroy(&amp;<a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].appt_mutex);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;} </div>
<div class="ttc" id="class_s_t_l___event_list_html_a4c1eb446b80e1654f8254088207328e5"><div class="ttname"><a href="class_s_t_l___event_list.html#a4c1eb446b80e1654f8254088207328e5">STL_EventList::pop</a></div><div class="ttdeci">void pop()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00035">stl-eventlist.h:35</a></div></div>
<div class="ttc" id="class_timeline_html_ae464fb0656e1f2b62d11d728962dfa57"><div class="ttname"><a href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">Timeline::s3fid</a></div><div class="ttdeci">unsigned s3fid()</div><div class="ttdoc">Returns the id for this timeline, between 0 and the number of created timelines minus 1...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00076">timeline.h:76</a></div></div>
<div class="ttc" id="class_timeline_html_abe455ed8a85f9cd83e137c66b740958b"><div class="ttname"><a href="class_timeline.html#abe455ed8a85f9cd83e137c66b740958b">Timeline::timeline_inst_mutex</a></div><div class="ttdeci">pthread_mutex_t timeline_inst_mutex</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00448">timeline.h:448</a></div></div>
<div class="ttc" id="class_timeline_html_a53806adf4a07d9de843bcafc077bb605"><div class="ttname"><a href="class_timeline.html#a53806adf4a07d9de843bcafc077bb605">Timeline::timeline_class_mutex</a></div><div class="ttdeci">static pthread_mutex_t timeline_class_mutex</div><div class="ttdoc">Synchronizes access to __entity_list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00528">timeline.h:528</a></div></div>
<div class="ttc" id="class_timeline_html_a8d57c7ddb9a5e5b0669d191d2904402c"><div class="ttname"><a href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">Timeline::__out_appt</a></div><div class="ttdeci">vector&lt; OutAppointment &gt; __out_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00485">timeline.h:485</a></div></div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a67d759a21d4a3b046b1601cf880be647"><div class="ttname"><a href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">STL_EventList::empty</a></div><div class="ttdeci">bool empty()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00036">stl-eventlist.h:36</a></div></div>
<div class="ttc" id="class_timeline_html_aa4629935565db07fe5f26a6411d7745d"><div class="ttname"><a href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">Timeline::__events_mutex</a></div><div class="ttdeci">pthread_mutex_t __events_mutex</div><div class="ttdoc">Access to __window_list is guarded by mutex __events_mutex. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00447">timeline.h:447</a></div></div>
<div class="ttc" id="class_timeline_html_a10a295571c42ca460810b89cd05ad296"><div class="ttname"><a href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">Timeline::__appointment_cond_var</a></div><div class="ttdeci">pthread_cond_t __appointment_cond_var</div><div class="ttdoc">When a timeline encounters an incoming appointment time from a timeline, whose time has not yet reach...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00455">timeline.h:455</a></div></div>
<div class="ttc" id="class_timeline_html_ae27618f55b539d967ed831a1e69fb491"><div class="ttname"><a href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">Timeline::__in_appt</a></div><div class="ttdeci">vector&lt; InAppointment &gt; __in_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00484">timeline.h:484</a></div></div>
<div class="ttc" id="class_timeline_html_aed44892b8b1fd7c0519e63a81ce6cf45"><div class="ttname"><a href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">Timeline::__ve_sink_events</a></div><div class="ttdeci">STL_EventList __ve_sink_events</div><div class="ttdoc">Used for integrated with openVZ-based network emulation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00500">timeline.h:500</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a71314df64a061c5f6283cc3ff1d3b50a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::now </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A timeline can be queried for the simulation time, either the time stamp of the last event executed, or (if the state is not RUNNING) the largest time in the synchronization window last completed. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00067">67</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00425">__time</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00394">OutChannel::new_transfer_delay()</a>, <a class="el" href="entity_8cc_source.html#l00111">Entity::now()</a>, and <a class="el" href="timeline_8cc_source.html#l00223">schedule()</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>; }</div>
<div class="ttc" id="class_timeline_html_aa076d7991bd74619152d94ecebdac540"><div class="ttname"><a href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">Timeline::__time</a></div><div class="ttdeci">ltime_t __time</div><div class="ttdoc">The virtual time up to which the timeline has advanced. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00425">timeline.h:425</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1dc8dd2a695bb3817936e72f1517c5ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::horizon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The synchronization horizon, the upper edge of the current synchronization window. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00070">70</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00432">__stop_before</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00186">OutChannel::mapto()</a>, <a class="el" href="outchannel_8cc_source.html#l00474">OutChannel::new_min_write_delay()</a>, <a class="el" href="outchannel_8cc_source.html#l00394">OutChannel::new_transfer_delay()</a>, <a class="el" href="timeline_8cc_source.html#l00156">schedule()</a>, and <a class="el" href="outchannel_8cc_source.html#l00090">OutChannel::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a>; }</div>
<div class="ttc" id="class_timeline_html_a47d951fe662a75c1b12345e2078d079d"><div class="ttname"><a href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">Timeline::__stop_before</a></div><div class="ttdeci">ltime_t __stop_before</div><div class="ttdoc">This holds the result of a window calculation by all simulation threads, establishing an upper bound ...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00432">timeline.h:432</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab115574b1b828cee37d988754d165822"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8">TimelineState</a> Timeline::get_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reports the state of the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00073">73</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00363">__state</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00394">OutChannel::new_transfer_delay()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#ad179370aedadf833a3ff23d70b05404e">__state</a>; }</div>
<div class="ttc" id="class_timeline_html_ad179370aedadf833a3ff23d70b05404e"><div class="ttname"><a href="class_timeline.html#ad179370aedadf833a3ff23d70b05404e">Timeline::__state</a></div><div class="ttdeci">TimelineState __state</div><div class="ttdoc">The current state of the Timeline, (one of INITIALIZING, RUNNING, BLOCKED). </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00363">timeline.h:363</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae464fb0656e1f2b62d11d728962dfa57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned Timeline::s3fid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the id for this timeline, between 0 and the number of created timelines minus 1. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00076">76</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00364">__s3fid</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00156">schedule()</a>, <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, <a class="el" href="timeline_8cc_source.html#l00311">thread_function()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#a0d64aa26319c572cccdb1ef5fb547d4f">__s3fid</a>; }</div>
<div class="ttc" id="class_timeline_html_a0d64aa26319c572cccdb1ef5fb547d4f"><div class="ttname"><a href="class_timeline.html#a0d64aa26319c572cccdb1ef5fb547d4f">Timeline::__s3fid</a></div><div class="ttdeci">unsigned int __s3fid</div><div class="ttdoc">This Timeline&#39;s own id. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00364">timeline.h:364</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6567d1e02a1873ec03b828f3050c04e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Timeline::get_log_ticks_per_sec </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The simulation clock is a long integer. </p>
<p>When the <a class="el" href="class_interface.html" title="A C++ program can build an S3F simulation and interact with it through an instance of some derivation...">Interface</a> to the simulation is created, a scale factor describing the units is given in terms of the logarithm (base 10) of the number of integer ticks per second of virtual time. This methods reports that value. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00083">83</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00418">__log_ticks_per_sec</a>.</p>

<p>Referenced by <a class="el" href="entity_8cc_source.html#l00073">Entity::BuildEntity()</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#a1e97f558f102b26b3e6297214508832c">__log_ticks_per_sec</a>; }</div>
<div class="ttc" id="class_timeline_html_a1e97f558f102b26b3e6297214508832c"><div class="ttname"><a href="class_timeline.html#a1e97f558f102b26b3e6297214508832c">Timeline::__log_ticks_per_sec</a></div><div class="ttdeci">int __log_ticks_per_sec</div><div class="ttdoc">Scale factor for virtual time clock, gives the logarithm base 10 of the number of clock ticks (increm...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00418">timeline.h:418</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adbf1216b6feef09b8c08e61133d2efd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_timeline_interface.html">TimelineInterface</a>* Timeline::get_timeline_interface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the pointer of the <a class="el" href="class_timeline_interface.html" title="TimelineInterface is another helper class, that carries information from the Interface class instance...">TimelineInterface</a> class. </p>
<p>There is only one TimelineInterface*. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00088">88</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00379">__interface_control</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>; }</div>
<div class="ttc" id="class_timeline_html_aa1d228b3396137e6b7f52ff6c2c1cecd"><div class="ttname"><a href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">Timeline::__interface_control</a></div><div class="ttdeci">TimelineInterface * __interface_control</div><div class="ttdoc">When the Timeline is created an run, an s3f::Interface object has filled out information describing h...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00379">timeline.h:379</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a345add6ab6e65949a36763a8cf96f0e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * Timeline::thread_function </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the code body of the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> thread. </p>
<p>It synchronizes with other Timelines, it interacts with the event data structures, it calls the <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> functions associated with waitFor timeouts and waitOn deliveries.</p>
<p>A <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> is a pthread, and thread_function is the code body declared for it. All of <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> processing happens within this function or calls made from it.</p>
<p>The interface specifies an epoch of simulation time to cover, by specifying the simulation time to and beyond no <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> may advance. The timeline awaits that specification by engaging in a barrier synchronization with all other Timelines and the control thread on barrier variable "window_barrier".</p>
<p>The call starts by synchronizing with all other Timelines and the control thread through the "window_barrier" barrier construct. It blocks there until all <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> threads and the control thread have reached it. In particular, the control thread does not enter that barrier until it has put information about the first synchronization epoch in the the interface it provides.</p>
<p>The epoch is divided into a number of synchronization windows, constructed in such a way that during a synchronization window all Timelines may execute events asynchronously. After the upper edge of a synchronization window is computed, it is compared with the epoch stopping time. If the latter is smaller, the stopping point for that cycle becomes the epoch stopping time.</p>
<p>Execution of a synchronization window may cause events to be created on one <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>, to be executed on a different one. Such events are buffered in a list associated with the target <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>. Therefore, each synchronization window begins calling method <a class="el" href="class_timeline.html#a69913c1aa4c0e541b8e1dcfd401dede8" title="Writes that cross timelines are buffered until the beginning of the next synchronization window; when...">get_cross_timeline_events()</a> to transfer those events into the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s event list. After this is done the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s event list has all the events it will do in the coming window, and the next step is to compute the upper edge of the synchronization window.</p>
<p>Each <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> offers to a global min-reduction the sum of <br/>
 (i) The earliest time of any event in its event list, and <br/>
 (ii) The smallest minimum delay associated with any connection that crosses timelines and has the outchannel on this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>.</p>
<p>The minimum computed defines a time before which it is impossible for an event created on one timeline to have to be executed on another. That minimum is the upper edge of the synchronization window.</p>
<p>Once the window is defined, method <a class="el" href="class_timeline.html#a1c08a36df0db509e3cbc731803ce23b6" title="The heart of the thread_body is code that establishes a synchronization window, and then all Timeline...">sync_window()</a> is called to do all the processing associated with the window.</p>
<p>Different barrier variables are used to control the synchronization window, ones that only the Timelines use (as the control thread is waiting on the window_barrier instance for the epoch to finish.</p>
<p>On return from <a class="el" href="class_timeline.html#a1c08a36df0db509e3cbc731803ce23b6" title="The heart of the thread_body is code that establishes a synchronization window, and then all Timeline...">sync_window()</a> it may be necessary to implement mapto calls that could not be executed dynamically, and changes of minimum delays on connections that likewise could not be executed dynamically. As a result of these it may be necessary to recompute this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s smallest cross timeline minimum delay. Following this, the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> repeats the cycle for another synchronization window, or enters the window barrier again which synchronizes all <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> threads and the control thread, and releases the control thread when the epoch is completed. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00311">311</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00379">__interface_control</a>, <a class="el" href="timeline_8h_source.html#l00512">__no_global_check</a>, <a class="el" href="timeline_8h_source.html#l00425">__time</a>, <a class="el" href="interface_8h_source.html#l00150">TimelineInterface::get_next_action()</a>, <a class="el" href="interface_8h_source.html#l00146">TimelineInterface::get_stop_before()</a>, <a class="el" href="interface_8h_source.html#l00076">TimelineInterface::isOpenVZEmu</a>, <a class="el" href="timeline_8h_source.html#l00076">s3fid()</a>, <a class="el" href="class_timeline.html#a91d86331bb9d4518d988ff8971e85f49">sim_emu_global_scheduler_one_epoch()</a>, <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>, <a class="el" href="interface_8h_source.html#l00042">STOP_BEFORE_TIME</a>, and <a class="el" href="interface_8h_source.html#l00042">STOP_FUNCTION</a>.</p>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="comment">// variables used in the loop below</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> epoch_end;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">while</span>(1) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="comment">// wait for all Timelines to reach this, and the control thread</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="comment">// to put epoch information in the interface</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">#ifdef MUTEX_BARRIER</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor"></span>                <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;window_barrier.wait( -1 );</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef SCHED_YIELD_BARRIER</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor"></span>                <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;window_barrier.wait( <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), -1 );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef PTHREAD_BARRIER</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor"></span>                pthread_barrier_wait( &amp;(<a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;window_barrier) );</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor"></span>                <span class="comment">//</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="comment">// Before entering the top_barrier to release</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="comment">// the simulation threads, the control thread filled</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="comment">// out the interface with parameters describing</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="comment">// the first window</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                epoch_end = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#afad2586c3dcef248b0fde0c3813b724f">get_stop_before</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#ad5af287bd7e0a8d7c5dd3a9270683710">get_next_action</a>() == <a class="code" href="interface_8h.html#a421abab5747e33e17b50474d039b110fa383070d6534abb328ecda086fe784d55">STOP_BEFORE_TIME</a> )</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        <span class="comment">//not accidentally process any events after the epoch end</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        <span class="keywordflow">if</span>(epoch_end &lt;= <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>+1) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#ad5af287bd7e0a8d7c5dd3a9270683710">get_next_action</a>() == <a class="code" href="interface_8h.html#a421abab5747e33e17b50474d039b110fad180483d2c47cab7e3a8b9a7371c31c5">STOP_FUNCTION</a> )</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                        <a class="code" href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">__no_global_check</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <span class="keywordflow">else</span> <a class="code" href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">__no_global_check</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="comment">// enter the loop of doing synchronization windows until the full simulation epoch is covered.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#ifdef OPENVZ_EMULATION</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor"></span>                <span class="keywordflow">if</span>(<a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#a55081599064b93c6c8402c5457d90e62">isOpenVZEmu</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                        <a class="code" href="class_timeline.html#a91d86331bb9d4518d988ff8971e85f49">sim_emu_global_scheduler_one_epoch</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                        <a class="code" href="class_timeline.html#a4faca913a12b1e663c6e809b8e8a1d89">sim_global_scheduler_one_epoch</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor"></span>                <a class="code" href="class_timeline.html#a4faca913a12b1e663c6e809b8e8a1d89">sim_global_scheduler_one_epoch</a>();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)NULL;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_ae464fb0656e1f2b62d11d728962dfa57"><div class="ttname"><a href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">Timeline::s3fid</a></div><div class="ttdeci">unsigned s3fid()</div><div class="ttdoc">Returns the id for this timeline, between 0 and the number of created timelines minus 1...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00076">timeline.h:76</a></div></div>
<div class="ttc" id="class_timeline_interface_html_a55081599064b93c6c8402c5457d90e62"><div class="ttname"><a href="class_timeline_interface.html#a55081599064b93c6c8402c5457d90e62">TimelineInterface::isOpenVZEmu</a></div><div class="ttdeci">bool isOpenVZEmu</div><div class="ttdoc">whether S3F supports the openvz-based emulation </div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00076">interface.h:76</a></div></div>
<div class="ttc" id="class_timeline_interface_html_afad2586c3dcef248b0fde0c3813b724f"><div class="ttname"><a href="class_timeline_interface.html#afad2586c3dcef248b0fde0c3813b724f">TimelineInterface::get_stop_before</a></div><div class="ttdeci">ltime_t get_stop_before()</div><div class="ttdoc">access to epoch state variable </div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00146">interface.h:146</a></div></div>
<div class="ttc" id="class_timeline_html_a9903217271eed0c57c92ffcb0f587be4"><div class="ttname"><a href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">Timeline::__no_global_check</a></div><div class="ttdeci">bool __no_global_check</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00512">timeline.h:512</a></div></div>
<div class="ttc" id="class_timeline_html_a4faca913a12b1e663c6e809b8e8a1d89"><div class="ttname"><a href="class_timeline.html#a4faca913a12b1e663c6e809b8e8a1d89">Timeline::sim_global_scheduler_one_epoch</a></div><div class="ttdeci">void sim_global_scheduler_one_epoch()</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l00634">timeline.cc:634</a></div></div>
<div class="ttc" id="interface_8h_html_a421abab5747e33e17b50474d039b110fad180483d2c47cab7e3a8b9a7371c31c5"><div class="ttname"><a href="interface_8h.html#a421abab5747e33e17b50474d039b110fad180483d2c47cab7e3a8b9a7371c31c5">STOP_FUNCTION</a></div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00042">interface.h:42</a></div></div>
<div class="ttc" id="class_timeline_html_a91d86331bb9d4518d988ff8971e85f49"><div class="ttname"><a href="class_timeline.html#a91d86331bb9d4518d988ff8971e85f49">Timeline::sim_emu_global_scheduler_one_epoch</a></div><div class="ttdeci">void sim_emu_global_scheduler_one_epoch()</div></div>
<div class="ttc" id="interface_8h_html_a421abab5747e33e17b50474d039b110fa383070d6534abb328ecda086fe784d55"><div class="ttname"><a href="interface_8h.html#a421abab5747e33e17b50474d039b110fa383070d6534abb328ecda086fe784d55">STOP_BEFORE_TIME</a></div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00042">interface.h:42</a></div></div>
<div class="ttc" id="class_timeline_html_aa076d7991bd74619152d94ecebdac540"><div class="ttname"><a href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">Timeline::__time</a></div><div class="ttdeci">ltime_t __time</div><div class="ttdoc">The virtual time up to which the timeline has advanced. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00425">timeline.h:425</a></div></div>
<div class="ttc" id="class_timeline_html_aa1d228b3396137e6b7f52ff6c2c1cecd"><div class="ttname"><a href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">Timeline::__interface_control</a></div><div class="ttdeci">TimelineInterface * __interface_control</div><div class="ttdoc">When the Timeline is created an run, an s3f::Interface object has filled out information describing h...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00379">timeline.h:379</a></div></div>
<div class="ttc" id="class_timeline_interface_html_ad5af287bd7e0a8d7c5dd3a9270683710"><div class="ttname"><a href="class_timeline_interface.html#ad5af287bd7e0a8d7c5dd3a9270683710">TimelineInterface::get_next_action</a></div><div class="ttdeci">next_action get_next_action()</div><div class="ttdoc">access to type of synchronization </div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00150">interface.h:150</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50dfbc98bbd97b7e2fac787993e704a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a> Timeline::schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_process.html">Process</a> *&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>act</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Schedule the given process activation, at the given time, using the provided Activation record. </p>
<p>Return a handle for cancelation. Necessarily the process belongs to an entity aligned to this timeline, but this has not yet been checked. Throw an assertion if violated</p>
<p>A timeline can directly schedule the execution of a given <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> (if the <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> is owned by an <a class="el" href="class_entity.html" title="In S3F the Entity object holds the simulation state, the methods that express the logic of the simula...">Entity</a> aligned to this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>). An "Activation" is given as an argument to any <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> whose execution results. An Activation is a std::tr1::shared_ptr protecting a pointer to a message derived from base class <a class="el" href="class_message.html" title="Messages passed between connected OutChannels and InChannels. ">Message</a>. Its use alleviates issues of copying and deleting messages. The unsigned int is a priority used in tie-breaking activations scheduled at the same time. It return a "HandleCode" that can be used to cancel the action scheduled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>the process whose activation is scheduled </td></tr>
    <tr><td class="paramname">t</td><td>the time of the activation </td></tr>
    <tr><td class="paramname">pri</td><td>a priority used as a tie-breaker when events have the same base time </td></tr>
    <tr><td class="paramname">act</td><td>a smart pointer wrapper around an instance of a class derived from class <a class="el" href="class_message.html" title="Messages passed between connected OutChannels and InChannels. ">Message</a>, the payload. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00105">105</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00510">__evtnum</a>, <a class="el" href="entity_8cc_source.html#l00120">Entity::alignment()</a>, <a class="el" href="process_8h_source.html#l00050">Process::owner()</a>, and <a class="el" href="stl-eventlist_8h_source.html#l00034">STL_EventList::push()</a>.</p>

<p>Referenced by <a class="el" href="inchannel_8cc_source.html#l00131">InChannel::insertion_gateway()</a>, <a class="el" href="entity_8cc_source.html#l00148">Entity::waitFor()</a>, and <a class="el" href="outchannel_8cc_source.html#l00090">OutChannel::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                                  {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">// can only directly schedule a Process if its owner is on this timeline</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        assert( proc-&gt;<a class="code" href="class_process.html#acc2d0627fc1449b4b7a87ccac44a729b">owner</a>()-&gt;<a class="code" href="class_entity.html#ad14ad5194d746b4ded25c6de4f9266c6">alignment</a>() == this );</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="comment">// create a timeout event to be scheduled on this timeline,</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="class_event.html">Event</a>* e = <span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(t, pri, proc, act, <span class="keyword">this</span>, <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++);      </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span> (!e)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                printf (<span class="stringliteral">&quot;Timeline::schedule(), unable to allocate memory for TIMEOUT (probably) event\n&quot;</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                exit(0);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a> h = (<span class="keywordtype">void</span> *)e;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="class_event.html">EventPtr</a> eptr(e);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// push onto the priority queue</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( eptr );</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// return the handle.  The fact that it is a smart pointer</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="comment">// to an event is not part of the API, but is a useful</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="comment">//  implementation detail</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span> h;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="ttc" id="class_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdoc">Class Event holds all the information needed to execute an s3f event. </div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00056">event.h:56</a></div></div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_process_html_acc2d0627fc1449b4b7a87ccac44a729b"><div class="ttname"><a href="class_process.html#acc2d0627fc1449b4b7a87ccac44a729b">Process::owner</a></div><div class="ttdeci">Entity * owner()</div><div class="ttdoc">Returns a pointer to the Entity owning this Process. </div><div class="ttdef"><b>Definition:</b> <a href="process_8h_source.html#l00050">process.h:50</a></div></div>
<div class="ttc" id="class_entity_html_ad14ad5194d746b4ded25c6de4f9266c6"><div class="ttname"><a href="class_entity.html#ad14ad5194d746b4ded25c6de4f9266c6">Entity::alignment</a></div><div class="ttdeci">Timeline * alignment()</div><div class="ttdoc">Returns pointer to the Timeline on which this Entity is aligned. </div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00120">entity.cc:120</a></div></div>
<div class="ttc" id="class_timeline_html_a7ce6ac3c63d04da29e2becc05491bc65"><div class="ttname"><a href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">Timeline::__evtnum</a></div><div class="ttdeci">unsigned int __evtnum</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00510">timeline.h:510</a></div></div>
<div class="ttc" id="event_8h_html_aa50e09283f108feae5246e7af41e5450"><div class="ttname"><a href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a></div><div class="ttdeci">void * HandleCode</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00114">event.h:114</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a98845ad91d7df7488fcd7e7e48701b13"><div class="ttname"><a href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">STL_EventList::push</a></div><div class="ttdeci">void push(EventPtr n)</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00034">stl-eventlist.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa860d5118b6c90771ebd43174cd0da3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a> Timeline::schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_in_channel.html">InChannel</a> *&#160;</td>
          <td class="paramname"><em>ic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>act</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Schedule the given arrival, at the given time, delivering the provided Activation record. </p>
<p>Return a handle for cancelation.</p>
<p>A timeline can directly schedule the arrival of a message at an <a class="el" href="class_in_channel.html" title="An InChannel is the endpoint of connections made by an OutChannel&#39;s mapto call. ">InChannel</a> owned by an <a class="el" href="class_entity.html" title="In S3F the Entity object holds the simulation state, the methods that express the logic of the simula...">Entity</a> aligned to this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> at a given time. An "Activation" is given as an argument to any <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> whose execution results. An Activation is a std::tr1::shared_ptr protecting a pointer to a message derived from base class <a class="el" href="class_message.html" title="Messages passed between connected OutChannels and InChannels. ">Message</a>. Its use alleviates issues of copying and deleting messages. The unsigned int is a priority used in tie-breaking activations scheduled at the same time. It return a "HandleCode" that can be used to cancel the action scheduled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ic</td><td>the <a class="el" href="class_in_channel.html" title="An InChannel is the endpoint of connections made by an OutChannel&#39;s mapto call. ">InChannel</a> where the Activation will be delivered </td></tr>
    <tr><td class="paramname">t</td><td>is the time of the delivery </td></tr>
    <tr><td class="paramname">pri</td><td>is a priority used as a tie-breaker when events have the same base time </td></tr>
    <tr><td class="paramname">act</td><td>is a smart pointer wrapper around an instance of a class derived from class <a class="el" href="class_message.html" title="Messages passed between connected OutChannels and InChannels. ">Message</a>, the payload.</td></tr>
  </table>
  </dd>
</dl>
<p>If the <a class="el" href="class_in_channel.html" title="An InChannel is the endpoint of connections made by an OutChannel&#39;s mapto call. ">InChannel</a> is owned by an <a class="el" href="class_entity.html" title="In S3F the Entity object holds the simulation state, the methods that express the logic of the simula...">Entity</a> not aligned with this timeline, and the target time is at least as large as the horizon, put the <a class="el" href="class_event.html" title="Class Event holds all the information needed to execute an s3f event. ">Event</a> in a list for the target timeline. Otherwise place in a vector of Events associated with the OutAppointment </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00156">156</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00447">__events_mutex</a>, <a class="el" href="timeline_8h_source.html#l00510">__evtnum</a>, <a class="el" href="timeline_8h_source.html#l00485">__out_appt</a>, <a class="el" href="timeline_8h_source.html#l00425">__time</a>, <a class="el" href="timeline_8h_source.html#l00500">__ve_sink_events</a>, <a class="el" href="timeline_8h_source.html#l00444">__window_list</a>, <a class="el" href="inchannel_8h_source.html#l00070">InChannel::alignment()</a>, <a class="el" href="entity_8cc_source.html#l00120">Entity::alignment()</a>, <a class="el" href="event_8h_source.html#l00015">EVTYPE_ACTIVATE</a>, <a class="el" href="timeline_8h_source.html#l00070">horizon()</a>, <a class="el" href="inchannel_8h_source.html#l00112">InChannel::is_ve_attached()</a>, <a class="el" href="inchannel_8h_source.html#l00068">InChannel::owner()</a>, <a class="el" href="stl-eventlist_8h_source.html#l00034">STL_EventList::push()</a>, and <a class="el" href="timeline_8h_source.html#l00076">s3fid()</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                                  {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="comment">// if the activation is crossing timelines, do a reset to avoid</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">// thread unsafety problems</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="class_timeline.html">Timeline</a>* tgt = ic-&gt;<a class="code" href="class_in_channel.html#a1d52e74597915d4e167eb1b052349c5a">owner</a>()-&gt;<a class="code" href="class_entity.html#ad14ad5194d746b4ded25c6de4f9266c6">alignment</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="class_event.html">Event</a>* e =<span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(<a class="code" href="event_8h.html#afacd477b6aba9a0b0de30b5fef881096">EVTYPE_ACTIVATE</a>,t, 0, ic, act, NULL, tgt, <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="comment">// return a smart pointer to the event to be scheduled. That&#39;s the </span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">// handle for a cancelation.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a> h = (<span class="keywordtype">void</span> *)e;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="class_event.html">EventPtr</a> eptr(e);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// see if the target InChannel is on this timeline or not</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">if</span>( tgt != <span class="keyword">this</span> &amp;&amp; <a class="code" href="class_timeline.html#a1dc8dd2a695bb3817936e72f1517c5ea">horizon</a>() &lt;= t) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="comment">// going to a different timeline in a future window,</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <span class="comment">// so save it to be exchanged</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="comment">//  after the window synchronization has taken place</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="comment">// Access to this list must be serialized</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                pthread_mutex_lock( &amp;(tgt-&gt;<a class="code" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a>));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="comment">// Put the event in the buffer</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                tgt-&gt;<a class="code" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a>.push_back( eptr );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <span class="comment">// release the mutex</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                pthread_mutex_unlock( &amp;(tgt-&gt;<a class="code" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a>) );</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="comment">// we&#39;re done</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <span class="keywordflow">return</span> h;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        } </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span>( tgt != <span class="keyword">this</span> &amp;&amp; t &lt; <a class="code" href="class_timeline.html#a1dc8dd2a695bb3817936e72f1517c5ea">horizon</a>()) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="comment">// exchange this at the appointment structure. Get the target timeline</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="comment">// index</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                { <span class="keywordtype">int</span> tgt_tl = ic-&gt;<a class="code" href="class_in_channel.html#a516d4a7d9273018e36dae902a8b071bc">alignment</a>()-&gt;<a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                pthread_mutex_lock( &amp;<a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[tgt_tl].appt_mutex );</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor"></span>                printf(<span class="stringliteral">&quot;at %ld timeline %d pushes event (time %ld) on __out_appt[%d]\n&quot;</span>,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), t, tgt_tl);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor"></span>                <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[tgt_tl].events.push_back( eptr );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                pthread_mutex_unlock( &amp;<a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[tgt_tl].appt_mutex );</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">return</span> h;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">// the InChannel is owned by an entity aligned to this</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// timeline, so the event just goes onto the event list</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span>(ic-&gt;<a class="code" href="class_in_channel.html#a320a783b48d2f176d58e6166f4290a31">is_ve_attached</a>() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( eptr );</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a> ( eptr );</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="comment">// we&#39;re done</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">return</span> h;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_ae464fb0656e1f2b62d11d728962dfa57"><div class="ttname"><a href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">Timeline::s3fid</a></div><div class="ttdeci">unsigned s3fid()</div><div class="ttdoc">Returns the id for this timeline, between 0 and the number of created timelines minus 1...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00076">timeline.h:76</a></div></div>
<div class="ttc" id="class_in_channel_html_a516d4a7d9273018e36dae902a8b071bc"><div class="ttname"><a href="class_in_channel.html#a516d4a7d9273018e36dae902a8b071bc">InChannel::alignment</a></div><div class="ttdeci">Timeline * alignment()</div><div class="ttdoc">Returns a pointer to the Timeline on which the InChannel&#39;s owning entity is aligned. </div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8h_source.html#l00070">inchannel.h:70</a></div></div>
<div class="ttc" id="class_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdoc">Class Event holds all the information needed to execute an s3f event. </div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00056">event.h:56</a></div></div>
<div class="ttc" id="class_timeline_html_a8d57c7ddb9a5e5b0669d191d2904402c"><div class="ttname"><a href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">Timeline::__out_appt</a></div><div class="ttdeci">vector&lt; OutAppointment &gt; __out_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00485">timeline.h:485</a></div></div>
<div class="ttc" id="class_timeline_html"><div class="ttname"><a href="class_timeline.html">Timeline</a></div><div class="ttdoc">Timeline is a logical process in concept, and a pthread by implementation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00051">timeline.h:51</a></div></div>
<div class="ttc" id="class_in_channel_html_a1d52e74597915d4e167eb1b052349c5a"><div class="ttname"><a href="class_in_channel.html#a1d52e74597915d4e167eb1b052349c5a">InChannel::owner</a></div><div class="ttdeci">Entity * owner()</div><div class="ttdoc">Returns a pointer to the Entity that owns this InChannel. </div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8h_source.html#l00068">inchannel.h:68</a></div></div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_timeline_html_a02682ddecc00518833a5d53378fbcf04"><div class="ttname"><a href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">Timeline::__window_list</a></div><div class="ttdeci">vector&lt; EventPtr &gt; __window_list</div><div class="ttdoc">Vector holding description of cross timeline writes. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00444">timeline.h:444</a></div></div>
<div class="ttc" id="class_entity_html_ad14ad5194d746b4ded25c6de4f9266c6"><div class="ttname"><a href="class_entity.html#ad14ad5194d746b4ded25c6de4f9266c6">Entity::alignment</a></div><div class="ttdeci">Timeline * alignment()</div><div class="ttdoc">Returns pointer to the Timeline on which this Entity is aligned. </div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00120">entity.cc:120</a></div></div>
<div class="ttc" id="class_timeline_html_a1dc8dd2a695bb3817936e72f1517c5ea"><div class="ttname"><a href="class_timeline.html#a1dc8dd2a695bb3817936e72f1517c5ea">Timeline::horizon</a></div><div class="ttdeci">ltime_t horizon()</div><div class="ttdoc">The synchronization horizon, the upper edge of the current synchronization window. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00070">timeline.h:70</a></div></div>
<div class="ttc" id="class_timeline_html_aa076d7991bd74619152d94ecebdac540"><div class="ttname"><a href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">Timeline::__time</a></div><div class="ttdeci">ltime_t __time</div><div class="ttdoc">The virtual time up to which the timeline has advanced. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00425">timeline.h:425</a></div></div>
<div class="ttc" id="class_in_channel_html_a320a783b48d2f176d58e6166f4290a31"><div class="ttname"><a href="class_in_channel.html#a320a783b48d2f176d58e6166f4290a31">InChannel::is_ve_attached</a></div><div class="ttdeci">bool is_ve_attached()</div><div class="ttdoc">Whether the inchannel belongs to an entity host which is an openvz-based VE. </div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8h_source.html#l00112">inchannel.h:112</a></div></div>
<div class="ttc" id="class_timeline_html_a7ce6ac3c63d04da29e2becc05491bc65"><div class="ttname"><a href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">Timeline::__evtnum</a></div><div class="ttdeci">unsigned int __evtnum</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00510">timeline.h:510</a></div></div>
<div class="ttc" id="class_timeline_html_aa4629935565db07fe5f26a6411d7745d"><div class="ttname"><a href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">Timeline::__events_mutex</a></div><div class="ttdeci">pthread_mutex_t __events_mutex</div><div class="ttdoc">Access to __window_list is guarded by mutex __events_mutex. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00447">timeline.h:447</a></div></div>
<div class="ttc" id="event_8h_html_aa50e09283f108feae5246e7af41e5450"><div class="ttname"><a href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a></div><div class="ttdeci">void * HandleCode</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00114">event.h:114</a></div></div>
<div class="ttc" id="event_8h_html_afacd477b6aba9a0b0de30b5fef881096"><div class="ttname"><a href="event_8h.html#afacd477b6aba9a0b0de30b5fef881096">EVTYPE_ACTIVATE</a></div><div class="ttdeci">const unsigned int EVTYPE_ACTIVATE</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00015">event.h:15</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a98845ad91d7df7488fcd7e7e48701b13"><div class="ttname"><a href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">STL_EventList::push</a></div><div class="ttdeci">void push(EventPtr n)</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00034">stl-eventlist.h:34</a></div></div>
<div class="ttc" id="class_timeline_html_aed44892b8b1fd7c0519e63a81ce6cf45"><div class="ttname"><a href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">Timeline::__ve_sink_events</a></div><div class="ttdeci">STL_EventList __ve_sink_events</div><div class="ttdoc">Used for integrated with openVZ-based network emulation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00500">timeline.h:500</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0cb32c7481a3d36665e49e0e7146aa23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_in_channel.html">InChannel</a> *&#160;</td>
          <td class="paramname"><em>ic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_process.html">Process</a> *&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In order to avoid an infinite loop where an process that was activated by an arrival on an inchannel calls waitOn for that inchannel AGAIN and just gets picked again to execute, we <em>schedule</em> attachments to the inchannel's waiting list to occur after all the user events at the current execution time have taken place. </p>
<p>This version of schedule implements that. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00223">223</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00510">__evtnum</a>, <a class="el" href="timeline_8h_source.html#l00067">now()</a>, and <a class="el" href="stl-eventlist_8h_source.html#l00034">STL_EventList::push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                                                                   {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="class_event.html">Event</a>* e; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="comment">// create an event to happen immediately to implement the attachment </span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        e=<span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(<a class="code" href="class_timeline.html#a71314df64a061c5f6283cc3ff1d3b50a">now</a>(), pri, ic,proc,bind,pri,<span class="keyword">this</span>, <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="class_event.html">EventPtr</a> eptr(e);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a> (eptr);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="ttc" id="class_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdoc">Class Event holds all the information needed to execute an s3f event. </div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00056">event.h:56</a></div></div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_timeline_html_a71314df64a061c5f6283cc3ff1d3b50a"><div class="ttname"><a href="class_timeline.html#a71314df64a061c5f6283cc3ff1d3b50a">Timeline::now</a></div><div class="ttdeci">ltime_t now()</div><div class="ttdoc">A timeline can be queried for the simulation time, either the time stamp of the last event executed...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00067">timeline.h:67</a></div></div>
<div class="ttc" id="class_timeline_html_a7ce6ac3c63d04da29e2becc05491bc65"><div class="ttname"><a href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">Timeline::__evtnum</a></div><div class="ttdeci">unsigned int __evtnum</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00510">timeline.h:510</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a98845ad91d7df7488fcd7e7e48701b13"><div class="ttname"><a href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">STL_EventList::push</a></div><div class="ttdeci">void push(EventPtr n)</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00034">stl-eventlist.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a061a7a45c3ef9c88389ba074927dadb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_process.html">Process</a>* Timeline::get_running_proc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> variable __this points to the <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> currently executing (NULL if the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> state is not RUNNING). </p>
<p>This method returns that pointer. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00226">226</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00371">__this</a>.</p>

<p>Referenced by <a class="el" href="inchannel_8cc_source.html#l00197">InChannel::bind()</a>, <a class="el" href="inchannel_8cc_source.html#l00307">InChannel::is_bound()</a>, <a class="el" href="inchannel_8cc_source.html#l00340">InChannel::is_waiting()</a>, <a class="el" href="inchannel_8cc_source.html#l00236">InChannel::unbind()</a>, and <a class="el" href="inchannel_8cc_source.html#l00271">InChannel::unwaitOn()</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">__this</a>; }</div>
<div class="ttc" id="class_timeline_html_a558784ccc7eb808b27d037c127becbc6"><div class="ttname"><a href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">Timeline::__this</a></div><div class="ttdeci">Process * __this</div><div class="ttdoc">Just before a Process body is executed, __this is set to point to the instance of the Process...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00371">timeline.h:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7c70d327d5338aa3d2b3f0f0b971598f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::next_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the timestamp of the event with least timestamp of the two event-lists. </p>
<p>Return -1 if the __events and __ve_sink_events event-lists are empty. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00242">242</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00500">__ve_sink_events</a>, <a class="el" href="stl-eventlist_8h_source.html#l00036">STL_EventList::empty()</a>, and <a class="el" href="stl-eventlist_8h_source.html#l00038">STL_EventList::top()</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                            {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// return -1 if there are no events</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() &amp;&amp; <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() ) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() ) <span class="keywordflow">return</span> (<a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>())-&gt;get_time();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() ) <span class="keywordflow">return</span> (<a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>())-&gt;get_time();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">return</span> min( (<a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>())-&gt;get_time(), (<a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>())-&gt;get_time() );</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_ae93e2380b009a956696155ad9659ed77"><div class="ttname"><a href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">STL_EventList::top</a></div><div class="ttdeci">EventPtr top()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00038">stl-eventlist.h:38</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a67d759a21d4a3b046b1601cf880be647"><div class="ttname"><a href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">STL_EventList::empty</a></div><div class="ttdeci">bool empty()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00036">stl-eventlist.h:36</a></div></div>
<div class="ttc" id="class_timeline_html_aed44892b8b1fd7c0519e63a81ce6cf45"><div class="ttname"><a href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">Timeline::__ve_sink_events</a></div><div class="ttdeci">STL_EventList __ve_sink_events</div><div class="ttdoc">Used for integrated with openVZ-based network emulation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00500">timeline.h:500</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add377a8842851f1e349a16432d0f596a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::cross_timeline_delay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>As mapto calls are made, each one that crosses timeline boundaries has its minimum delay value reported to the timeline, using this method. </p>
<p>During initialization, mapto calls that cross timeline boundaries will call this method so that at the end of all the init() calls we know what __min_sync_cross_timeline_delay is. Recall that __min_sync_cross_timeline_delay is initialized to -1. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01392">1392</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00186">OutChannel::mapto()</a>.</p>
<div class="fragment"><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                                                 {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="comment">// change __min_sync_cross_timeline_delay if either this is</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        <span class="comment">// the first call to the method, or the offered delay</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="comment">// is smaller than the smallest seen so far</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">if</span>( (<a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> == -1) ||</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                        (delay &lt; <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a>) ) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> = delay;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_a4250f651fa2bceb064867dab24aec7d9"><div class="ttname"><a href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">Timeline::__min_sync_cross_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_cross_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all cross-timeline channels in this timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00385">timeline.h:385</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9e361b3a004bcaa3998c711f00cd6ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::all_timeline_delay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>delay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01405">1405</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00388">__min_sync_all_timeline_delay</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00186">OutChannel::mapto()</a>.</p>
<div class="fragment"><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                                               {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <span class="keywordflow">if</span>( (<a class="code" href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">__min_sync_all_timeline_delay</a> == -1) ||</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                        (delay &lt; <a class="code" href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">__min_sync_all_timeline_delay</a>) ) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                <a class="code" href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">__min_sync_all_timeline_delay</a> = delay;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_adc18b0d7c5bce675d3877be783026b19"><div class="ttname"><a href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">Timeline::__min_sync_all_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_all_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all channels in this timeline (non-cross-timeline and cross-timeline)...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00388">timeline.h:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadcf653d68c10c6939759bbfcf6ead4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::same_timeline_delay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>delay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01412">1412</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00391">__min_sync_same_timeline_delay</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00186">OutChannel::mapto()</a>.</p>
<div class="fragment"><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                                                {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordflow">if</span>( (<a class="code" href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">__min_sync_same_timeline_delay</a> == -1) ||</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                        (delay &lt; <a class="code" href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">__min_sync_same_timeline_delay</a>) ) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                <a class="code" href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">__min_sync_same_timeline_delay</a> = delay;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        }</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_a44f83d3e643fe6db2a2270efdfa87c5d"><div class="ttname"><a href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">Timeline::__min_sync_same_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_same_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all non-cross-timeline channels in this timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00391">timeline.h:391</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aafaf894600116514fbd626215a4d38e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::min_sync_cross_timeline_delay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>thrs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This computation finds among all OutChannels owned by Entities aligned to this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>, the smallest minimum delay no smaller than thrs among mappings to InChannels on other timelines. </p>
<p>The result of this computation is put into <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> variable __min_sync_cross_timeline_delay.</p>
<p>The thresholding is used to support the eventual inclusion of "Composite
Synchronization" described in</p>
<p>Nicol, David M., and Jason Liu. "Composite synchronization in parallel discrete-event simulation." Parallel and Distributed Systems, IEEE Transactions on 13.5 (2002): 433-446.</p>
<p>Using thrs &lt;=0 ensures that the overall minimum is found. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01429">1429</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00382">__entity_list</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>, and <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>
<div class="fragment"><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                                                            {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="comment">// initialize answer variable to &quot;nothing here&quot;</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> ans = -1;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <span class="comment">// buffer entity delay once computed</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> ent_delay = 0;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="comment">// number of entities to visit</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> end = <a class="code" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a>.size();</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="comment">// For each entity call its own min_sync_cross_timeline_delay method,</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="comment">// passing the same threshold.  Save it, and adjust ans if</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="comment">//   -- ans is initialized to -1, or</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="comment">//   -- the entity&#39;s minimum delay is at least as large as thrs, AND</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <span class="comment">//       is smaller than the working minimum</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;end; i++) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                ent_delay = <a class="code" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a>[i]-&gt;min_sync_cross_timeline_delay(thrs);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                <span class="keywordflow">if</span>(ent_delay != -1) <span class="comment">// -1 means everything is on the same timeline</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                {</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                        <span class="keywordflow">if</span>( thrs&lt;= ent_delay &amp;&amp; ((ans&lt;0) || (ent_delay&lt;ans))) ans = ent_delay;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                }</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_ade34de3a6f57e058c3d1d9e0e00a0479"><div class="ttname"><a href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">Timeline::__entity_list</a></div><div class="ttdeci">vector&lt; Entity * &gt; __entity_list</div><div class="ttdoc">This list holds a pointer for every Entity aligned to this Timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00382">timeline.h:382</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad452fe488a2fce7d4cdc0dab196377d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::min_sync_all_timeline_delay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>thrs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01456">1456</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00382">__entity_list</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                                                          {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="comment">// initialize answer variable to &quot;nothing here&quot;</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> ans = -1;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="comment">// buffer entity delay once computed</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> ent_delay = 0;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <span class="comment">// number of entities to visit</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> end = <a class="code" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a>.size();</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="comment">// For each entity call its own min_sync_cross_timeline_delay method,</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        <span class="comment">// passing the same threshold.  Save it, and adjust ans if</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <span class="comment">//   -- ans is initialized to -1, or</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <span class="comment">//   -- the entity&#39;s minimum delay is at least as large as thrs, AND</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="comment">//       is smaller than the working minimum</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;end; i++) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                ent_delay = <a class="code" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a>[i]-&gt;min_sync_all_timeline_delay(thrs);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                <span class="keywordflow">if</span>(ent_delay != -1) <span class="comment">// -1 means everything is on the same timeline</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                        <span class="keywordflow">if</span>( thrs&lt;= ent_delay &amp;&amp; ((ans&lt;0) || (ent_delay&lt;ans))) ans = ent_delay;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        }</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_ade34de3a6f57e058c3d1d9e0e00a0479"><div class="ttname"><a href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">Timeline::__entity_list</a></div><div class="ttdeci">vector&lt; Entity * &gt; __entity_list</div><div class="ttdoc">This list holds a pointer for every Entity aligned to this Timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00382">timeline.h:382</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a80787d758bb96209512ed0fc65f14970"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Timeline::count_min_delay_crossings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>thrs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count the number of connections whose minimum delay values are no smaller than the argument. </p>
<p>Result is stored in variable __channels_at_minimum. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01492">1492</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00382">__entity_list</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>, and <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>
<div class="fragment"><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                                                             {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="comment">// initialize running total</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ans = 0;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="comment">// number of entities to visit</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> end = <a class="code" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a>.size();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <span class="comment">// each entity will count the number of such channels it has</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <span class="comment">// and return the values</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;end; i++) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                ans += <a class="code" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a>[i]-&gt;count_min_delay_crossings(thrs);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="comment">// return summation</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_ade34de3a6f57e058c3d1d9e0e00a0479"><div class="ttname"><a href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">Timeline::__entity_list</a></div><div class="ttdeci">vector&lt; Entity * &gt; __entity_list</div><div class="ttdoc">This list holds a pointer for every Entity aligned to this Timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00382">timeline.h:382</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3df547fed4bc42cce22fe55825bf0eaf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::get_min_sync_cross_timeline_delay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the value of __min_sync_cross_timeline_delay. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00277">277</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00385">__min_sync_cross_timeline_delay</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00394">OutChannel::new_transfer_delay()</a>.</p>
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a>; }</div>
<div class="ttc" id="class_timeline_html_a4250f651fa2bceb064867dab24aec7d9"><div class="ttname"><a href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">Timeline::__min_sync_cross_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_cross_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all cross-timeline channels in this timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00385">timeline.h:385</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b6e71dc6dad48c2c5084b4488c778c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::get_min_sync_all_timeline_delay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the value of __min_sync_all_timeline_delay. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00280">280</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00388">__min_sync_all_timeline_delay</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">__min_sync_all_timeline_delay</a>; }</div>
<div class="ttc" id="class_timeline_html_adc18b0d7c5bce675d3877be783026b19"><div class="ttname"><a href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">Timeline::__min_sync_all_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_all_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all channels in this timeline (non-cross-timeline and cross-timeline)...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00388">timeline.h:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8dcac686b7e79a3f3147a30c12061cb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::get_min_sync_same_timeline_delay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the value of __min_sync_same_timeline_delay. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00283">283</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00391">__min_sync_same_timeline_delay</a>.</p>
<div class="fragment"><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">__min_sync_same_timeline_delay</a>; }</div>
<div class="ttc" id="class_timeline_html_a44f83d3e643fe6db2a2270efdfa87c5d"><div class="ttname"><a href="class_timeline.html#a44f83d3e643fe6db2a2270efdfa87c5d">Timeline::__min_sync_same_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_same_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all non-cross-timeline channels in this timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00391">timeline.h:391</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3dd589747ad2cae7b41f943b543698d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::initialize_appt </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>thrs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01511">1511</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00455">__appointment_cond_var</a>, <a class="el" href="timeline_8h_source.html#l00382">__entity_list</a>, <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00447">__events_mutex</a>, <a class="el" href="timeline_8h_source.html#l00510">__evtnum</a>, <a class="el" href="timeline_8h_source.html#l00484">__in_appt</a>, <a class="el" href="outchannel_8h_source.html#l00262">OutChannel::__mapped_to</a>, <a class="el" href="timeline_8h_source.html#l00534">__num_timelines</a>, <a class="el" href="timeline_8h_source.html#l00485">__out_appt</a>, <a class="el" href="entity_8h_source.html#l00279">Entity::__outchannel_list</a>, <a class="el" href="timeline_8h_source.html#l00393">__window_size</a>, <a class="el" href="event_8h_source.html#l00018">EVTYPE_MAKE_APPT</a>, <a class="el" href="event_8h_source.html#l00017">EVTYPE_WAIT_APPT</a>, <a class="el" href="timeline_8h_source.html#l00545">min_sched_pri</a>, <a class="el" href="outchannel_8h_source.html#l00147">OutChannel::min_write_delay()</a>, <a class="el" href="stl-eventlist_8h_source.html#l00034">STL_EventList::push()</a>, <a class="el" href="timeline_8h_source.html#l00076">s3fid()</a>, and <a class="el" href="timeline_8h_source.html#l00546">timeline_adrs</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                                                       {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <a class="code" href="class_timeline.html#ac27780dfbb3a52b7fcfca3ec39cff3c6">__window_size</a> = thrs;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <span class="keywordflow">if</span>(first) pthread_cond_init(&amp;<a class="code" href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">__appointment_cond_var</a>, NULL);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_timeline.html#ae47c5f160783ea2f10e8fbcaeb347183">__num_timelines</a>; i++) {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <span class="keywordflow">if</span>(first) pthread_mutex_init(&amp;<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[i].appt_mutex, NULL);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                <span class="keywordflow">if</span>(first) pthread_mutex_init(&amp;<a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].appt_mutex, NULL);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[i].waiting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[i].appointment = -1;   <span class="comment">// flag for uninitialized</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].lookahead  = -1;   <span class="comment">// flag for uninitialized</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="comment">// work through all cross-timeline channels, to determine</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <span class="comment">// the lookahead between this Timeline and others</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; <a class="code" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a>.size(); i++) {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                <a class="code" href="class_entity.html">Entity</a>* e = <a class="code" href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">__entity_list</a>[i];</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;e-&gt;<a class="code" href="class_entity.html#af5c576ad42c55df0bd5fda40b52c973c">__outchannel_list</a>.size(); j++) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                        <a class="code" href="class_out_channel.html">OutChannel</a> *oc = e-&gt;<a class="code" href="class_entity.html#af5c576ad42c55df0bd5fda40b52c973c">__outchannel_list</a>[j];</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>.size(); k++) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                                <span class="keywordflow">if</span>( oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>[k].xtimeline() ) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                                        <span class="comment">// this channel crosses timelines.  Figure the</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                                        <span class="comment">// lookahead as the sum of the channel per-write minimum and the</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                                        <span class="comment">// transfer time</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                                        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> lookahead = oc-&gt;<a class="code" href="class_out_channel.html#ad25a6740edd8bbab8d8396af21487563">min_write_delay</a>()</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                                                        + oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>[k].transfer_delay();</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                                        <span class="comment">// if the lookeahd is less than thrs this is an asynchronous channel</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                                        <span class="keywordflow">if</span>( lookahead &lt; thrs) oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>[k].set_asynchronous(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                                        <span class="keywordflow">else</span> oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>[k].set_asynchronous(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tgt_tl = oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>[k].ic()-&gt;alignment()-&gt;s3fid();</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                                        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[tgt_tl].lookahead &lt; 0 ||</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                                                        lookahead &lt; <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[tgt_tl].lookahead ) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                                                <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[tgt_tl].lookahead = lookahead;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                                        }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                                }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                        }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <span class="comment">// for every Timeline whose lookahead is not -1 and is less than</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <span class="comment">// the threshold,  schedule an event on the target</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        <span class="comment">// and one on the source, at the appointment time</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_timeline.html#ae47c5f160783ea2f10e8fbcaeb347183">__num_timelines</a>; i++)   {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].lookahead != -1 &amp;&amp; <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].lookahead &lt; thrs ) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                        <span class="comment">// event for the source</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                        pthread_mutex_lock(&amp;<a class="code" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                        {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                                <a class="code" href="class_event.html">Event</a>* e = <span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(<a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].lookahead, <a class="code" href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">min_sched_pri</a>-1,i,<a class="code" href="event_8h.html#a23c6873cb7884dbc53ccaa0bbc164322">EVTYPE_MAKE_APPT</a>, <span class="keyword">this</span>, <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++ );</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                                <a class="code" href="class_event.html">EventPtr</a> eptr(e);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="preprocessor"></span>                                printf(<span class="stringliteral">&quot;timeline %d creates appt-write to %d for %ld\n&quot;</span>,</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                                                <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), i, <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].lookahead);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="preprocessor"></span>                                <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( eptr );</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                        }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                        pthread_mutex_unlock(&amp;<a class="code" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                        <span class="comment">// event for the destination</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                        pthread_mutex_lock(&amp;<a class="code" href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">timeline_adrs</a>[i]-&gt;<a class="code" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a>);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                        {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                                <a class="code" href="class_event.html">Event</a> *e = <span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(<a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].lookahead, <a class="code" href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">min_sched_pri</a>,<a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(),<a class="code" href="event_8h.html#a5ef4a867199add7594537dd23bb5c691">EVTYPE_WAIT_APPT</a>, <a class="code" href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">timeline_adrs</a>[i], <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                                <a class="code" href="class_event.html">EventPtr</a> eptr(e);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="preprocessor"></span>                                printf(<span class="stringliteral">&quot;timeline %d schedules appt-read from %d for %ld\n&quot;</span>,</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                                                i, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[i].lookahead);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="preprocessor"></span>                                <a class="code" href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">timeline_adrs</a>[i]-&gt;__events.push( eptr );</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                        }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                        pthread_mutex_unlock(&amp;<a class="code" href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">timeline_adrs</a>[i]-&gt;<a class="code" href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">__events_mutex</a>);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                }}</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_ae464fb0656e1f2b62d11d728962dfa57"><div class="ttname"><a href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">Timeline::s3fid</a></div><div class="ttdeci">unsigned s3fid()</div><div class="ttdoc">Returns the id for this timeline, between 0 and the number of created timelines minus 1...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00076">timeline.h:76</a></div></div>
<div class="ttc" id="class_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdoc">Class Event holds all the information needed to execute an s3f event. </div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00056">event.h:56</a></div></div>
<div class="ttc" id="event_8h_html_a5ef4a867199add7594537dd23bb5c691"><div class="ttname"><a href="event_8h.html#a5ef4a867199add7594537dd23bb5c691">EVTYPE_WAIT_APPT</a></div><div class="ttdeci">const unsigned int EVTYPE_WAIT_APPT</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00017">event.h:17</a></div></div>
<div class="ttc" id="class_out_channel_html_ad25a6740edd8bbab8d8396af21487563"><div class="ttname"><a href="class_out_channel.html#ad25a6740edd8bbab8d8396af21487563">OutChannel::min_write_delay</a></div><div class="ttdeci">ltime_t min_write_delay()</div><div class="ttdoc">Return the promised lower bound on the per-write delay given in a write call. </div><div class="ttdef"><b>Definition:</b> <a href="outchannel_8h_source.html#l00147">outchannel.h:147</a></div></div>
<div class="ttc" id="class_timeline_html_a8d57c7ddb9a5e5b0669d191d2904402c"><div class="ttname"><a href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">Timeline::__out_appt</a></div><div class="ttdeci">vector&lt; OutAppointment &gt; __out_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00485">timeline.h:485</a></div></div>
<div class="ttc" id="class_timeline_html_af131ceb9fc6400fadc8be839ea45849f"><div class="ttname"><a href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">Timeline::timeline_adrs</a></div><div class="ttdeci">static vector&lt; Timeline * &gt; timeline_adrs</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00546">timeline.h:546</a></div></div>
<div class="ttc" id="class_timeline_html_ade34de3a6f57e058c3d1d9e0e00a0479"><div class="ttname"><a href="class_timeline.html#ade34de3a6f57e058c3d1d9e0e00a0479">Timeline::__entity_list</a></div><div class="ttdeci">vector&lt; Entity * &gt; __entity_list</div><div class="ttdoc">This list holds a pointer for every Entity aligned to this Timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00382">timeline.h:382</a></div></div>
<div class="ttc" id="class_timeline_html_ae47c5f160783ea2f10e8fbcaeb347183"><div class="ttname"><a href="class_timeline.html#ae47c5f160783ea2f10e8fbcaeb347183">Timeline::__num_timelines</a></div><div class="ttdeci">static unsigned int __num_timelines</div><div class="ttdoc">Enumerates the number of Timeline instances created. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00534">timeline.h:534</a></div></div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_entity_html_af5c576ad42c55df0bd5fda40b52c973c"><div class="ttname"><a href="class_entity.html#af5c576ad42c55df0bd5fda40b52c973c">Entity::__outchannel_list</a></div><div class="ttdeci">vector&lt; OutChannel * &gt; __outchannel_list</div><div class="ttdoc">list of outchannels owned by this entity </div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00279">entity.h:279</a></div></div>
<div class="ttc" id="class_entity_html"><div class="ttname"><a href="class_entity.html">Entity</a></div><div class="ttdoc">In S3F the Entity object holds the simulation state, the methods that express the logic of the simula...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00049">entity.h:49</a></div></div>
<div class="ttc" id="class_timeline_html_a7ce6ac3c63d04da29e2becc05491bc65"><div class="ttname"><a href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">Timeline::__evtnum</a></div><div class="ttdeci">unsigned int __evtnum</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00510">timeline.h:510</a></div></div>
<div class="ttc" id="class_timeline_html_aa4629935565db07fe5f26a6411d7745d"><div class="ttname"><a href="class_timeline.html#aa4629935565db07fe5f26a6411d7745d">Timeline::__events_mutex</a></div><div class="ttdeci">pthread_mutex_t __events_mutex</div><div class="ttdoc">Access to __window_list is guarded by mutex __events_mutex. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00447">timeline.h:447</a></div></div>
<div class="ttc" id="class_timeline_html_aafd555350491a860cfa04fb8c707f0a7"><div class="ttname"><a href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">Timeline::min_sched_pri</a></div><div class="ttdeci">static int min_sched_pri</div><div class="ttdoc">minimum possible scheduling priority, used only by a timeline, not a user priority ...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00545">timeline.h:545</a></div></div>
<div class="ttc" id="class_timeline_html_ac27780dfbb3a52b7fcfca3ec39cff3c6"><div class="ttname"><a href="class_timeline.html#ac27780dfbb3a52b7fcfca3ec39cff3c6">Timeline::__window_size</a></div><div class="ttdeci">ltime_t __window_size</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00393">timeline.h:393</a></div></div>
<div class="ttc" id="class_timeline_html_a10a295571c42ca460810b89cd05ad296"><div class="ttname"><a href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">Timeline::__appointment_cond_var</a></div><div class="ttdeci">pthread_cond_t __appointment_cond_var</div><div class="ttdoc">When a timeline encounters an incoming appointment time from a timeline, whose time has not yet reach...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00455">timeline.h:455</a></div></div>
<div class="ttc" id="event_8h_html_a23c6873cb7884dbc53ccaa0bbc164322"><div class="ttname"><a href="event_8h.html#a23c6873cb7884dbc53ccaa0bbc164322">EVTYPE_MAKE_APPT</a></div><div class="ttdeci">const unsigned int EVTYPE_MAKE_APPT</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00018">event.h:18</a></div></div>
<div class="ttc" id="class_out_channel_html"><div class="ttname"><a href="class_out_channel.html">OutChannel</a></div><div class="ttdoc">An OutChannel is the the source end of a communication connection. </div><div class="ttdef"><b>Definition:</b> <a href="outchannel_8h_source.html#l00083">outchannel.h:83</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
<div class="ttc" id="class_timeline_html_ae27618f55b539d967ed831a1e69fb491"><div class="ttname"><a href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">Timeline::__in_appt</a></div><div class="ttdeci">vector&lt; InAppointment &gt; __in_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00484">timeline.h:484</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a98845ad91d7df7488fcd7e7e48701b13"><div class="ttname"><a href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">STL_EventList::push</a></div><div class="ttdeci">void push(EventPtr n)</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00034">stl-eventlist.h:34</a></div></div>
<div class="ttc" id="class_out_channel_html_ab92932e98ec070629039635f9bc0c093"><div class="ttname"><a href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">OutChannel::__mapped_to</a></div><div class="ttdeci">vector&lt; mappedChannel &gt; __mapped_to</div><div class="ttdoc">collection of mappings </div><div class="ttdef"><b>Definition:</b> <a href="outchannel_8h_source.html#l00262">outchannel.h:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf9985daca5abaa0b09177338ef703d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::get_nxt_handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01590">1590</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00502">__handle_idx</a>.</p>
<div class="fragment"><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                                       {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#a569d3ceb969616c4f72aab029677ff0a">__handle_idx</a>++;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_a569d3ceb969616c4f72aab029677ff0a"><div class="ttname"><a href="class_timeline.html#a569d3ceb969616c4f72aab029677ff0a">Timeline::__handle_idx</a></div><div class="ttdeci">unsigned long __handle_idx</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00502">timeline.h:502</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a69913c1aa4c0e541b8e1dcfd401dede8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::get_cross_timeline_events </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes that cross timelines are buffered until the beginning of the next synchronization window; when buffered, a description of the write is placed in a list associated with the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> where the <a class="el" href="class_in_channel.html" title="An InChannel is the endpoint of connections made by an OutChannel&#39;s mapto call. ">InChannel</a> endpoint resides. </p>
<p>In the previous synchronization window, other Timelines may have done outchannel writes that through maptos should deliver activations to inchannels on this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>. These were buffered in the __window_list vector. Reading from __window_list should be isolated by barrier synchronizations from any writes into it, so unlike the writes (which had to have mutex protection), the reads need none. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01315">1315</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00500">__ve_sink_events</a>, <a class="el" href="timeline_8h_source.html#l00444">__window_list</a>, <a class="el" href="event_8h_source.html#l00015">EVTYPE_ACTIVATE</a>, <a class="el" href="event_8h_source.html#l00016">EVTYPE_EXEC_ACTIVATE</a>, <a class="el" href="inchannel_8h_source.html#l00112">InChannel::is_ve_attached()</a>, and <a class="el" href="stl-eventlist_8h_source.html#l00034">STL_EventList::push()</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>.</p>
<div class="fragment"><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                                         {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="comment">// local copy of the list size, since it will not change</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="comment">// each pass through the loop, an optimization</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="keywordtype">int</span> num_to_do = <a class="code" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a>.size();</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="comment">// For each buffered event, all that is needed is a copy into __events</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;num_to_do; i++) {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                <a class="code" href="class_in_channel.html">InChannel</a>* ic = <a class="code" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a>[i]-&gt;get_inc();</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                <span class="keywordflow">if</span>(!ic) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                <span class="keywordflow">if</span>( ic-&gt;<a class="code" href="class_in_channel.html#a320a783b48d2f176d58e6166f4290a31">is_ve_attached</a>() == <span class="keyword">true</span> &amp;&amp;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                                (<a class="code" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a>[i]-&gt;get_evtype() == <a class="code" href="event_8h.html#a1f3039923d939166b3db965241497495">EVTYPE_EXEC_ACTIVATE</a> ||</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                                                <a class="code" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a>[i]-&gt;get_evtype() == <a class="code" href="event_8h.html#afacd477b6aba9a0b0de30b5fef881096">EVTYPE_ACTIVATE</a>) )</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                        <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( <a class="code" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a>[i] );</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                        <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( <a class="code" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a>[i] );</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                }</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <span class="comment">// if the list was not empty, it can be emptied now</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">if</span>( num_to_do &gt; 0 ) <a class="code" href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">__window_list</a>.clear();</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_timeline_html_a02682ddecc00518833a5d53378fbcf04"><div class="ttname"><a href="class_timeline.html#a02682ddecc00518833a5d53378fbcf04">Timeline::__window_list</a></div><div class="ttdeci">vector&lt; EventPtr &gt; __window_list</div><div class="ttdoc">Vector holding description of cross timeline writes. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00444">timeline.h:444</a></div></div>
<div class="ttc" id="class_in_channel_html"><div class="ttname"><a href="class_in_channel.html">InChannel</a></div><div class="ttdoc">An InChannel is the endpoint of connections made by an OutChannel&#39;s mapto call. </div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8h_source.html#l00055">inchannel.h:55</a></div></div>
<div class="ttc" id="class_in_channel_html_a320a783b48d2f176d58e6166f4290a31"><div class="ttname"><a href="class_in_channel.html#a320a783b48d2f176d58e6166f4290a31">InChannel::is_ve_attached</a></div><div class="ttdeci">bool is_ve_attached()</div><div class="ttdoc">Whether the inchannel belongs to an entity host which is an openvz-based VE. </div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8h_source.html#l00112">inchannel.h:112</a></div></div>
<div class="ttc" id="event_8h_html_a1f3039923d939166b3db965241497495"><div class="ttname"><a href="event_8h.html#a1f3039923d939166b3db965241497495">EVTYPE_EXEC_ACTIVATE</a></div><div class="ttdeci">const unsigned int EVTYPE_EXEC_ACTIVATE</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00016">event.h:16</a></div></div>
<div class="ttc" id="event_8h_html_afacd477b6aba9a0b0de30b5fef881096"><div class="ttname"><a href="event_8h.html#afacd477b6aba9a0b0de30b5fef881096">EVTYPE_ACTIVATE</a></div><div class="ttdeci">const unsigned int EVTYPE_ACTIVATE</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00015">event.h:15</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a98845ad91d7df7488fcd7e7e48701b13"><div class="ttname"><a href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">STL_EventList::push</a></div><div class="ttdeci">void push(EventPtr n)</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00034">stl-eventlist.h:34</a></div></div>
<div class="ttc" id="class_timeline_html_aed44892b8b1fd7c0519e63a81ce6cf45"><div class="ttname"><a href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">Timeline::__ve_sink_events</a></div><div class="ttdeci">STL_EventList __ve_sink_events</div><div class="ttdoc">Used for integrated with openVZ-based network emulation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00500">timeline.h:500</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb36671a2346cde1bf8d510940a22930"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::change_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8">TimelineState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Changes <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> state variable __state to s. </p>
<p>Just before a <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> body is executed the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> calls change_state(RUNNING); Immediately afterward it calls change_state(BLOCKED). </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00316">316</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00363">__state</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>, and <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{ <a class="code" href="class_timeline.html#ad179370aedadf833a3ff23d70b05404e">__state</a> = s; }</div>
<div class="ttc" id="class_timeline_html_ad179370aedadf833a3ff23d70b05404e"><div class="ttname"><a href="class_timeline.html#ad179370aedadf833a3ff23d70b05404e">Timeline::__state</a></div><div class="ttdeci">TimelineState __state</div><div class="ttdoc">The current state of the Timeline, (one of INITIALIZING, RUNNING, BLOCKED). </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00363">timeline.h:363</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a014e902a5594144f2d663608e3592c7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_in_channel.html">InChannel</a>* Timeline::get_activeChannel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00318">318</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00437">__activeChannel</a>.</p>

<p>Referenced by <a class="el" href="inchannel_8cc_source.html#l00131">InChannel::insertion_gateway()</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#ac3315665827d6072cf8c55e001bbbe4f">__activeChannel</a>; }</div>
<div class="ttc" id="class_timeline_html_ac3315665827d6072cf8c55e001bbbe4f"><div class="ttname"><a href="class_timeline.html#ac3315665827d6072cf8c55e001bbbe4f">Timeline::__activeChannel</a></div><div class="ttdeci">InChannel * __activeChannel</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00437">timeline.h:437</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9eaac91407baa81d45d73b2c17bf94ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::put_activeChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_in_channel.html">InChannel</a> *&#160;</td>
          <td class="paramname"><em>inc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00319">319</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00437">__activeChannel</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{ <a class="code" href="class_timeline.html#ac3315665827d6072cf8c55e001bbbe4f">__activeChannel</a> = inc; }</div>
<div class="ttc" id="class_timeline_html_ac3315665827d6072cf8c55e001bbbe4f"><div class="ttname"><a href="class_timeline.html#ac3315665827d6072cf8c55e001bbbe4f">Timeline::__activeChannel</a></div><div class="ttdeci">InChannel * __activeChannel</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00437">timeline.h:437</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a735c16a00000350fa15ede362a96c687"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::get_executed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00320">320</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00503">__executed</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00372">Interface::runtime_measurements()</a>.</p>
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#ade5adf0a58bde5d74dff9c8f09db8c8e">__executed</a>;     }</div>
<div class="ttc" id="class_timeline_html_ade5adf0a58bde5d74dff9c8f09db8c8e"><div class="ttname"><a href="class_timeline.html#ade5adf0a58bde5d74dff9c8f09db8c8e">Timeline::__executed</a></div><div class="ttdeci">unsigned long __executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00503">timeline.h:503</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee71f69cdc6f4ae4da09ed87036a0296"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::get_work_executed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00321">321</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00504">__work_executed</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00372">Interface::runtime_measurements()</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">__work_executed</a>; }</div>
<div class="ttc" id="class_timeline_html_ad4f08d67deef6ba4ba7c6cd12e7e7e90"><div class="ttname"><a href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">Timeline::__work_executed</a></div><div class="ttdeci">unsigned long __work_executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00504">timeline.h:504</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a53fd7bb6658b4fc0744e6e5e84f5f3ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::get_sync_executed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00322">322</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00505">__sync_executed</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00372">Interface::runtime_measurements()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="class_timeline.html#a73082133c3afb03fcd16f954bbbd5b35">__sync_executed</a>; }</div>
<div class="ttc" id="class_timeline_html_a73082133c3afb03fcd16f954bbbd5b35"><div class="ttname"><a href="class_timeline.html#a73082133c3afb03fcd16f954bbbd5b35">Timeline::__sync_executed</a></div><div class="ttdeci">unsigned long __sync_executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00505">timeline.h:505</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c08a36df0db509e3cbc731803ce23b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::sync_window </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The heart of the thread_body is code that establishes a synchronization window, and then all Timelines execute asynchronously up to the time established as an upper bound. </p>
<p>This method holds the code that executes all events within a synchronization window. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00786">786</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00455">__appointment_cond_var</a>, <a class="el" href="timeline_8h_source.html#l00403">__channels_at_minimum</a>, <a class="el" href="timeline_8h_source.html#l00474">__channels_to_map</a>, <a class="el" href="timeline_8h_source.html#l00483">__delays_to_change</a>, <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00510">__evtnum</a>, <a class="el" href="timeline_8h_source.html#l00503">__executed</a>, <a class="el" href="timeline_8h_source.html#l00506">__executed_one_window</a>, <a class="el" href="process_8h_source.html#l00107">Process::__func</a>, <a class="el" href="timeline_8h_source.html#l00484">__in_appt</a>, <a class="el" href="outchannel_8h_source.html#l00262">OutChannel::__mapped_to</a>, <a class="el" href="outchannel_8h_source.html#l00257">OutChannel::__min_write_delay</a>, <a class="el" href="timeline_8h_source.html#l00485">__out_appt</a>, <a class="el" href="timeline_8h_source.html#l00411">__recompute_min_delay</a>, <a class="el" href="timeline_8h_source.html#l00364">__s3fid</a>, <a class="el" href="timeline_8h_source.html#l00505">__sync_executed</a>, <a class="el" href="timeline_8h_source.html#l00508">__sync_executed_one_window</a>, <a class="el" href="timeline_8h_source.html#l00371">__this</a>, <a class="el" href="timeline_8h_source.html#l00425">__time</a>, <a class="el" href="timeline_8h_source.html#l00500">__ve_sink_events</a>, <a class="el" href="inchannel_8h_source.html#l00160">InChannel::__waitingList</a>, <a class="el" href="timeline_8h_source.html#l00435">__window</a>, <a class="el" href="timeline_8h_source.html#l00393">__window_size</a>, <a class="el" href="timeline_8h_source.html#l00504">__work_executed</a>, <a class="el" href="timeline_8h_source.html#l00507">__work_executed_one_window</a>, <a class="el" href="timeline_8h_source.html#l00025">InAppointment_block::appointment</a>, <a class="el" href="timeline_8h_source.html#l00027">InAppointment_block::appt_mutex</a>, <a class="el" href="timeline_8h_source.html#l00035">OutAppointment_block::appt_mutex</a>, <a class="el" href="timeline_8h_source.html#l00557">CALL_MEMBER_FN</a>, <a class="el" href="timeline_8h_source.html#l00316">change_state()</a>, <a class="el" href="timeline_8cc_source.html#l01492">count_min_delay_crossings()</a>, <a class="el" href="timeline_8h_source.html#l00036">OutAppointment_block::events</a>, <a class="el" href="event_8h_source.html#l00015">EVTYPE_ACTIVATE</a>, <a class="el" href="event_8h_source.html#l00019">EVTYPE_BIND</a>, <a class="el" href="event_8h_source.html#l00020">EVTYPE_CANCEL</a>, <a class="el" href="event_8h_source.html#l00016">EVTYPE_EXEC_ACTIVATE</a>, <a class="el" href="event_8h_source.html#l00018">EVTYPE_MAKE_APPT</a>, <a class="el" href="event_8h_source.html#l00014">EVTYPE_TIMEOUT</a>, <a class="el" href="event_8h_source.html#l00017">EVTYPE_WAIT_APPT</a>, <a class="el" href="event_8cc_source.html#l00061">Event::get_act()</a>, <a class="el" href="event_8cc_source.html#l00066">Event::get_bind()</a>, <a class="el" href="event_8cc_source.html#l00060">Event::get_evtype()</a>, <a class="el" href="event_8cc_source.html#l00062">Event::get_inc()</a>, <a class="el" href="event_8cc_source.html#l00064">Event::get_pri()</a>, <a class="el" href="event_8cc_source.html#l00059">Event::get_proc()</a>, <a class="el" href="event_8h_source.html#l00080">Event::get_time()</a>, <a class="el" href="event_8cc_source.html#l00063">Event::get_tl()</a>, <a class="el" href="inchannel_8cc_source.html#l00146">InChannel::insert_process_pri()</a>, <a class="el" href="inchannel_8h_source.html#l00112">InChannel::is_ve_attached()</a>, <a class="el" href="timeline_8h_source.html#l00545">min_sched_pri</a>, <a class="el" href="timeline_8cc_source.html#l01429">min_sync_cross_timeline_delay()</a>, <a class="el" href="outchannel_8h_source.html#l00147">OutChannel::min_write_delay()</a>, <a class="el" href="outchannel_8cc_source.html#l00372">OutChannel::min_xtransfer_delay()</a>, <a class="el" href="process_8h_source.html#l00050">Process::owner()</a>, <a class="el" href="stl-eventlist_8h_source.html#l00035">STL_EventList::pop()</a>, <a class="el" href="stl-eventlist_8h_source.html#l00034">STL_EventList::push()</a>, <a class="el" href="process_8h_source.html#l00098">Process::put_activeChannel()</a>, <a class="el" href="timeline_8h_source.html#l00319">put_activeChannel()</a>, <a class="el" href="event_8cc_source.html#l00043">Event::release()</a>, <a class="el" href="timeline_8h_source.html#l00045">RUNNING</a>, <a class="el" href="timeline_8h_source.html#l00076">s3fid()</a>, <a class="el" href="timeline_8cc_source.html#l01239">select_next_event()</a>, <a class="el" href="timeline_8h_source.html#l00514">t_prime</a>, <a class="el" href="timeline_8h_source.html#l00546">timeline_adrs</a>, <a class="el" href="stl-eventlist_8h_source.html#l00038">STL_EventList::top()</a>, <a class="el" href="event_8h_source.html#l00022">user_pri</a>, <a class="el" href="timeline_8h_source.html#l00026">InAppointment_block::waiting</a>, and <a class="el" href="timeline_8h_source.html#l00045">WAITING</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                           {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="comment">// local variables, mostly to buffer individual elements</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="comment">// read more than one time from somewhat-complicated to access</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="comment">// data structures</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <a class="code" href="class_event.html">EventPtr</a>   nxt_evt;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordtype">int</span> selected_evtlst; <span class="comment">// 0 - none, 1 - events, 2 - __ve_sink_events</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> nxt_evt_time;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="class_entity.html">Entity</a>*  ent;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <a class="code" href="class_out_channel.html">OutChannel</a>* oc;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="class_in_channel.html">InChannel</a>* ic;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> delay;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tl;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="class_timeline.html">Timeline</a>* dest_tl;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="struct_in_appointment__block.html">InAppointment</a>* in_appt;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordtype">bool</span> released;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="comment">// flag set to true if at the end of the window we need to recompute</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="comment">// the minimum cross timeline delay</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <a class="code" href="class_timeline.html#a8e6287ee2bc5e8d0659038d3343a03f9">__recompute_min_delay</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="comment">// knowing the window index helps with some double buffering schemes</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <a class="code" href="class_timeline.html#a42997d966fb3466648974ce53823b34d">__window</a>++;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="comment">// select the next event</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <a class="code" href="class_timeline.html#a8ee66c80ee46b152b867ed0d9d66ed4a">select_next_event</a>(selected_evtlst, nxt_evt_time);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="comment">// event list loop.  Do all events with times strictly less than __stop_before</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">while</span> ( selected_evtlst != 0 &amp;&amp; nxt_evt_time &lt; __stop_before &amp;&amp; __interface_control-&gt;user_force_stop == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                <span class="keywordflow">if</span>(selected_evtlst == 2)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                        nxt_evt = <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                        <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a4c1eb446b80e1654f8254088207328e5">pop</a>();</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="class_timeline.html#aa67559f1450aa3e1f473128cc88d481f">t_prime</a> == 0) <a class="code" href="class_timeline.html#aa67559f1450aa3e1f473128cc88d481f">t_prime</a> = nxt_evt-&gt;<a class="code" href="class_event.html#a859bf1839d419e038759b1aef2e047df">get_time</a>(); <span class="comment">//set t_prime, the time of first executed deliver-to-VE event in current SSW</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <span class="keywordflow">else</span> <span class="comment">//selected_evtlst == 1</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                        nxt_evt = <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                        <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a4c1eb446b80e1654f8254088207328e5">pop</a>();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <span class="comment">// advance simulation time this far</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>  = nxt_evt-&gt;<a class="code" href="class_event.html#a859bf1839d419e038759b1aef2e047df">get_time</a>();</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                <span class="comment">// process the event, depending on event type</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="preprocessor"></span>                printf(<span class="stringliteral">&quot;At %ld on timeline %d event type %d executed, selected_evtlst = %d\n&quot;</span>,</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), nxt_evt-&gt;<a class="code" href="class_event.html#a3a3c85786227eba7efe8634d7c303943">get_evtype</a>(), selected_evtlst);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                <a class="code" href="class_timeline.html#ade5adf0a58bde5d74dff9c8f09db8c8e">__executed</a>++;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                <a class="code" href="class_timeline.html#a299d31d27b01f3ddcd807fabfaf1bb08">__executed_one_window</a>++;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                <span class="keywordflow">switch</span> (nxt_evt-&gt;<a class="code" href="class_event.html#a3a3c85786227eba7efe8634d7c303943">get_evtype</a>()) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                <span class="comment">// on a timeout we call the function whose pointer is carried</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                <span class="comment">// with the event, passing along the activation that is also carried</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                <span class="comment">// with the event</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="event_8h.html#a6fc66414f2b30caa7edf6122af5703f3">EVTYPE_TIMEOUT</a> :</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                        <a class="code" href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">__work_executed</a>++;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                        <a class="code" href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">__work_executed_one_window</a>++;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                        <span class="comment">// set __this for reference to process that is running</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                        <a class="code" href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">__this</a> = nxt_evt-&gt;<a class="code" href="class_event.html#a53b5d3d4b37f90af35ad99b5caad1ff9">get_proc</a>();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                        <span class="comment">// make process&#39; __active NULL to flag that it was triggered by</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                        <span class="comment">// a waitFor</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                        <a class="code" href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">__this</a>-&gt;<a class="code" href="class_process.html#a20bab5bb237b416acb45546829896533">put_activeChannel</a>( NULL );</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                        <span class="comment">// Macro to call the Process body associated with the Process pointed to</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                        <span class="comment">// by __this, passing to it the Activation carried along in the event</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                        <a class="code" href="timeline_8h.html#a9c75e3ed4f289dca9f75ac0cd3b8ac7e">CALL_MEMBER_FN</a>( *<a class="code" href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">__this</a>-&gt;<a class="code" href="class_process.html#acc2d0627fc1449b4b7a87ccac44a729b">owner</a>(), <a class="code" href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">__this</a>-&gt;<a class="code" href="class_process.html#a27cd0a1125a22863c3cb81ed41c8fb16">__func</a> )(nxt_evt-&gt;<a class="code" href="class_event.html#ad3db41983a797fccb141919fb8adeb29">get_act</a>());</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                        <a class="code" href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">__this</a> = NULL;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                        <span class="comment">// EVTYPE_ACTIVATE  identifies all activations of Processes attached to</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                        <span class="comment">// the named in-channel.  It schedules individual EVTYPE_EXEC_ACTIVATE</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                        <span class="comment">// events to do the work.  Since the EVTYPE_ACTIVATE is scheduled at the highest</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                        <span class="comment">// priority order, the priorities on these activations &quot;fit&quot; with the priorities</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                        <span class="comment">// of any other scheduled events at the same time.</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="event_8h.html#afacd477b6aba9a0b0de30b5fef881096">EVTYPE_ACTIVATE</a> :</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                        <span class="comment">// The InChannel has an STL list of Processes that should be</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                        <span class="comment">// activated if an Activation appears on the InChannel.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                        <span class="comment">// Iterate over that list, for each member call the associated</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                        <span class="comment">// Process</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                        ic = nxt_evt-&gt;<a class="code" href="class_event.html#a9c05f9eb7cccedb06dcbddd6f2a1e4e2">get_inc</a>();</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                        <span class="comment">// for each process create an EXEC_ACTIVATION event and schedule it at</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                        <span class="comment">// the priority given in the process priority list</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                        <span class="keywordflow">for</span>(std::list&lt;ProcessPri&gt;::iterator</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                                        list_iter = ic-&gt;<a class="code" href="class_in_channel.html#a5252bbbde07f5cca588c529d4e25adf1">__waitingList</a>.begin();</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                        list_iter != ic-&gt;<a class="code" href="class_in_channel.html#a5252bbbde07f5cca588c529d4e25adf1">__waitingList</a>.end(); list_iter++)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                        {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                                <a class="code" href="class_event.html">Event</a>* e;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                                <span class="keywordflow">if</span>( (*list_iter).get_pri() &gt; 0 )</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                                {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                                        e = <span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(<a class="code" href="event_8h.html#a1f3039923d939166b3db965241497495">EVTYPE_EXEC_ACTIVATE</a>, <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, (*list_iter).get_pri(), ic,</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                                                        nxt_evt-&gt;<a class="code" href="class_event.html#ad3db41983a797fccb141919fb8adeb29">get_act</a>(), (*list_iter).get_proc(),<span class="keyword">this</span>, <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                                {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                                        e = <span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(<a class="code" href="event_8h.html#a1f3039923d939166b3db965241497495">EVTYPE_EXEC_ACTIVATE</a>, <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, (*list_iter).get_proc()-&gt;pri(), ic,</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                                        nxt_evt-&gt;<a class="code" href="class_event.html#ad3db41983a797fccb141919fb8adeb29">get_act</a>(), (*list_iter).get_proc(),<span class="keyword">this</span>, <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                                }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                                <span class="keywordflow">if</span>( ic-&gt;<a class="code" href="class_in_channel.html#a320a783b48d2f176d58e6166f4290a31">is_ve_attached</a>() == true )</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                                {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                                        <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>(e);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                                }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                                {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                                        <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>(e);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                                }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                <span class="comment">// Depending on whether the Process was attached to the InChannel by bind()</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                <span class="comment">// which survives this call) or by waitOn (which does not), we may need</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                                <span class="comment">// to remove the Process from the InChannel list.  The get_bound() method</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                                <span class="comment">// returns true if the Process went on via a bind() call.  Remove before</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                                <span class="comment">// the call in case of queries against the binding state during the call</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                                <span class="keywordflow">if</span>( !(*list_iter).get_bound() )</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                                        list_iter = nxt_evt-&gt;<a class="code" href="class_event.html#a9c05f9eb7cccedb06dcbddd6f2a1e4e2">get_inc</a>()-&gt;<a class="code" href="class_in_channel.html#a5252bbbde07f5cca588c529d4e25adf1">__waitingList</a>.erase(list_iter);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                                }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                        }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="event_8h.html#a1f3039923d939166b3db965241497495">EVTYPE_EXEC_ACTIVATE</a>:</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                        <a class="code" href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">__work_executed</a>++;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                        <a class="code" href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">__work_executed_one_window</a>++;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                        __this = nxt_evt-&gt;<a class="code" href="class_event.html#a53b5d3d4b37f90af35ad99b5caad1ff9">get_proc</a>();</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                        <span class="comment">// Need to know what Entity owns the Process</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                        ent = __this-&gt;owner();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        <span class="comment">// running process needs to know what inchannel triggered it</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                        __this-&gt;put_activeChannel( nxt_evt-&gt;<a class="code" href="class_event.html#a9c05f9eb7cccedb06dcbddd6f2a1e4e2">get_inc</a>() );</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                        <a class="code" href="class_timeline.html#a9eaac91407baa81d45d73b2c17bf94ed">put_activeChannel</a>( nxt_evt-&gt;<a class="code" href="class_event.html#a9c05f9eb7cccedb06dcbddd6f2a1e4e2">get_inc</a>() );</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                        <span class="comment">// Macro to call the Process body associated with the Process pointed to</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        <span class="comment">// by __this, passing to it the Activation carried along in the event</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                        assert(nxt_evt);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                        assert(nxt_evt-&gt;<a class="code" href="class_event.html#ad3db41983a797fccb141919fb8adeb29">get_act</a>());</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                        <a class="code" href="timeline_8h.html#a9c75e3ed4f289dca9f75ac0cd3b8ac7e">CALL_MEMBER_FN</a>( *ent, __this-&gt;__func)(nxt_evt-&gt;<a class="code" href="class_event.html#ad3db41983a797fccb141919fb8adeb29">get_act</a>());</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                        <a class="code" href="class_timeline.html#a9eaac91407baa81d45d73b2c17bf94ed">put_activeChannel</a>( NULL );</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                        __this-&gt;put_activeChannel( NULL );</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                        <span class="comment">// not processing this body anymore</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                        __this = NULL;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="event_8h.html#a23c6873cb7884dbc53ccaa0bbc164322">EVTYPE_MAKE_APPT</a>:</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                        <a class="code" href="class_timeline.html#a73082133c3afb03fcd16f954bbbd5b35">__sync_executed</a>++;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        <a class="code" href="class_timeline.html#a17f9b72fa901315260c36c6ed6b751b5">__sync_executed_one_window</a>++;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                        <span class="comment">// get the identity of the timeline needing this appointment</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                        tl = nxt_evt-&gt;<a class="code" href="class_event.html#aad8860fcc96c7da4763d1ea0f958874b">get_tl</a>();</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                        <span class="comment">// turn that into a pointer to the timeline</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                        dest_tl = <a class="code" href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">timeline_adrs</a>[tl];</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                        <span class="comment">// recover pointer to the InAppointment structure on the destination,</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                        <span class="comment">// using own timeline identity index into destination&#39;s incoming appt array</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                        in_appt = &amp;dest_tl-&gt;<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[<a class="code" href="class_timeline.html#a0d64aa26319c572cccdb1ef5fb547d4f">__s3fid</a>];</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                        <span class="comment">// gain access to the data in the appointment structure</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                        pthread_mutex_lock( &amp;in_appt-&gt;<a class="code" href="struct_in_appointment__block.html#abf9eefa94fcd41ee13de25f4844f7967">appt_mutex</a> );</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                        <span class="comment">// write the new appointment into it</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                        in_appt-&gt;<a class="code" href="struct_in_appointment__block.html#aaff7d594afc8634ff0058a14d6b177fb">appointment</a> = <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a> + <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[tl].lookahead;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                        <span class="comment">// if the target timeline is waiting it needs a signal to its</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                        <span class="comment">// condition variable</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                        <span class="keywordflow">if</span>( in_appt-&gt;<a class="code" href="struct_in_appointment__block.html#ae908e46e6d5305374f23351774747095">waiting</a> ) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="preprocessor"></span>                                printf(<span class="stringliteral">&quot;at %ld timeline %d signals timeline %d\n&quot;</span>,</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                                                <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), tl);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="preprocessor"></span>                                pthread_cond_signal(&amp;dest_tl-&gt;<a class="code" href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">__appointment_cond_var</a>);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                                <span class="comment">// &amp;in_appt-&gt;appt_mutex);</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                        }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                        <span class="comment">// release the appointment data</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                        pthread_mutex_unlock( &amp;in_appt-&gt;<a class="code" href="struct_in_appointment__block.html#abf9eefa94fcd41ee13de25f4844f7967">appt_mutex</a> );</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                        <span class="comment">// schedule the next appointment write at a scheduling priority</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                        <span class="comment">// higher than the appointment wait</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                        {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                                <a class="code" href="class_event.html">Event</a> *e =<span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(in_appt-&gt;<a class="code" href="struct_in_appointment__block.html#aaff7d594afc8634ff0058a14d6b177fb">appointment</a>, <a class="code" href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">min_sched_pri</a>-1, tl,<a class="code" href="event_8h.html#a23c6873cb7884dbc53ccaa0bbc164322">EVTYPE_MAKE_APPT</a>,<span class="keyword">this</span>, <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                                <a class="code" href="class_event.html">EventPtr</a> eptr(e);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="preprocessor"></span>                                printf(<span class="stringliteral">&quot;at %ld timeline %d schedules next update to timeline %d for %ld\n&quot;</span>,</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                                                <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), tl, <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a> + <a class="code" href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">__out_appt</a>[tl].lookahead);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="preprocessor"></span>                                <span class="comment">// __events.push( pqn );</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( eptr );</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                        }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="event_8h.html#a5ef4a867199add7594537dd23bb5c691">EVTYPE_WAIT_APPT</a>:</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                        <a class="code" href="class_timeline.html#a73082133c3afb03fcd16f954bbbd5b35">__sync_executed</a>++;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                        <a class="code" href="class_timeline.html#a17f9b72fa901315260c36c6ed6b751b5">__sync_executed_one_window</a>++;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                        <span class="comment">// get the identity of the timeline we&#39;re waiting for</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                        tl = nxt_evt-&gt;<a class="code" href="class_event.html#aad8860fcc96c7da4763d1ea0f958874b">get_tl</a>();</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor"></span>                        printf(<span class="stringliteral">&quot;at %ld timeline %d checks appointment from %d, sees %ld\n&quot;</span>,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                        <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), tl, <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appointment);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                        <span class="comment">// continue if the appointment time is larger than the clock</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                        released = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a> &lt; <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appointment) released = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                        <span class="comment">// acquire the appointment lock and have another look</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                        <span class="keywordflow">if</span>(! released ) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                                pthread_mutex_lock( &amp;<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appt_mutex );</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                                <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a> &lt; <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appointment) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                                        <span class="comment">// got lucky</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                                        pthread_mutex_unlock( &amp;<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appt_mutex );</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                                }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                                        <span class="comment">// flag waiting state, mark state of timeline as waiting,</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                                        <span class="comment">// and wait for a signal from the timeline it waits for</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                                        <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].waiting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                                        <a class="code" href="class_timeline.html#abb36671a2346cde1bf8d510940a22930">change_state</a>(<a class="code" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a757971c0bc5a1972d5f1b1be2c0e2087">WAITING</a>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="preprocessor"></span>                                        printf(<span class="stringliteral">&quot;at %ld timeline %d to wait on timeline %d\n&quot;</span>,</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                                                        <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), tl);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="preprocessor"></span>                                        pthread_cond_wait(&amp;<a class="code" href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">__appointment_cond_var</a>, &amp;<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appt_mutex);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                                        <span class="comment">// the appointment time has been updated. Adjust state</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                                        <span class="comment">// and schedule another EVTYPE_WAIT_APPT at the given time</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                        <span class="comment">//</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                        <a class="code" href="class_timeline.html#abb36671a2346cde1bf8d510940a22930">change_state</a>(<a class="code" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a1061be6c3fb88d32829cba6f6b2be304">RUNNING</a>);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                                        <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].waiting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="preprocessor"></span>                                        printf(<span class="stringliteral">&quot;at %ld timeline %d released by timeline %d\n&quot;</span>,</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                                                        <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), tl);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                        <span class="comment">// free up mutex</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                                        pthread_mutex_unlock( &amp;<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appt_mutex );</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                        }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                        <span class="comment">// schedule the next incoming appointment wait time</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                        {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                                <a class="code" href="class_event.html">Event</a>* e =<span class="keyword">new</span> <a class="code" href="class_event.html">Event</a>(<a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appointment, <a class="code" href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">min_sched_pri</a>, tl,<a class="code" href="event_8h.html#a5ef4a867199add7594537dd23bb5c691">EVTYPE_WAIT_APPT</a>,<span class="keyword">this</span>, <a class="code" href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">__evtnum</a>++);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                                <a class="code" href="class_event.html">EventPtr</a> eptr(e);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="preprocessor"></span>                                printf(<span class="stringliteral">&quot;at %ld timeline %d schedules wait check from timeline %d at time %ld\n&quot;</span>,</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                                <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), tl, <a class="code" href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">__in_appt</a>[tl].appointment);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="preprocessor"></span>                                <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( eptr );</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                        }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                        <span class="comment">// move any events left here by the appointment source into own event list</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                        {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                <a class="code" href="struct_out_appointment__block.html">OutAppointment</a> *out_appt = &amp;(<a class="code" href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">timeline_adrs</a>[tl]-&gt;__out_appt[<a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>()]);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                                pthread_mutex_lock( &amp;out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#aae92f771264cdf86021e5d63776798e2">appt_mutex</a>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#a9aac4f3cd3b5e824f64ebf1ffa1a9b66">events</a>.size()-1; i&gt;= 0; i--) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                                        <a class="code" href="class_in_channel.html">InChannel</a>* ic = out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#a9aac4f3cd3b5e824f64ebf1ffa1a9b66">events</a>[i]-&gt;get_inc();</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                        assert(ic);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                        <span class="keywordflow">if</span>( ic-&gt;<a class="code" href="class_in_channel.html#a320a783b48d2f176d58e6166f4290a31">is_ve_attached</a>() == <span class="keyword">true</span> &amp;&amp;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                                                        (out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#a9aac4f3cd3b5e824f64ebf1ffa1a9b66">events</a>[i]-&gt;get_evtype() == <a class="code" href="event_8h.html#a1f3039923d939166b3db965241497495">EVTYPE_EXEC_ACTIVATE</a> ||</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                                                                        out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#a9aac4f3cd3b5e824f64ebf1ffa1a9b66">events</a>[i]-&gt;get_evtype() == <a class="code" href="event_8h.html#afacd477b6aba9a0b0de30b5fef881096">EVTYPE_ACTIVATE</a>) )</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                                        {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                                                <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#a9aac4f3cd3b5e824f64ebf1ffa1a9b66">events</a>[i] );</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                                        }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                                        {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                                <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">push</a>( out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#a9aac4f3cd3b5e824f64ebf1ffa1a9b66">events</a>[i] );</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                                        }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                                }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                                out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#a9aac4f3cd3b5e824f64ebf1ffa1a9b66">events</a>.clear();</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                                pthread_mutex_unlock( &amp;out_appt-&gt;<a class="code" href="struct_out_appointment__block.html#aae92f771264cdf86021e5d63776798e2">appt_mutex</a>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                        }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="event_8h.html#a8fffb631ea0938483bc2090783efa712">EVTYPE_BIND</a>:</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                        <a class="code" href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">__work_executed</a>++;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                        <a class="code" href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">__work_executed_one_window</a>++;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                        <span class="comment">// safe now to implement delayed binding</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                        nxt_evt-&gt;<a class="code" href="class_event.html#a9c05f9eb7cccedb06dcbddd6f2a1e4e2">get_inc</a>()-&gt;<a class="code" href="class_in_channel.html#a1833d7afed6cbdf5e0e084ba8e765078">insert_process_pri</a>( nxt_evt-&gt;<a class="code" href="class_event.html#a53b5d3d4b37f90af35ad99b5caad1ff9">get_proc</a>(),</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                                        nxt_evt-&gt;<a class="code" href="class_event.html#af960ce84578414e1f454a2cabc6c71a7">get_bind</a>(), <a class="code" href="event_8h.html#ad47caa355760f475ac81c9c3049fb8aa">user_pri</a>(nxt_evt-&gt;<a class="code" href="class_event.html#add534f3df1ef3adb7fee12524674eac3">get_pri</a>()) );</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                        <span class="comment">// simply ignore cancelled events</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="event_8h.html#a48a1ca9c428740a72127d73d5d6d3a25">EVTYPE_CANCEL</a> :</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                        __executed--;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                        <a class="code" href="class_timeline.html#a299d31d27b01f3ddcd807fabfaf1bb08">__executed_one_window</a>--;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                nxt_evt-&gt;<a class="code" href="class_event.html#aa6b17dba2949879c7e19e3651d061b7b">release</a>();</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                <span class="comment">//prepare for processing the next event</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                <a class="code" href="class_timeline.html#a8ee66c80ee46b152b867ed0d9d66ed4a">select_next_event</a>(selected_evtlst, nxt_evt_time);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="comment">// All events in this window now processed. Check for any needed</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="comment">// dynamic updating of mappings or minimum delays</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="comment">// that were called for during the last burst</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <span class="comment">// any maptos needing doing?</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aea8f4e1381eab4e9459accf0cc3a5367">__channels_to_map</a>.size() &gt; 0 ) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                <span class="comment">// yes. map the channels</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_timeline.html#aea8f4e1381eab4e9459accf0cc3a5367">__channels_to_map</a>.size(); i++) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                        <span class="comment">// which outchannel is doing the mapto?</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                        oc = <a class="code" href="class_timeline.html#aea8f4e1381eab4e9459accf0cc3a5367">__channels_to_map</a>[i]-&gt;oc();</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                        <span class="comment">// the __channels_to_map structure has the complete mapping</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                        <span class="comment">// information, and so all that needs to be done is to put</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                        <span class="comment">// it in the outchannel&#39;s list of mapped channels.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                        oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>.push_back( *<a class="code" href="class_timeline.html#aea8f4e1381eab4e9459accf0cc3a5367">__channels_to_map</a>[i] );</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                        <span class="comment">// if minimum cross timeline delay for this is equal</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                        <span class="comment">// to the timeline&#39;s minimum, increment the count of</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                        <span class="comment">// such.  If it is less than the existing minimum,</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                        <span class="comment">// throw a flag that indicates a new minimum must be</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                        <span class="comment">// computed.</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                        delay = oc-&gt;<a class="code" href="class_out_channel.html#ad25a6740edd8bbab8d8396af21487563">min_write_delay</a>() +</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                                        <a class="code" href="class_timeline.html#aea8f4e1381eab4e9459accf0cc3a5367">__channels_to_map</a>[i]-&gt;transfer_delay();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                        <span class="keywordflow">if</span>( delay == <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> )</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                                <a class="code" href="class_timeline.html#a9fa43a733ecbe9c370c9cff3dda055fb">__channels_at_minimum</a>++;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                                <span class="keywordflow">if</span>( delay &lt; <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> )</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                        <a class="code" href="class_timeline.html#a8e6287ee2bc5e8d0659038d3343a03f9">__recompute_min_delay</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                        }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <span class="comment">// empty the list, call the element&#39;s destructors</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                <a class="code" href="class_timeline.html#aea8f4e1381eab4e9459accf0cc3a5367">__channels_to_map</a>.clear();</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="comment">// check whether there are cross timeline minimum delays that</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="comment">// with updates buffered</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a>.size() &gt; 0 ) {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                <span class="comment">// temporary variable used to compute the complete crossing time</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> crossing;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                <span class="comment">// change the minimum delay of each channel in this list,</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                <span class="comment">// and determine whether that triggers a recalculation of the</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                <span class="comment">// minimum cross timeline channel delay</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a>.size(); i++) {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                        oc = <a class="code" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a>[i]-&gt;oc();</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                        ic = <a class="code" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a>[i]-&gt;ic();</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                        <span class="comment">// Different logic for changing an OutChannel&#39;s minimum write delay</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a>[i]-&gt;select() ) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                                <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> xtransfer = oc-&gt;<a class="code" href="class_out_channel.html#a7b5185b11057f780dc8c87aac5a8914c">min_xtransfer_delay</a>();</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                                <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> mwd = <a class="code" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a>[i]-&gt;min_write_delay();</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                                <span class="comment">// if xtransfer is not -1 there is a cross timeline mapping, which means</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                                <span class="comment">// we have to check that there&#39;s a known positive lower bound on the</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                <span class="comment">// transfer time.  If not, at this point we can only ignore the change</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                <span class="comment">// request...</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                                <span class="comment">//</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                crossing = mwd+xtransfer;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                                <span class="keywordflow">if</span>( xtransfer &gt;= -1 &amp;&amp; crossing == 0 ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                                <span class="comment">// implement the change</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                                oc-&gt;<a class="code" href="class_out_channel.html#a0418ef1c049cad0d44cb40aa700d90a0">__min_write_delay</a> = mwd;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                                <span class="comment">// flag if the change impacts the minimum cross timeline delay</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                                <span class="keywordflow">if</span>( crossing == <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> ) <a class="code" href="class_timeline.html#a9fa43a733ecbe9c370c9cff3dda055fb">__channels_at_minimum</a>++;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                                <span class="keywordflow">if</span>( crossing &lt; <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a>)  <a class="code" href="class_timeline.html#a8e6287ee2bc5e8d0659038d3343a03f9">__recompute_min_delay</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                        }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                        <span class="comment">// if we get here the delay is a tranfer delay, so find the corresponding InChannel</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                        delay = <a class="code" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a>[i]-&gt;transfer_delay();</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                        <span class="comment">// search the OutChannel&#39;s table of mappings for this one</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> end = oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>.size();</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;end; i++) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                                <span class="keywordflow">if</span>( oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>[i].ic() == ic ) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                                        <span class="comment">// found the named InChannel, so change the transfer delay</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                                        (oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>[i]).set_transfer_delay(delay);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                                        <span class="comment">// if this just lowers the delay to the existing minimum</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                                        <span class="comment">// we just have one more such connection</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                        <span class="comment">//</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> crossing = oc-&gt;<a class="code" href="class_out_channel.html#ad25a6740edd8bbab8d8396af21487563">min_write_delay</a>() +</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                                                        oc-&gt;<a class="code" href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">__mapped_to</a>[i].transfer_delay();</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                                        <span class="keywordflow">if</span>( crossing == <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> )</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                                <a class="code" href="class_timeline.html#a9fa43a733ecbe9c370c9cff3dda055fb">__channels_at_minimum</a>++;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( crossing &lt; <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a>)</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                                                <span class="comment">// It got smaller than the Timeline&#39;s smallest, so</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                                                <span class="comment">// we&#39;ll have to redo the minimum cross timeline delay</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                                                <span class="comment">// calculation</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                                                <span class="comment">//</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                                                <a class="code" href="class_timeline.html#a8e6287ee2bc5e8d0659038d3343a03f9">__recompute_min_delay</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                                }</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                        }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                <a class="code" href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">__delays_to_change</a>.clear();</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="comment">// haven&#39;t done anything with appointments yet</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="comment">// if in the course of doing an unmap during processing or</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="comment">// a mapto or min delay change above we changed the minimum</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="comment">// cross timeline delay, recompute it and then recompute</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="comment">// the number of times a cross-timeline channel with that minimum</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="comment">// delay appears</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_timeline.html#a8e6287ee2bc5e8d0659038d3343a03f9">__recompute_min_delay</a> ) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                <span class="comment">// method min_sync_cross_timeline_delay goes through all entities</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> = <a class="code" href="class_timeline.html#aafaf894600116514fbd626215a4d38e3">min_sync_cross_timeline_delay</a>(<a class="code" href="class_timeline.html#ac27780dfbb3a52b7fcfca3ec39cff3c6">__window_size</a>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                <span class="comment">// count the number of connections whose minimum delays are</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                <span class="comment">// exactly the Timeline&#39;s overall minimum</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                <a class="code" href="class_timeline.html#a9fa43a733ecbe9c370c9cff3dda055fb">__channels_at_minimum</a> = <a class="code" href="class_timeline.html#a80787d758bb96209512ed0fc65f14970">count_min_delay_crossings</a>( <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> );</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="comment">// we&#39;re done with this synchronization window.  Time advances to the very end of it.</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a> = <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a>-1;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="preprocessor">#ifdef SYNC_WIN_EVENT_COUNT</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="preprocessor"></span>        printf(<span class="stringliteral">&quot;now = %ld, timeline = %d, window# = %d, total events = %ld, work events = %ld, sync events = %ld\n&quot;</span>,</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                        <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), <a class="code" href="class_timeline.html#a42997d966fb3466648974ce53823b34d">__window</a>, <a class="code" href="class_timeline.html#a299d31d27b01f3ddcd807fabfaf1bb08">__executed_one_window</a>, <a class="code" href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">__work_executed_one_window</a>, <a class="code" href="class_timeline.html#a17f9b72fa901315260c36c6ed6b751b5">__sync_executed_one_window</a>);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="preprocessor"></span>        <a class="code" href="class_timeline.html#a299d31d27b01f3ddcd807fabfaf1bb08">__executed_one_window</a> = <a class="code" href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">__work_executed_one_window</a> = <a class="code" href="class_timeline.html#a17f9b72fa901315260c36c6ed6b751b5">__sync_executed_one_window</a> = 0;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;}</div>
<div class="ttc" id="class_s_t_l___event_list_html_a4c1eb446b80e1654f8254088207328e5"><div class="ttname"><a href="class_s_t_l___event_list.html#a4c1eb446b80e1654f8254088207328e5">STL_EventList::pop</a></div><div class="ttdeci">void pop()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00035">stl-eventlist.h:35</a></div></div>
<div class="ttc" id="struct_in_appointment__block_html_ae908e46e6d5305374f23351774747095"><div class="ttname"><a href="struct_in_appointment__block.html#ae908e46e6d5305374f23351774747095">InAppointment_block::waiting</a></div><div class="ttdeci">bool waiting</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00026">timeline.h:26</a></div></div>
<div class="ttc" id="timeline_8h_html_a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a1061be6c3fb88d32829cba6f6b2be304"><div class="ttname"><a href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a1061be6c3fb88d32829cba6f6b2be304">RUNNING</a></div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00045">timeline.h:45</a></div></div>
<div class="ttc" id="class_timeline_html_ae464fb0656e1f2b62d11d728962dfa57"><div class="ttname"><a href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">Timeline::s3fid</a></div><div class="ttdeci">unsigned s3fid()</div><div class="ttdoc">Returns the id for this timeline, between 0 and the number of created timelines minus 1...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00076">timeline.h:76</a></div></div>
<div class="ttc" id="class_timeline_html_a80787d758bb96209512ed0fc65f14970"><div class="ttname"><a href="class_timeline.html#a80787d758bb96209512ed0fc65f14970">Timeline::count_min_delay_crossings</a></div><div class="ttdeci">unsigned int count_min_delay_crossings(ltime_t)</div><div class="ttdoc">Count the number of connections whose minimum delay values are no smaller than the argument...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l01492">timeline.cc:1492</a></div></div>
<div class="ttc" id="class_event_html_af960ce84578414e1f454a2cabc6c71a7"><div class="ttname"><a href="class_event.html#af960ce84578414e1f454a2cabc6c71a7">Event::get_bind</a></div><div class="ttdeci">bool get_bind()</div><div class="ttdef"><b>Definition:</b> <a href="event_8cc_source.html#l00066">event.cc:66</a></div></div>
<div class="ttc" id="class_timeline_html_a8ee66c80ee46b152b867ed0d9d66ed4a"><div class="ttname"><a href="class_timeline.html#a8ee66c80ee46b152b867ed0d9d66ed4a">Timeline::select_next_event</a></div><div class="ttdeci">void select_next_event(int &amp;evt_list, ltime_t &amp;evt_time)</div><div class="ttdoc">Select which event_list of the two (__events and __ve_sink_events) has the next event. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l01239">timeline.cc:1239</a></div></div>
<div class="ttc" id="class_event_html_a3a3c85786227eba7efe8634d7c303943"><div class="ttname"><a href="class_event.html#a3a3c85786227eba7efe8634d7c303943">Event::get_evtype</a></div><div class="ttdeci">unsigned int get_evtype()</div><div class="ttdef"><b>Definition:</b> <a href="event_8cc_source.html#l00060">event.cc:60</a></div></div>
<div class="ttc" id="class_timeline_html_a69c55c8b78872d5b625426e639f32e42"><div class="ttname"><a href="class_timeline.html#a69c55c8b78872d5b625426e639f32e42">Timeline::__delays_to_change</a></div><div class="ttdeci">vector&lt; mappedChannel * &gt; __delays_to_change</div><div class="ttdoc">The s3f interface to OutChannels allows for dynamic adjustment to the minimum delay on some specified...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00483">timeline.h:483</a></div></div>
<div class="ttc" id="class_timeline_html_a17f9b72fa901315260c36c6ed6b751b5"><div class="ttname"><a href="class_timeline.html#a17f9b72fa901315260c36c6ed6b751b5">Timeline::__sync_executed_one_window</a></div><div class="ttdeci">unsigned long __sync_executed_one_window</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00508">timeline.h:508</a></div></div>
<div class="ttc" id="class_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdoc">Class Event holds all the information needed to execute an s3f event. </div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00056">event.h:56</a></div></div>
<div class="ttc" id="event_8h_html_a8fffb631ea0938483bc2090783efa712"><div class="ttname"><a href="event_8h.html#a8fffb631ea0938483bc2090783efa712">EVTYPE_BIND</a></div><div class="ttdeci">const unsigned int EVTYPE_BIND</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00019">event.h:19</a></div></div>
<div class="ttc" id="event_8h_html_a5ef4a867199add7594537dd23bb5c691"><div class="ttname"><a href="event_8h.html#a5ef4a867199add7594537dd23bb5c691">EVTYPE_WAIT_APPT</a></div><div class="ttdeci">const unsigned int EVTYPE_WAIT_APPT</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00017">event.h:17</a></div></div>
<div class="ttc" id="struct_out_appointment__block_html_a9aac4f3cd3b5e824f64ebf1ffa1a9b66"><div class="ttname"><a href="struct_out_appointment__block.html#a9aac4f3cd3b5e824f64ebf1ffa1a9b66">OutAppointment_block::events</a></div><div class="ttdeci">vector&lt; EventPtr &gt; events</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00036">timeline.h:36</a></div></div>
<div class="ttc" id="class_timeline_html_ade5adf0a58bde5d74dff9c8f09db8c8e"><div class="ttname"><a href="class_timeline.html#ade5adf0a58bde5d74dff9c8f09db8c8e">Timeline::__executed</a></div><div class="ttdeci">unsigned long __executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00503">timeline.h:503</a></div></div>
<div class="ttc" id="class_out_channel_html_ad25a6740edd8bbab8d8396af21487563"><div class="ttname"><a href="class_out_channel.html#ad25a6740edd8bbab8d8396af21487563">OutChannel::min_write_delay</a></div><div class="ttdeci">ltime_t min_write_delay()</div><div class="ttdoc">Return the promised lower bound on the per-write delay given in a write call. </div><div class="ttdef"><b>Definition:</b> <a href="outchannel_8h_source.html#l00147">outchannel.h:147</a></div></div>
<div class="ttc" id="timeline_8h_html_a9c75e3ed4f289dca9f75ac0cd3b8ac7e"><div class="ttname"><a href="timeline_8h.html#a9c75e3ed4f289dca9f75ac0cd3b8ac7e">CALL_MEMBER_FN</a></div><div class="ttdeci">#define CALL_MEMBER_FN(object, ptrToMember)</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00557">timeline.h:557</a></div></div>
<div class="ttc" id="class_timeline_html_a8d57c7ddb9a5e5b0669d191d2904402c"><div class="ttname"><a href="class_timeline.html#a8d57c7ddb9a5e5b0669d191d2904402c">Timeline::__out_appt</a></div><div class="ttdeci">vector&lt; OutAppointment &gt; __out_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00485">timeline.h:485</a></div></div>
<div class="ttc" id="class_in_channel_html_a5252bbbde07f5cca588c529d4e25adf1"><div class="ttname"><a href="class_in_channel.html#a5252bbbde07f5cca588c529d4e25adf1">InChannel::__waitingList</a></div><div class="ttdeci">list&lt; ProcessPri &gt; __waitingList</div><div class="ttdoc">Ordered list of processes attached to the InChannel, awaiting activation. </div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8h_source.html#l00160">inchannel.h:160</a></div></div>
<div class="ttc" id="class_event_html_a53b5d3d4b37f90af35ad99b5caad1ff9"><div class="ttname"><a href="class_event.html#a53b5d3d4b37f90af35ad99b5caad1ff9">Event::get_proc</a></div><div class="ttdeci">Process * get_proc()</div><div class="ttdef"><b>Definition:</b> <a href="event_8cc_source.html#l00059">event.cc:59</a></div></div>
<div class="ttc" id="class_process_html_a27cd0a1125a22863c3cb81ed41c8fb16"><div class="ttname"><a href="class_process.html#a27cd0a1125a22863c3cb81ed41c8fb16">Process::__func</a></div><div class="ttdeci">void(Entity::* __func)(Activation)</div><div class="ttdoc">the function pointer to use when process is called </div><div class="ttdef"><b>Definition:</b> <a href="process_8h_source.html#l00107">process.h:107</a></div></div>
<div class="ttc" id="timeline_8h_html_a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a757971c0bc5a1972d5f1b1be2c0e2087"><div class="ttname"><a href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a757971c0bc5a1972d5f1b1be2c0e2087">WAITING</a></div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00045">timeline.h:45</a></div></div>
<div class="ttc" id="class_timeline_html_af131ceb9fc6400fadc8be839ea45849f"><div class="ttname"><a href="class_timeline.html#af131ceb9fc6400fadc8be839ea45849f">Timeline::timeline_adrs</a></div><div class="ttdeci">static vector&lt; Timeline * &gt; timeline_adrs</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00546">timeline.h:546</a></div></div>
<div class="ttc" id="class_process_html_a20bab5bb237b416acb45546829896533"><div class="ttname"><a href="class_process.html#a20bab5bb237b416acb45546829896533">Process::put_activeChannel</a></div><div class="ttdeci">void put_activeChannel(InChannel *ac)</div><div class="ttdoc">Record which InChannel caused the current Process activation. </div><div class="ttdef"><b>Definition:</b> <a href="process_8h_source.html#l00098">process.h:98</a></div></div>
<div class="ttc" id="struct_out_appointment__block_html"><div class="ttname"><a href="struct_out_appointment__block.html">OutAppointment_block</a></div><div class="ttdoc">Data structure of the outgoing appointment to other timeline, used for composite synchronization. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00033">timeline.h:33</a></div></div>
<div class="ttc" id="class_timeline_html"><div class="ttname"><a href="class_timeline.html">Timeline</a></div><div class="ttdoc">Timeline is a logical process in concept, and a pthread by implementation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00051">timeline.h:51</a></div></div>
<div class="ttc" id="class_timeline_html_a558784ccc7eb808b27d037c127becbc6"><div class="ttname"><a href="class_timeline.html#a558784ccc7eb808b27d037c127becbc6">Timeline::__this</a></div><div class="ttdeci">Process * __this</div><div class="ttdoc">Just before a Process body is executed, __this is set to point to the instance of the Process...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00371">timeline.h:371</a></div></div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_process_html_acc2d0627fc1449b4b7a87ccac44a729b"><div class="ttname"><a href="class_process.html#acc2d0627fc1449b4b7a87ccac44a729b">Process::owner</a></div><div class="ttdeci">Entity * owner()</div><div class="ttdoc">Returns a pointer to the Entity owning this Process. </div><div class="ttdef"><b>Definition:</b> <a href="process_8h_source.html#l00050">process.h:50</a></div></div>
<div class="ttc" id="class_event_html_aad8860fcc96c7da4763d1ea0f958874b"><div class="ttname"><a href="class_event.html#aad8860fcc96c7da4763d1ea0f958874b">Event::get_tl</a></div><div class="ttdeci">unsigned int get_tl()</div><div class="ttdef"><b>Definition:</b> <a href="event_8cc_source.html#l00063">event.cc:63</a></div></div>
<div class="ttc" id="class_entity_html"><div class="ttname"><a href="class_entity.html">Entity</a></div><div class="ttdoc">In S3F the Entity object holds the simulation state, the methods that express the logic of the simula...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00049">entity.h:49</a></div></div>
<div class="ttc" id="class_timeline_html_a73082133c3afb03fcd16f954bbbd5b35"><div class="ttname"><a href="class_timeline.html#a73082133c3afb03fcd16f954bbbd5b35">Timeline::__sync_executed</a></div><div class="ttdeci">unsigned long __sync_executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00505">timeline.h:505</a></div></div>
<div class="ttc" id="class_event_html_a9c05f9eb7cccedb06dcbddd6f2a1e4e2"><div class="ttname"><a href="class_event.html#a9c05f9eb7cccedb06dcbddd6f2a1e4e2">Event::get_inc</a></div><div class="ttdeci">InChannel * get_inc()</div><div class="ttdef"><b>Definition:</b> <a href="event_8cc_source.html#l00062">event.cc:62</a></div></div>
<div class="ttc" id="class_out_channel_html_a0418ef1c049cad0d44cb40aa700d90a0"><div class="ttname"><a href="class_out_channel.html#a0418ef1c049cad0d44cb40aa700d90a0">OutChannel::__min_write_delay</a></div><div class="ttdeci">ltime_t __min_write_delay</div><div class="ttdoc">lower bound on per-write delay </div><div class="ttdef"><b>Definition:</b> <a href="outchannel_8h_source.html#l00257">outchannel.h:257</a></div></div>
<div class="ttc" id="class_out_channel_html_a7b5185b11057f780dc8c87aac5a8914c"><div class="ttname"><a href="class_out_channel.html#a7b5185b11057f780dc8c87aac5a8914c">OutChannel::min_xtransfer_delay</a></div><div class="ttdeci">ltime_t min_xtransfer_delay()</div><div class="ttdoc">Return the minimum transfer delay from OutChannel to any InChannel aligned to a different Timeline...</div><div class="ttdef"><b>Definition:</b> <a href="outchannel_8cc_source.html#l00372">outchannel.cc:372</a></div></div>
<div class="ttc" id="event_8h_html_ad47caa355760f475ac81c9c3049fb8aa"><div class="ttname"><a href="event_8h.html#ad47caa355760f475ac81c9c3049fb8aa">user_pri</a></div><div class="ttdeci">#define user_pri(p)</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00022">event.h:22</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_ae93e2380b009a956696155ad9659ed77"><div class="ttname"><a href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">STL_EventList::top</a></div><div class="ttdeci">EventPtr top()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00038">stl-eventlist.h:38</a></div></div>
<div class="ttc" id="event_8h_html_a48a1ca9c428740a72127d73d5d6d3a25"><div class="ttname"><a href="event_8h.html#a48a1ca9c428740a72127d73d5d6d3a25">EVTYPE_CANCEL</a></div><div class="ttdeci">const unsigned int EVTYPE_CANCEL</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00020">event.h:20</a></div></div>
<div class="ttc" id="class_timeline_html_a0d64aa26319c572cccdb1ef5fb547d4f"><div class="ttname"><a href="class_timeline.html#a0d64aa26319c572cccdb1ef5fb547d4f">Timeline::__s3fid</a></div><div class="ttdeci">unsigned int __s3fid</div><div class="ttdoc">This Timeline&#39;s own id. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00364">timeline.h:364</a></div></div>
<div class="ttc" id="struct_out_appointment__block_html_aae92f771264cdf86021e5d63776798e2"><div class="ttname"><a href="struct_out_appointment__block.html#aae92f771264cdf86021e5d63776798e2">OutAppointment_block::appt_mutex</a></div><div class="ttdeci">pthread_mutex_t appt_mutex</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00035">timeline.h:35</a></div></div>
<div class="ttc" id="class_timeline_html_a9fa43a733ecbe9c370c9cff3dda055fb"><div class="ttname"><a href="class_timeline.html#a9fa43a733ecbe9c370c9cff3dda055fb">Timeline::__channels_at_minimum</a></div><div class="ttdeci">unsigned int __channels_at_minimum</div><div class="ttdoc">After __min_sync_cross_timeline_delay is computed, we count the number of connections whose minimum d...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00403">timeline.h:403</a></div></div>
<div class="ttc" id="class_in_channel_html_a1833d7afed6cbdf5e0e084ba8e765078"><div class="ttname"><a href="class_in_channel.html#a1833d7afed6cbdf5e0e084ba8e765078">InChannel::insert_process_pri</a></div><div class="ttdeci">void insert_process_pri(Process *, bool, unsigned int)</div><div class="ttdoc">insert_process_pri is called both as a result of calling waitOn and as a result of calling bind...</div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8cc_source.html#l00146">inchannel.cc:146</a></div></div>
<div class="ttc" id="class_timeline_html_a42997d966fb3466648974ce53823b34d"><div class="ttname"><a href="class_timeline.html#a42997d966fb3466648974ce53823b34d">Timeline::__window</a></div><div class="ttdeci">unsigned int __window</div><div class="ttdoc">This integer keeps track of the number of synchronization windows that have been completed. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00435">timeline.h:435</a></div></div>
<div class="ttc" id="class_timeline_html_aa076d7991bd74619152d94ecebdac540"><div class="ttname"><a href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">Timeline::__time</a></div><div class="ttdeci">ltime_t __time</div><div class="ttdoc">The virtual time up to which the timeline has advanced. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00425">timeline.h:425</a></div></div>
<div class="ttc" id="class_in_channel_html"><div class="ttname"><a href="class_in_channel.html">InChannel</a></div><div class="ttdoc">An InChannel is the endpoint of connections made by an OutChannel&#39;s mapto call. </div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8h_source.html#l00055">inchannel.h:55</a></div></div>
<div class="ttc" id="class_in_channel_html_a320a783b48d2f176d58e6166f4290a31"><div class="ttname"><a href="class_in_channel.html#a320a783b48d2f176d58e6166f4290a31">InChannel::is_ve_attached</a></div><div class="ttdeci">bool is_ve_attached()</div><div class="ttdoc">Whether the inchannel belongs to an entity host which is an openvz-based VE. </div><div class="ttdef"><b>Definition:</b> <a href="inchannel_8h_source.html#l00112">inchannel.h:112</a></div></div>
<div class="ttc" id="event_8h_html_a1f3039923d939166b3db965241497495"><div class="ttname"><a href="event_8h.html#a1f3039923d939166b3db965241497495">EVTYPE_EXEC_ACTIVATE</a></div><div class="ttdeci">const unsigned int EVTYPE_EXEC_ACTIVATE</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00016">event.h:16</a></div></div>
<div class="ttc" id="class_event_html_aa6b17dba2949879c7e19e3651d061b7b"><div class="ttname"><a href="class_event.html#aa6b17dba2949879c7e19e3651d061b7b">Event::release</a></div><div class="ttdeci">void release()</div><div class="ttdef"><b>Definition:</b> <a href="event_8cc_source.html#l00043">event.cc:43</a></div></div>
<div class="ttc" id="class_timeline_html_a7ce6ac3c63d04da29e2becc05491bc65"><div class="ttname"><a href="class_timeline.html#a7ce6ac3c63d04da29e2becc05491bc65">Timeline::__evtnum</a></div><div class="ttdeci">unsigned int __evtnum</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00510">timeline.h:510</a></div></div>
<div class="ttc" id="class_timeline_html_a8e6287ee2bc5e8d0659038d3343a03f9"><div class="ttname"><a href="class_timeline.html#a8e6287ee2bc5e8d0659038d3343a03f9">Timeline::__recompute_min_delay</a></div><div class="ttdeci">bool __recompute_min_delay</div><div class="ttdoc">Set to false at the beginning of a synchronization window, __recompute_min_delay is set to true if a ...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00411">timeline.h:411</a></div></div>
<div class="ttc" id="class_timeline_html_aafd555350491a860cfa04fb8c707f0a7"><div class="ttname"><a href="class_timeline.html#aafd555350491a860cfa04fb8c707f0a7">Timeline::min_sched_pri</a></div><div class="ttdeci">static int min_sched_pri</div><div class="ttdoc">minimum possible scheduling priority, used only by a timeline, not a user priority ...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00545">timeline.h:545</a></div></div>
<div class="ttc" id="class_timeline_html_a1759c538b78327e89744b55c1101d94e"><div class="ttname"><a href="class_timeline.html#a1759c538b78327e89744b55c1101d94e">Timeline::__work_executed_one_window</a></div><div class="ttdeci">unsigned long __work_executed_one_window</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00507">timeline.h:507</a></div></div>
<div class="ttc" id="class_timeline_html_ac27780dfbb3a52b7fcfca3ec39cff3c6"><div class="ttname"><a href="class_timeline.html#ac27780dfbb3a52b7fcfca3ec39cff3c6">Timeline::__window_size</a></div><div class="ttdeci">ltime_t __window_size</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00393">timeline.h:393</a></div></div>
<div class="ttc" id="class_event_html_a859bf1839d419e038759b1aef2e047df"><div class="ttname"><a href="class_event.html#a859bf1839d419e038759b1aef2e047df">Event::get_time</a></div><div class="ttdeci">ltime_t get_time()</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00080">event.h:80</a></div></div>
<div class="ttc" id="class_timeline_html_aa67559f1450aa3e1f473128cc88d481f"><div class="ttname"><a href="class_timeline.html#aa67559f1450aa3e1f473128cc88d481f">Timeline::t_prime</a></div><div class="ttdeci">ltime_t t_prime</div><div class="ttdoc">time of first executed deliver-to-VE event in previous SSW </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00514">timeline.h:514</a></div></div>
<div class="ttc" id="class_timeline_html_a10a295571c42ca460810b89cd05ad296"><div class="ttname"><a href="class_timeline.html#a10a295571c42ca460810b89cd05ad296">Timeline::__appointment_cond_var</a></div><div class="ttdeci">pthread_cond_t __appointment_cond_var</div><div class="ttdoc">When a timeline encounters an incoming appointment time from a timeline, whose time has not yet reach...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00455">timeline.h:455</a></div></div>
<div class="ttc" id="event_8h_html_a23c6873cb7884dbc53ccaa0bbc164322"><div class="ttname"><a href="event_8h.html#a23c6873cb7884dbc53ccaa0bbc164322">EVTYPE_MAKE_APPT</a></div><div class="ttdeci">const unsigned int EVTYPE_MAKE_APPT</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00018">event.h:18</a></div></div>
<div class="ttc" id="class_out_channel_html"><div class="ttname"><a href="class_out_channel.html">OutChannel</a></div><div class="ttdoc">An OutChannel is the the source end of a communication connection. </div><div class="ttdef"><b>Definition:</b> <a href="outchannel_8h_source.html#l00083">outchannel.h:83</a></div></div>
<div class="ttc" id="class_timeline_html_a47d951fe662a75c1b12345e2078d079d"><div class="ttname"><a href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">Timeline::__stop_before</a></div><div class="ttdeci">ltime_t __stop_before</div><div class="ttdoc">This holds the result of a window calculation by all simulation threads, establishing an upper bound ...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00432">timeline.h:432</a></div></div>
<div class="ttc" id="event_8h_html_a6fc66414f2b30caa7edf6122af5703f3"><div class="ttname"><a href="event_8h.html#a6fc66414f2b30caa7edf6122af5703f3">EVTYPE_TIMEOUT</a></div><div class="ttdeci">const unsigned int EVTYPE_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00014">event.h:14</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
<div class="ttc" id="class_timeline_html_ad4f08d67deef6ba4ba7c6cd12e7e7e90"><div class="ttname"><a href="class_timeline.html#ad4f08d67deef6ba4ba7c6cd12e7e7e90">Timeline::__work_executed</a></div><div class="ttdeci">unsigned long __work_executed</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00504">timeline.h:504</a></div></div>
<div class="ttc" id="class_timeline_html_ae27618f55b539d967ed831a1e69fb491"><div class="ttname"><a href="class_timeline.html#ae27618f55b539d967ed831a1e69fb491">Timeline::__in_appt</a></div><div class="ttdeci">vector&lt; InAppointment &gt; __in_appt</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00484">timeline.h:484</a></div></div>
<div class="ttc" id="class_timeline_html_abb36671a2346cde1bf8d510940a22930"><div class="ttname"><a href="class_timeline.html#abb36671a2346cde1bf8d510940a22930">Timeline::change_state</a></div><div class="ttdeci">void change_state(TimelineState s)</div><div class="ttdoc">Changes Timeline state variable __state to s. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00316">timeline.h:316</a></div></div>
<div class="ttc" id="class_timeline_html_a9eaac91407baa81d45d73b2c17bf94ed"><div class="ttname"><a href="class_timeline.html#a9eaac91407baa81d45d73b2c17bf94ed">Timeline::put_activeChannel</a></div><div class="ttdeci">void put_activeChannel(InChannel *inc)</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00319">timeline.h:319</a></div></div>
<div class="ttc" id="event_8h_html_afacd477b6aba9a0b0de30b5fef881096"><div class="ttname"><a href="event_8h.html#afacd477b6aba9a0b0de30b5fef881096">EVTYPE_ACTIVATE</a></div><div class="ttdeci">const unsigned int EVTYPE_ACTIVATE</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00015">event.h:15</a></div></div>
<div class="ttc" id="class_timeline_html_a299d31d27b01f3ddcd807fabfaf1bb08"><div class="ttname"><a href="class_timeline.html#a299d31d27b01f3ddcd807fabfaf1bb08">Timeline::__executed_one_window</a></div><div class="ttdeci">unsigned long __executed_one_window</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00506">timeline.h:506</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a98845ad91d7df7488fcd7e7e48701b13"><div class="ttname"><a href="class_s_t_l___event_list.html#a98845ad91d7df7488fcd7e7e48701b13">STL_EventList::push</a></div><div class="ttdeci">void push(EventPtr n)</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00034">stl-eventlist.h:34</a></div></div>
<div class="ttc" id="struct_in_appointment__block_html_aaff7d594afc8634ff0058a14d6b177fb"><div class="ttname"><a href="struct_in_appointment__block.html#aaff7d594afc8634ff0058a14d6b177fb">InAppointment_block::appointment</a></div><div class="ttdeci">ltime_t appointment</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00025">timeline.h:25</a></div></div>
<div class="ttc" id="class_timeline_html_aea8f4e1381eab4e9459accf0cc3a5367"><div class="ttname"><a href="class_timeline.html#aea8f4e1381eab4e9459accf0cc3a5367">Timeline::__channels_to_map</a></div><div class="ttdeci">vector&lt; mappedChannel * &gt; __channels_to_map</div><div class="ttdoc">When mapto is called during execution of the simulation it may be necessary to delay its implementati...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00474">timeline.h:474</a></div></div>
<div class="ttc" id="struct_in_appointment__block_html_abf9eefa94fcd41ee13de25f4844f7967"><div class="ttname"><a href="struct_in_appointment__block.html#abf9eefa94fcd41ee13de25f4844f7967">InAppointment_block::appt_mutex</a></div><div class="ttdeci">pthread_mutex_t appt_mutex</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00027">timeline.h:27</a></div></div>
<div class="ttc" id="class_out_channel_html_ab92932e98ec070629039635f9bc0c093"><div class="ttname"><a href="class_out_channel.html#ab92932e98ec070629039635f9bc0c093">OutChannel::__mapped_to</a></div><div class="ttdeci">vector&lt; mappedChannel &gt; __mapped_to</div><div class="ttdoc">collection of mappings </div><div class="ttdef"><b>Definition:</b> <a href="outchannel_8h_source.html#l00262">outchannel.h:262</a></div></div>
<div class="ttc" id="struct_in_appointment__block_html"><div class="ttname"><a href="struct_in_appointment__block.html">InAppointment_block</a></div><div class="ttdoc">holds description of a mapto directive </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00024">timeline.h:24</a></div></div>
<div class="ttc" id="class_timeline_html_aafaf894600116514fbd626215a4d38e3"><div class="ttname"><a href="class_timeline.html#aafaf894600116514fbd626215a4d38e3">Timeline::min_sync_cross_timeline_delay</a></div><div class="ttdeci">ltime_t min_sync_cross_timeline_delay(ltime_t thrs)</div><div class="ttdoc">This computation finds among all OutChannels owned by Entities aligned to this Timeline, the smallest minimum delay no smaller than thrs among mappings to InChannels on other timelines. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l01429">timeline.cc:1429</a></div></div>
<div class="ttc" id="class_event_html_ad3db41983a797fccb141919fb8adeb29"><div class="ttname"><a href="class_event.html#ad3db41983a797fccb141919fb8adeb29">Event::get_act</a></div><div class="ttdeci">Activation get_act()</div><div class="ttdef"><b>Definition:</b> <a href="event_8cc_source.html#l00061">event.cc:61</a></div></div>
<div class="ttc" id="class_timeline_html_aed44892b8b1fd7c0519e63a81ce6cf45"><div class="ttname"><a href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">Timeline::__ve_sink_events</a></div><div class="ttdeci">STL_EventList __ve_sink_events</div><div class="ttdoc">Used for integrated with openVZ-based network emulation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00500">timeline.h:500</a></div></div>
<div class="ttc" id="class_event_html_add534f3df1ef3adb7fee12524674eac3"><div class="ttname"><a href="class_event.html#add534f3df1ef3adb7fee12524674eac3">Event::get_pri</a></div><div class="ttdeci">unsigned int get_pri()</div><div class="ttdef"><b>Definition:</b> <a href="event_8cc_source.html#l00064">event.cc:64</a></div></div>
<div class="ttc" id="class_timeline_html_a4250f651fa2bceb064867dab24aec7d9"><div class="ttname"><a href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">Timeline::__min_sync_cross_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_cross_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all cross-timeline channels in this timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00385">timeline.h:385</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c2f105fa603c5aaaf55fa6bd29b2d82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Timeline::global_continue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after a window synchronization to see if the conditions for continuing execution are meet. </p>
<p>Checks to see if the timeline interface specification for advancing is to call an interface function or not to determine whether to advance. The decision to check or not is cached in private bool variable __no_global_check (set to true if the configuration is NOT to call such a function. Otherwise, <a class="el" href="class_timeline_interface.html" title="TimelineInterface is another helper class, that carries information from the Interface class instance...">TimelineInterface</a> function stop_condition() is called. </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01594">1594</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00379">__interface_control</a>, <a class="el" href="timeline_8h_source.html#l00512">__no_global_check</a>, and <a class="el" href="interface_8h_source.html#l00142">TimelineInterface::stop_condition()</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>.</p>
<div class="fragment"><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                               {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">__no_global_check</a> ) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#a833e344a8a329915a186c18f153a6253">stop_condition</a>();</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_a9903217271eed0c57c92ffcb0f587be4"><div class="ttname"><a href="class_timeline.html#a9903217271eed0c57c92ffcb0f587be4">Timeline::__no_global_check</a></div><div class="ttdeci">bool __no_global_check</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00512">timeline.h:512</a></div></div>
<div class="ttc" id="class_timeline_html_aa1d228b3396137e6b7f52ff6c2c1cecd"><div class="ttname"><a href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">Timeline::__interface_control</a></div><div class="ttdeci">TimelineInterface * __interface_control</div><div class="ttdoc">When the Timeline is created an run, an s3f::Interface object has filled out information describing h...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00379">timeline.h:379</a></div></div>
<div class="ttc" id="class_timeline_interface_html_a833e344a8a329915a186c18f153a6253"><div class="ttname"><a href="class_timeline_interface.html#a833e344a8a329915a186c18f153a6253">TimelineInterface::stop_condition</a></div><div class="ttdeci">virtual bool stop_condition()</div><div class="ttdoc">default stop_condition function is not to stop </div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00142">interface.h:142</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ee66c80ee46b152b867ed0d9d66ed4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::select_next_event </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>evt_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> &amp;&#160;</td>
          <td class="paramname"><em>evt_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Select which event_list of the two (__events and __ve_sink_events) has the next event. </p>
<p>Return the evt_list indicator (0 - none, 1 - events, 2 - __ve_sink_events) and the next_evt_time (-1 if none) </p>

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l01239">1239</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="event_8h_source.html#l00083">Event::__key2</a>, <a class="el" href="event_8h_source.html#l00082">Event::__time</a>, <a class="el" href="timeline_8h_source.html#l00425">__time</a>, <a class="el" href="timeline_8h_source.html#l00500">__ve_sink_events</a>, <a class="el" href="stl-eventlist_8h_source.html#l00036">STL_EventList::empty()</a>, and <a class="el" href="stl-eventlist_8h_source.html#l00038">STL_EventList::top()</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>
<div class="fragment"><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;{</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() &amp;&amp; <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() )</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                evt_list = 0;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                evt_time = -1;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() )</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                evt_list = 2;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                evt_time = (<a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>())-&gt;get_time();</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() )</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                evt_list = 1;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                evt_time = (<a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>())-&gt;get_time();</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <a class="code" href="class_event.html">EventPtr</a> lhs =  <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>();</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <a class="code" href="class_event.html">EventPtr</a> rhs =  <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>();</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <span class="keywordtype">int</span> who = 1; <span class="comment">//1 for __events and 2 for __ve_sink_events</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordflow">if</span>( lhs-&gt;<a class="code" href="class_event.html#ab6a8719c9f066b44846d0d5648b4581a">__time</a> &gt; rhs-&gt;<a class="code" href="class_event.html#ab6a8719c9f066b44846d0d5648b4581a">__time</a> ) who = 2;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( lhs-&gt;<a class="code" href="class_event.html#ab6a8719c9f066b44846d0d5648b4581a">__time</a> &lt; rhs-&gt;<a class="code" href="class_event.html#ab6a8719c9f066b44846d0d5648b4581a">__time</a> ) who = 1;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( lhs-&gt;<a class="code" href="class_event.html#a3dbe4e4b63fa643829514826ab7b1a94">__key2</a> &gt; rhs-&gt;<a class="code" href="class_event.html#a3dbe4e4b63fa643829514826ab7b1a94">__key2</a>)  who = 2;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordflow">else</span> who = 1;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="keywordflow">if</span>(who == 1)</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                evt_list = 1;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                evt_time = (<a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>())-&gt;get_time();</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                <span class="comment">//test only</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                <span class="keywordflow">if</span>(evt_time &lt; <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>)</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                        printf(<span class="stringliteral">&quot;Strange\n&quot;</span>);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                        getchar();</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="keywordflow">if</span>(who == 2)</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                evt_list = 2;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                evt_time = (<a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>())-&gt;get_time();</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                <span class="comment">//test only</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                <span class="keywordflow">if</span>(evt_time &lt; <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>)</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                        printf(<span class="stringliteral">&quot;Strange\n&quot;</span>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                        getchar();</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;}</div>
<div class="ttc" id="class_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdoc">Class Event holds all the information needed to execute an s3f event. </div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00056">event.h:56</a></div></div>
<div class="ttc" id="class_event_html_ab6a8719c9f066b44846d0d5648b4581a"><div class="ttname"><a href="class_event.html#ab6a8719c9f066b44846d0d5648b4581a">Event::__time</a></div><div class="ttdeci">ltime_t __time</div><div class="ttdoc">not used in priority queue but placed here for information </div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00082">event.h:82</a></div></div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_ae93e2380b009a956696155ad9659ed77"><div class="ttname"><a href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">STL_EventList::top</a></div><div class="ttdeci">EventPtr top()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00038">stl-eventlist.h:38</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a67d759a21d4a3b046b1601cf880be647"><div class="ttname"><a href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">STL_EventList::empty</a></div><div class="ttdeci">bool empty()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00036">stl-eventlist.h:36</a></div></div>
<div class="ttc" id="class_timeline_html_aa076d7991bd74619152d94ecebdac540"><div class="ttname"><a href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">Timeline::__time</a></div><div class="ttdeci">ltime_t __time</div><div class="ttdoc">The virtual time up to which the timeline has advanced. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00425">timeline.h:425</a></div></div>
<div class="ttc" id="class_event_html_a3dbe4e4b63fa643829514826ab7b1a94"><div class="ttname"><a href="class_event.html#a3dbe4e4b63fa643829514826ab7b1a94">Event::__key2</a></div><div class="ttdeci">int __key2</div><div class="ttdoc">priority </div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00083">event.h:83</a></div></div>
<div class="ttc" id="class_timeline_html_aed44892b8b1fd7c0519e63a81ce6cf45"><div class="ttname"><a href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">Timeline::__ve_sink_events</a></div><div class="ttdeci">STL_EventList __ve_sink_events</div><div class="ttdoc">Used for integrated with openVZ-based network emulation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00500">timeline.h:500</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4faca913a12b1e663c6e809b8e8a1d89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::sim_global_scheduler_one_epoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00634">634</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00379">__interface_control</a>, <a class="el" href="timeline_8h_source.html#l00425">__time</a>, <a class="el" href="timeline_8h_source.html#l00393">__window_size</a>, <a class="el" href="timeline_8h_source.html#l00045">BLOCKED</a>, <a class="el" href="timeline_8h_source.html#l00316">change_state()</a>, <a class="el" href="timeline_8cc_source.html#l01315">get_cross_timeline_events()</a>, <a class="el" href="interface_8h_source.html#l00134">TimelineInterface::get_numTimelines()</a>, <a class="el" href="interface_8h_source.html#l00146">TimelineInterface::get_stop_before()</a>, <a class="el" href="timeline_8cc_source.html#l01594">global_continue()</a>, <a class="el" href="timeline_8h_source.html#l00564">MAX</a>, <a class="el" href="timeline_8cc_source.html#l00242">next_time()</a>, <a class="el" href="timeline_8h_source.html#l00045">RUNNING</a>, <a class="el" href="timeline_8h_source.html#l00076">s3fid()</a>, and <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00311">thread_function()</a>.</p>
<div class="fragment"><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;{</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> epoch_end = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#afad2586c3dcef248b0fde0c3813b724f">get_stop_before</a>();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> nxt_time;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordtype">int</span> bottom_barrier_status = 0;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <a class="code" href="class_timeline.html#a69913c1aa4c0e541b8e1dcfd401dede8">get_cross_timeline_events</a>();</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                <span class="comment">// compute upper edge of synchronization window---equal to</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="comment">// min_{all timelines}{ time_of_first_event + minimum_cross_timeline_delay }</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <a class="code" href="class_timeline.html#abb36671a2346cde1bf8d510940a22930">change_state</a>(<a class="code" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a376c1b6a3f75d283a2efacf737438d61">BLOCKED</a>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                nxt_time = <a class="code" href="class_timeline.html#a7c70d327d5338aa3d2b3f0f0b971598f">next_time</a>();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="preprocessor">#ifdef FAST_MULTITIMELINE_NO_X_EVENTS</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="preprocessor"></span>                <span class="comment">//todo revisit this part if cross-timeline delay is dynamic, e.g. support dynamic routing</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#a7727c958983b73c924cc6f9916cea0a7">get_numTimelines</a>() &gt; 1 &amp;&amp; <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> &gt; 0 )</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;#<span class="keywordflow">else</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#a7727c958983b73c924cc6f9916cea0a7">get_numTimelines</a>() &gt; 1 )</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;#endif</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                        <span class="comment">// if either there is no event on the event list, or no outbound connections</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        <span class="comment">// that span Timelines, offer __window_size to the barrier</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                        <span class="keywordflow">if</span>( nxt_time &lt; 0 || <a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a> &lt; 0  )</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                        {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                                <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> this_window = <a class="code" href="timeline_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, nxt_time) + <a class="code" href="class_timeline.html#ac27780dfbb3a52b7fcfca3ec39cff3c6">__window_size</a>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                                <span class="keywordflow">if</span>(this_window &gt; <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                                {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">#ifdef MUTEX_BARRIER</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor"></span>                                        bottom_barrier_status = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier.wait( this_window );</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef SCHED_YIELD_BARRIER</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor"></span>                                        bottom_barrier_status = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier.wait( <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), this_window );</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef PTHREAD_BARRIER</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="preprocessor"></span>                                        pthread_mutex_lock(&amp;bottom_barrier_min_value_mutex);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                        <span class="keywordflow">if</span>(bottom_barrier_min_value == prev_bottom_barrier_min_value || bottom_barrier_min_value &gt; this_window) bottom_barrier_min_value = this_window;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                        pthread_mutex_unlock(&amp;bottom_barrier_min_value_mutex);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                                        bottom_barrier_status = pthread_barrier_wait( &amp;(<a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier) );</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                                        <span class="keywordflow">if</span>(bottom_barrier_status == -1) prev_bottom_barrier_min_value = bottom_barrier_min_value;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="preprocessor"></span>                                }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                                <span class="keywordflow">else</span> <span class="comment">//mean nothing to execute, next_time should be infinitely large</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                                {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="preprocessor">#ifdef MUTEX_BARRIER</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor"></span>                                        bottom_barrier_status = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier.wait(-1);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef SCHED_YIELD_BARRIER</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="preprocessor"></span>                                        bottom_barrier_status = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier.wait(<a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), -1);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef PTHREAD_BARRIER</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="preprocessor"></span>                                        bottom_barrier_status = pthread_barrier_wait( &amp;(<a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier) );</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor"></span>                                }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                        {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                                <span class="comment">// either nxt_time or __min_sync_cross_timeline_delay may be -1,</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                                <span class="comment">// so ensure in both cases that the event time offered is at</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                                <span class="comment">// least __time, and that the minimum cross timeline delay is at</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                                <span class="comment">// least 0.  Compute the sum and offer to the min-reduction.</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="preprocessor">#ifdef MUTEX_BARRIER</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="preprocessor"></span>                                bottom_barrier_status = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier.wait( <a class="code" href="timeline_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>,nxt_time) + <a class="code" href="timeline_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(0,<a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a>));</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef SCHED_YIELD_BARRIER</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="preprocessor"></span>                                bottom_barrier_status = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier.wait( <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), <a class="code" href="timeline_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>,nxt_time) + <a class="code" href="timeline_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(0,<a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a>));</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef PTHREAD_BARRIER</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="preprocessor"></span>                                <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> offered_min_value = <a class="code" href="timeline_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>,nxt_time) + <a class="code" href="timeline_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(0,<a class="code" href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">__min_sync_cross_timeline_delay</a>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                                pthread_mutex_lock(&amp;bottom_barrier_min_value_mutex);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                                <span class="keywordflow">if</span>(bottom_barrier_min_value == prev_bottom_barrier_min_value || bottom_barrier_min_value &gt; offered_min_value) bottom_barrier_min_value = offered_min_value;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                                pthread_mutex_unlock(&amp;bottom_barrier_min_value_mutex);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                                bottom_barrier_status = pthread_barrier_wait( &amp;(<a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier) );</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                                <span class="keywordflow">if</span>(bottom_barrier_status == -1) prev_bottom_barrier_min_value = bottom_barrier_min_value;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor"></span>                        }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                        <span class="comment">// get the upper window edge computed by the min-reduction.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                        <span class="comment">// __stop_before holds that value.</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="preprocessor">#ifdef PTHREAD_BARRIER</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor"></span>                        <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a> = bottom_barrier_min_value;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor"></span>                        <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a> = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;bottom_barrier.get_min_value();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor"></span>                        <span class="comment">// we cannot go farther than the upper edge of the epoch window though.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a> &lt;= 0) <span class="comment">//nothing in the eventlist, jump directly to the epoch_end;</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                        {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                                <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a> = epoch_end;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                        }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                        {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                                <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a> = min(<a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a>, epoch_end);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                        }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                        <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a> = epoch_end;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                <span class="comment">// do the simulation work for the window.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                <a class="code" href="class_timeline.html#abb36671a2346cde1bf8d510940a22930">change_state</a>(<a class="code" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a1061be6c3fb88d32829cba6f6b2be304">RUNNING</a>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="preprocessor"></span>                printf(<span class="stringliteral">&quot;timeline %d enters window [%ld,%ld), size = %ld\n&quot;</span>,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>, <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a>, <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a> - <a class="code" href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">__time</a>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="preprocessor"></span>                <a class="code" href="class_timeline.html#a1c08a36df0db509e3cbc731803ce23b6">sync_window</a>();</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                <a class="code" href="class_timeline.html#abb36671a2346cde1bf8d510940a22930">change_state</a>(<a class="code" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a376c1b6a3f75d283a2efacf737438d61">BLOCKED</a>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                <span class="comment">// synchronize at a &quot;end of cycle&quot; barrier, but the one</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                <span class="comment">// to join depends on whether we&#39;ve finished an epoch.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                <span class="comment">// Can tell if __stop_before &lt; stop_before (means not done)</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                <span class="comment">//   While this is a min-reduction, we aren&#39;t using that capability</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="comment">// here, so just offer -1 (nothing)</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <span class="keywordflow">if</span>( __stop_before &lt; epoch_end &amp;&amp; __interface_control-&gt;user_force_stop == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="preprocessor">#ifdef MUTEX_BARRIER</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor"></span>                        <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;top_barrier.wait(-1);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef SCHED_YIELD_BARRIER</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="preprocessor"></span>                        <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;top_barrier.wait( <a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(),  <a class="code" href="class_timeline.html#a2c2f105fa603c5aaaf55fa6bd29b2d82">global_continue</a>() );</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef PTHREAD_BARRIER</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="preprocessor"></span>                        <span class="comment">// PTHREAD_BARRIER_SERIAL_THREAD is -1</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                        pthread_barrier_wait( &amp;(<a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;top_barrier) );</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="preprocessor"></span>                }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="preprocessor">#ifdef MUTEX_BARRIER</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="preprocessor"></span>                        <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;window_barrier.wait(<a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef SCHED_YIELD_BARRIER</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="preprocessor"></span>                        <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;window_barrier.wait(<a class="code" href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">s3fid</a>(), <a class="code" href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">__stop_before</a>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef PTHREAD_BARRIER</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="preprocessor"></span>                        pthread_barrier_wait( &amp;(<a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;window_barrier) );</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="preprocessor"></span>                }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <span class="comment">// do another synchronization window if the last one was not the epoch end</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        } <span class="keywordflow">while</span>( __stop_before &lt; epoch_end &amp;&amp; __interface_control-&gt;user_force_stop == <span class="keyword">false</span>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;}</div>
<div class="ttc" id="timeline_8h_html_a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a1061be6c3fb88d32829cba6f6b2be304"><div class="ttname"><a href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a1061be6c3fb88d32829cba6f6b2be304">RUNNING</a></div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00045">timeline.h:45</a></div></div>
<div class="ttc" id="class_timeline_html_ae464fb0656e1f2b62d11d728962dfa57"><div class="ttname"><a href="class_timeline.html#ae464fb0656e1f2b62d11d728962dfa57">Timeline::s3fid</a></div><div class="ttdeci">unsigned s3fid()</div><div class="ttdoc">Returns the id for this timeline, between 0 and the number of created timelines minus 1...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00076">timeline.h:76</a></div></div>
<div class="ttc" id="class_timeline_interface_html_afad2586c3dcef248b0fde0c3813b724f"><div class="ttname"><a href="class_timeline_interface.html#afad2586c3dcef248b0fde0c3813b724f">TimelineInterface::get_stop_before</a></div><div class="ttdeci">ltime_t get_stop_before()</div><div class="ttdoc">access to epoch state variable </div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00146">interface.h:146</a></div></div>
<div class="ttc" id="class_timeline_html_a1c08a36df0db509e3cbc731803ce23b6"><div class="ttname"><a href="class_timeline.html#a1c08a36df0db509e3cbc731803ce23b6">Timeline::sync_window</a></div><div class="ttdeci">void sync_window()</div><div class="ttdoc">The heart of the thread_body is code that establishes a synchronization window, and then all Timeline...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l00786">timeline.cc:786</a></div></div>
<div class="ttc" id="class_timeline_html_a7c70d327d5338aa3d2b3f0f0b971598f"><div class="ttname"><a href="class_timeline.html#a7c70d327d5338aa3d2b3f0f0b971598f">Timeline::next_time</a></div><div class="ttdeci">ltime_t next_time()</div><div class="ttdoc">Return the timestamp of the event with least timestamp of the two event-lists. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l00242">timeline.cc:242</a></div></div>
<div class="ttc" id="class_timeline_html_a2c2f105fa603c5aaaf55fa6bd29b2d82"><div class="ttname"><a href="class_timeline.html#a2c2f105fa603c5aaaf55fa6bd29b2d82">Timeline::global_continue</a></div><div class="ttdeci">bool global_continue()</div><div class="ttdoc">Called after a window synchronization to see if the conditions for continuing execution are meet...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l01594">timeline.cc:1594</a></div></div>
<div class="ttc" id="timeline_8h_html_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="timeline_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00564">timeline.h:564</a></div></div>
<div class="ttc" id="class_timeline_html_aa076d7991bd74619152d94ecebdac540"><div class="ttname"><a href="class_timeline.html#aa076d7991bd74619152d94ecebdac540">Timeline::__time</a></div><div class="ttdeci">ltime_t __time</div><div class="ttdoc">The virtual time up to which the timeline has advanced. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00425">timeline.h:425</a></div></div>
<div class="ttc" id="class_timeline_html_aa1d228b3396137e6b7f52ff6c2c1cecd"><div class="ttname"><a href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">Timeline::__interface_control</a></div><div class="ttdeci">TimelineInterface * __interface_control</div><div class="ttdoc">When the Timeline is created an run, an s3f::Interface object has filled out information describing h...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00379">timeline.h:379</a></div></div>
<div class="ttc" id="class_timeline_interface_html_a7727c958983b73c924cc6f9916cea0a7"><div class="ttname"><a href="class_timeline_interface.html#a7727c958983b73c924cc6f9916cea0a7">TimelineInterface::get_numTimelines</a></div><div class="ttdeci">int get_numTimelines()</div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00134">interface.h:134</a></div></div>
<div class="ttc" id="class_timeline_html_ac27780dfbb3a52b7fcfca3ec39cff3c6"><div class="ttname"><a href="class_timeline.html#ac27780dfbb3a52b7fcfca3ec39cff3c6">Timeline::__window_size</a></div><div class="ttdeci">ltime_t __window_size</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00393">timeline.h:393</a></div></div>
<div class="ttc" id="class_timeline_html_a47d951fe662a75c1b12345e2078d079d"><div class="ttname"><a href="class_timeline.html#a47d951fe662a75c1b12345e2078d079d">Timeline::__stop_before</a></div><div class="ttdeci">ltime_t __stop_before</div><div class="ttdoc">This holds the result of a window calculation by all simulation threads, establishing an upper bound ...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00432">timeline.h:432</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
<div class="ttc" id="timeline_8h_html_a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a376c1b6a3f75d283a2efacf737438d61"><div class="ttname"><a href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8a376c1b6a3f75d283a2efacf737438d61">BLOCKED</a></div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00045">timeline.h:45</a></div></div>
<div class="ttc" id="class_timeline_html_a69913c1aa4c0e541b8e1dcfd401dede8"><div class="ttname"><a href="class_timeline.html#a69913c1aa4c0e541b8e1dcfd401dede8">Timeline::get_cross_timeline_events</a></div><div class="ttdeci">void get_cross_timeline_events()</div><div class="ttdoc">Writes that cross timelines are buffered until the beginning of the next synchronization window; when...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l01315">timeline.cc:1315</a></div></div>
<div class="ttc" id="class_timeline_html_abb36671a2346cde1bf8d510940a22930"><div class="ttname"><a href="class_timeline.html#abb36671a2346cde1bf8d510940a22930">Timeline::change_state</a></div><div class="ttdeci">void change_state(TimelineState s)</div><div class="ttdoc">Changes Timeline state variable __state to s. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00316">timeline.h:316</a></div></div>
<div class="ttc" id="class_timeline_html_a4250f651fa2bceb064867dab24aec7d9"><div class="ttname"><a href="class_timeline.html#a4250f651fa2bceb064867dab24aec7d9">Timeline::__min_sync_cross_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_cross_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all cross-timeline channels in this timeline. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00385">timeline.h:385</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a91d86331bb9d4518d988ff8971e85f49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::sim_emu_global_scheduler_one_epoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00311">thread_function()</a>.</p>

</div>
</div>
<a class="anchor" id="a09a4e5bb8bff7221a1526072b54de423"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::ve_proxy_entity_potential_impact_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8cc_source.html#l00359">359</a> of file <a class="el" href="timeline_8cc_source.html">timeline.cc</a>.</p>

<p>References <a class="el" href="timeline_8h_source.html#l00488">__events</a>, <a class="el" href="timeline_8h_source.html#l00379">__interface_control</a>, <a class="el" href="timeline_8h_source.html#l00388">__min_sync_all_timeline_delay</a>, <a class="el" href="timeline_8h_source.html#l00500">__ve_sink_events</a>, <a class="el" href="stl-eventlist_8h_source.html#l00036">STL_EventList::empty()</a>, <a class="el" href="class_sim_ctrl.html#a8eb2f4079068d5c0b3c6468c293a2aa8">SimCtrl::get_clock()</a>, <a class="el" href="event_8h_source.html#l00080">Event::get_time()</a>, <a class="el" href="interface_8h_source.html#l00075">TimelineInterface::sc</a>, <a class="el" href="s3f_8h_source.html#l00124">STOPBYDEMAND_MAX_ESW_SCALAR</a>, and <a class="el" href="stl-eventlist_8h_source.html#l00038">STL_EventList::top()</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> nxt_time_ve;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> nxt_time;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> emu_now = <a class="code" href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">__interface_control</a>-&gt;<a class="code" href="class_timeline_interface.html#aa5a3958a8c32ef96385536475c415427">sc</a>-&gt;<a class="code" href="class_sim_ctrl.html#a8eb2f4079068d5c0b3c6468c293a2aa8">get_clock</a>();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> return_time;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() &amp;&amp; <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() )</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">#ifdef OPENVZ_EMULATION_LOOKAHEAD</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="preprocessor"></span>                <span class="comment">//return emu_now + __min_sync_all_timeline_delay;</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor"></span>                <span class="keywordflow">return</span> emu_now + <a class="code" href="s3f_8h.html#a605f2bca900f3821266f2397e80ba48e">STOPBYDEMAND_MAX_ESW_SCALAR</a> * VTIME_VTIMESLICE;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() ) nxt_time_ve = INT_MAX;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">else</span> nxt_time_ve = <a class="code" href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">__ve_sink_events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>()-&gt;<a class="code" href="class_event.html#a859bf1839d419e038759b1aef2e047df">get_time</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">empty</a>() ) nxt_time = INT_MAX;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">else</span> nxt_time = <a class="code" href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">__events</a>.<a class="code" href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">top</a>()-&gt;<a class="code" href="class_event.html#a859bf1839d419e038759b1aef2e047df">get_time</a>();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#ifdef OPENVZ_EMULATION_LOOKAHEAD</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor"></span>        return_time = min(min(nxt_time, emu_now + ve_lookahead) + <a class="code" href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">__min_sync_all_timeline_delay</a>, nxt_time_ve);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        clear_lookahead();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="preprocessor"></span>        return_time = min(emu_now + <a class="code" href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">__min_sync_all_timeline_delay</a>, nxt_time_ve);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">return</span> return_time;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_adc18b0d7c5bce675d3877be783026b19"><div class="ttname"><a href="class_timeline.html#adc18b0d7c5bce675d3877be783026b19">Timeline::__min_sync_all_timeline_delay</a></div><div class="ttdeci">ltime_t __min_sync_all_timeline_delay</div><div class="ttdoc">Minimum transfer delay among all channels in this timeline (non-cross-timeline and cross-timeline)...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00388">timeline.h:388</a></div></div>
<div class="ttc" id="class_timeline_html_aab1712faa3abf3316e1c24a52b249485"><div class="ttname"><a href="class_timeline.html#aab1712faa3abf3316e1c24a52b249485">Timeline::__events</a></div><div class="ttdeci">STL_EventList __events</div><div class="ttdoc">The event list. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00488">timeline.h:488</a></div></div>
<div class="ttc" id="class_timeline_interface_html_aa5a3958a8c32ef96385536475c415427"><div class="ttname"><a href="class_timeline_interface.html#aa5a3958a8c32ef96385536475c415427">TimelineInterface::sc</a></div><div class="ttdeci">SimCtrl * sc</div><div class="ttdef"><b>Definition:</b> <a href="interface_8h_source.html#l00075">interface.h:75</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_ae93e2380b009a956696155ad9659ed77"><div class="ttname"><a href="class_s_t_l___event_list.html#ae93e2380b009a956696155ad9659ed77">STL_EventList::top</a></div><div class="ttdeci">EventPtr top()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00038">stl-eventlist.h:38</a></div></div>
<div class="ttc" id="class_s_t_l___event_list_html_a67d759a21d4a3b046b1601cf880be647"><div class="ttname"><a href="class_s_t_l___event_list.html#a67d759a21d4a3b046b1601cf880be647">STL_EventList::empty</a></div><div class="ttdeci">bool empty()</div><div class="ttdef"><b>Definition:</b> <a href="stl-eventlist_8h_source.html#l00036">stl-eventlist.h:36</a></div></div>
<div class="ttc" id="class_timeline_html_aa1d228b3396137e6b7f52ff6c2c1cecd"><div class="ttname"><a href="class_timeline.html#aa1d228b3396137e6b7f52ff6c2c1cecd">Timeline::__interface_control</a></div><div class="ttdeci">TimelineInterface * __interface_control</div><div class="ttdoc">When the Timeline is created an run, an s3f::Interface object has filled out information describing h...</div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00379">timeline.h:379</a></div></div>
<div class="ttc" id="class_event_html_a859bf1839d419e038759b1aef2e047df"><div class="ttname"><a href="class_event.html#a859bf1839d419e038759b1aef2e047df">Event::get_time</a></div><div class="ttdeci">ltime_t get_time()</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00080">event.h:80</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
<div class="ttc" id="class_sim_ctrl_html_a8eb2f4079068d5c0b3c6468c293a2aa8"><div class="ttname"><a href="class_sim_ctrl.html#a8eb2f4079068d5c0b3c6468c293a2aa8">SimCtrl::get_clock</a></div><div class="ttdeci">virtual ltime_t get_clock()=0</div><div class="ttdoc">get current emulation time </div></div>
<div class="ttc" id="class_timeline_html_aed44892b8b1fd7c0519e63a81ce6cf45"><div class="ttname"><a href="class_timeline.html#aed44892b8b1fd7c0519e63a81ce6cf45">Timeline::__ve_sink_events</a></div><div class="ttdeci">STL_EventList __ve_sink_events</div><div class="ttdoc">Used for integrated with openVZ-based network emulation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00500">timeline.h:500</a></div></div>
<div class="ttc" id="s3f_8h_html_a605f2bca900f3821266f2397e80ba48e"><div class="ttname"><a href="s3f_8h.html#a605f2bca900f3821266f2397e80ba48e">STOPBYDEMAND_MAX_ESW_SCALAR</a></div><div class="ttdeci">#define STOPBYDEMAND_MAX_ESW_SCALAR</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00124">s3f.h:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a890b73b5e4816dc7e320e83c8f6ed13f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Timeline::manual_binding_thread_to_core </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a44ec365807f09c8872bdbbc986b3f14a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* proxy_function </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>timeline_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interface_8cc_source.html#l00037">37</a> of file <a class="el" href="interface_8cc_source.html">interface.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                           {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="class_timeline.html">Timeline</a> *<span class="keyword">&gt;</span>(timeline_ptr)-&gt;<a class="code" href="class_timeline.html#a345add6ab6e65949a36763a8cf96f0e5">thread_function</a>();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="class_timeline_html_a345add6ab6e65949a36763a8cf96f0e5"><div class="ttname"><a href="class_timeline.html#a345add6ab6e65949a36763a8cf96f0e5">Timeline::thread_function</a></div><div class="ttdeci">void * thread_function()</div><div class="ttdoc">This is the code body of the Timeline thread. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8cc_source.html#l00311">timeline.cc:311</a></div></div>
<div class="ttc" id="class_timeline_html"><div class="ttname"><a href="class_timeline.html">Timeline</a></div><div class="ttdoc">Timeline is a logical process in concept, and a pthread by implementation. </div><div class="ttdef"><b>Definition:</b> <a href="timeline_8h_source.html#l00051">timeline.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad179370aedadf833a3ff23d70b05404e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timeline_8h.html#a6d6fe5b9a6dc1bcf7808f9878b4e4ba8">TimelineState</a> Timeline::__state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current state of the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>, (one of INITIALIZING, RUNNING, BLOCKED). </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00363">363</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00316">change_state()</a>, <a class="el" href="timeline_8h_source.html#l00073">get_state()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d64aa26319c572cccdb1ef5fb547d4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Timeline::__s3fid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s own id. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00364">364</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00076">s3fid()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a558784ccc7eb808b27d037c127becbc6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_process.html">Process</a>* Timeline::__this</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Just before a <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> body is executed, __this is set to point to the instance of the <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a>. </p>
<p>This is used as a default <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> for calls to waitFor that do not directly specify the <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> body to execute at the expiration of the waitFor timer. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00371">371</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00226">get_running_proc()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1d228b3396137e6b7f52ff6c2c1cecd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_timeline_interface.html">TimelineInterface</a>* Timeline::__interface_control</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> is created an run, an s3f::Interface object has filled out information describing how it wishes the simulation to advance during the next epoch of time. </p>
<p>__interface_control holds a pointer to that (shared) structure. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00379">379</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00088">get_timeline_interface()</a>, <a class="el" href="timeline_8cc_source.html#l01594">global_continue()</a>, <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>, <a class="el" href="timeline_8cc_source.html#l00311">thread_function()</a>, and <a class="el" href="timeline_8cc_source.html#l00359">ve_proxy_entity_potential_impact_time()</a>.</p>

</div>
</div>
<a class="anchor" id="ade34de3a6f57e058c3d1d9e0e00a0479"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="class_entity.html">Entity</a>*&gt; Timeline::__entity_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This list holds a pointer for every <a class="el" href="class_entity.html" title="In S3F the Entity object holds the simulation state, the methods that express the logic of the simula...">Entity</a> aligned to this <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00382">382</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="entity_8cc_source.html#l00073">Entity::BuildEntity()</a>, <a class="el" href="timeline_8cc_source.html#l01492">count_min_delay_crossings()</a>, <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>, <a class="el" href="timeline_8cc_source.html#l01456">min_sync_all_timeline_delay()</a>, and <a class="el" href="timeline_8cc_source.html#l01429">min_sync_cross_timeline_delay()</a>.</p>

</div>
</div>
<a class="anchor" id="a4250f651fa2bceb064867dab24aec7d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::__min_sync_cross_timeline_delay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum transfer delay among all cross-timeline channels in this timeline. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00385">385</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00277">get_min_sync_cross_timeline_delay()</a>, <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="adc18b0d7c5bce675d3877be783026b19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::__min_sync_all_timeline_delay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum transfer delay among all channels in this timeline (non-cross-timeline and cross-timeline). </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00388">388</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01405">all_timeline_delay()</a>, <a class="el" href="timeline_8h_source.html#l00280">get_min_sync_all_timeline_delay()</a>, <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>, and <a class="el" href="timeline_8cc_source.html#l00359">ve_proxy_entity_potential_impact_time()</a>.</p>

</div>
</div>
<a class="anchor" id="a44f83d3e643fe6db2a2270efdfa87c5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::__min_sync_same_timeline_delay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum transfer delay among all non-cross-timeline channels in this timeline. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00391">391</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00283">get_min_sync_same_timeline_delay()</a>, <a class="el" href="timeline_8cc_source.html#l01412">same_timeline_delay()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="ac27780dfbb3a52b7fcfca3ec39cff3c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::__window_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00393">393</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>, <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>, and <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>

</div>
</div>
<a class="anchor" id="a9fa43a733ecbe9c370c9cff3dda055fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Timeline::__channels_at_minimum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>After __min_sync_cross_timeline_delay is computed, we count the number of connections whose minimum delay values are exactly this. </p>
<p>Such a count helps to minimize calls to the expensive routine that recalculates __min_sync_cross_timeline_delay after some mapping change. If a connection that has this minimum is removed or the minimum delay increases, so long as __channels_at_minimum is still non-zero there is no need to recompute. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00403">403</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>, <a class="el" href="outchannel_8cc_source.html#l00394">OutChannel::new_transfer_delay()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e6287ee2bc5e8d0659038d3343a03f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Timeline::__recompute_min_delay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set to false at the beginning of a synchronization window, __recompute_min_delay is set to true if a dynamically called mapto or an unmap call remove the last known connection with minimum delay value __min_sync_cross_timeline_delay. </p>
<p>The flag is checked at the end of the window and a re-computation triggered if needed. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00411">411</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00394">OutChannel::new_transfer_delay()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="outchannel_8cc_source.html#l00270">OutChannel::unmap()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e97f558f102b26b3e6297214508832c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Timeline::__log_ticks_per_sec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scale factor for virtual time clock, gives the logarithm base 10 of the number of clock ticks (increment of 1 on the clock variable) in each virtual time second. </p>
<p>Used when converting double precision floating point variables from or to native clock ticks. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00418">418</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00083">get_log_ticks_per_sec()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="aa076d7991bd74619152d94ecebdac540"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::__time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The virtual time up to which the timeline has advanced. </p>
<p>__time is set to the time of a <a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> body activation when that is made, and then skips up to the end of the synchronization window after all events within the window have been executed. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00425">425</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00067">now()</a>, <a class="el" href="timeline_8cc_source.html#l00156">schedule()</a>, <a class="el" href="timeline_8cc_source.html#l01239">select_next_event()</a>, <a class="el" href="timeline_8cc_source.html#l00634">sim_global_scheduler_one_epoch()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, <a class="el" href="timeline_8cc_source.html#l00311">thread_function()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a47d951fe662a75c1b12345e2078d079d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::__stop_before</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This holds the result of a window calculation by all simulation threads, establishing an upper bound on how far they may simulate this window. </p>
<p>Any activation with a timestamp strictly less than __stop_before may be executed. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00432">432</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00070">horizon()</a>.</p>

</div>
</div>
<a class="anchor" id="a42997d966fb3466648974ce53823b34d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Timeline::__window</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This integer keeps track of the number of synchronization windows that have been completed. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00435">435</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3315665827d6072cf8c55e001bbbe4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_in_channel.html">InChannel</a>* Timeline::__activeChannel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00437">437</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00318">get_activeChannel()</a>, <a class="el" href="timeline_8h_source.html#l00319">put_activeChannel()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a02682ddecc00518833a5d53378fbcf04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="event_8h.html#a867f7bbf1403b77a908ccdda0ac25920">EventPtr</a>&gt; Timeline::__window_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector holding description of cross timeline writes. </p>
<p>These have been formatted already into the same data structure as is used for the priority list. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00444">444</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01315">get_cross_timeline_events()</a>, and <a class="el" href="timeline_8cc_source.html#l00156">schedule()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4629935565db07fe5f26a6411d7745d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t Timeline::__events_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access to __window_list is guarded by mutex __events_mutex. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00447">447</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00156">schedule()</a>, <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="abe455ed8a85f9cd83e137c66b740958b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t Timeline::timeline_inst_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00448">448</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="entity_8cc_source.html#l00073">Entity::BuildEntity()</a>, <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a10a295571c42ca460810b89cd05ad296"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_cond_t Timeline::__appointment_cond_var</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When a timeline encounters an incoming appointment time from a timeline, whose time has not yet reached the appointment, it waits on this condition variable. </p>
<p>The timeline it waits for must signal the variable. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00455">455</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a5878d44c6e195ae9287a03e8d265371d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_timeline.html">Timeline</a>* Timeline::__waiting_on_timeline</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When a timeline reaches an incoming appointment and finds that the timeline it awaits has not yet reached the synchronization point, it puts that <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s address in this variable and does a wait on the condition variable. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00462">462</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

</div>
</div>
<a class="anchor" id="aea8f4e1381eab4e9459accf0cc3a5367"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="classmapped_channel.html">mappedChannel</a>*&gt; Timeline::__channels_to_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When mapto is called during execution of the simulation it may be necessary to delay its implementation until the end of the current simulation window. </p>
<p>When that happens, a description of the mapping is created and a pointer to it is put in the __channels_to_map vector. At the end of a synchronization window the <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> checks whether this list is empty, and if not implements the new maptos. If in addition the variable __recompute_min_delay is true, then the new local minimum is computed before entering the next synchronization window (at which point that value is needed). </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00474">474</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00186">OutChannel::mapto()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="outchannel_8cc_source.html#l00270">OutChannel::unmap()</a>.</p>

</div>
</div>
<a class="anchor" id="a69c55c8b78872d5b625426e639f32e42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="classmapped_channel.html">mappedChannel</a>*&gt; Timeline::__delays_to_change</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="namespaces3f.html" title="S3F Scalable Simulation Framework. ">s3f</a> interface to OutChannels allows for dynamic adjustment to the minimum delay on some specified connection. </p>
<p>Delays that cannot immediately be dealt with are buffered in vector __delays_to_change. As with __channels_to_map, at the end of the synchronization window the size of this list is checked. If not empty the new minimum delays are imposed, and any need for recomputation of __min_sync_cross_timeline_delay is noted. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00483">483</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="outchannel_8cc_source.html#l00474">OutChannel::new_min_write_delay()</a>, <a class="el" href="outchannel_8cc_source.html#l00394">OutChannel::new_transfer_delay()</a>, and <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>

</div>
</div>
<a class="anchor" id="ae27618f55b539d967ed831a1e69fb491"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="timeline_8h.html#ac3fc8316a741e918966b83a5de7daee5">InAppointment</a>&gt; Timeline::__in_appt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00484">484</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d57c7ddb9a5e5b0669d191d2904402c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="timeline_8h.html#ac94ed1a22f0ec100131e9006ed33c13a">OutAppointment</a>&gt; Timeline::__out_appt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00485">485</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00156">schedule()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="aab1712faa3abf3316e1c24a52b249485"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_s_t_l___event_list.html">STL_EventList</a> Timeline::__events</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The event list. </p>
<p>An STL priority list structure is used. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00488">488</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01315">get_cross_timeline_events()</a>, <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00242">next_time()</a>, <a class="el" href="timeline_8cc_source.html#l00105">schedule()</a>, <a class="el" href="timeline_8cc_source.html#l01239">select_next_event()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, <a class="el" href="timeline_8cc_source.html#l00359">ve_proxy_entity_potential_impact_time()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="aed44892b8b1fd7c0519e63a81ce6cf45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_s_t_l___event_list.html">STL_EventList</a> Timeline::__ve_sink_events</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for integrated with openVZ-based network emulation. </p>
<p>Storing events that can affect the status of a VE, in particular, a packet received at a VE-proxy entity (should be delivery to the corresponding VE as soon as possible) currently EVTYPE_ACTIVATE and EVTYPE_EXEC_ACTIVATE events, whose inChannel is attached to VE-proxy entity, are put into this event list if __ve_sink_events is used, then __events + __ve_sink_events = all events Details in the 2012 PADS paper "Virtual Time Integration of Emulation and Parallel Simulation" </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00500">500</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01315">get_cross_timeline_events()</a>, <a class="el" href="timeline_8cc_source.html#l00242">next_time()</a>, <a class="el" href="timeline_8cc_source.html#l00156">schedule()</a>, <a class="el" href="timeline_8cc_source.html#l01239">select_next_event()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, <a class="el" href="timeline_8cc_source.html#l00359">ve_proxy_entity_potential_impact_time()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a569d3ceb969616c4f72aab029677ff0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::__handle_idx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00502">502</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01590">get_nxt_handle()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="ade5adf0a58bde5d74dff9c8f09db8c8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::__executed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00503">503</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00320">get_executed()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4f08d67deef6ba4ba7c6cd12e7e7e90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::__work_executed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00504">504</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00321">get_work_executed()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a73082133c3afb03fcd16f954bbbd5b35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::__sync_executed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00505">505</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8h_source.html#l00322">get_sync_executed()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a299d31d27b01f3ddcd807fabfaf1bb08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::__executed_one_window</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00506">506</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a1759c538b78327e89744b55c1101d94e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::__work_executed_one_window</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00507">507</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a17f9b72fa901315260c36c6ed6b751b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Timeline::__sync_executed_one_window</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00508">508</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ce6ac3c63d04da29e2becc05491bc65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Timeline::__evtnum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00510">510</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00105">schedule()</a>, and <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>.</p>

</div>
</div>
<a class="anchor" id="a9903217271eed0c57c92ffcb0f587be4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Timeline::__no_global_check</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00512">512</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01594">global_continue()</a>, <a class="el" href="timeline_8cc_source.html#l00311">thread_function()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="aa67559f1450aa3e1f473128cc88d481f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> Timeline::t_prime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>time of first executed deliver-to-VE event in previous SSW </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00514">514</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a53806adf4a07d9de843bcafc077bb605"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t Timeline::timeline_class_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Synchronizes access to __entity_list. </p>
<p>Needed when the implementation advances to dynamic alignment of Entities to Timelines. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00528">528</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="interface_8cc_source.html#l00067">Interface::Interface()</a>, <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>, and <a class="el" href="timeline_8cc_source.html#l01352">~Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="ae47c5f160783ea2f10e8fbcaeb347183"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Timeline::__num_timelines = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enumerates the number of <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a> instances created. </p>
<p>Value at instance of a <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s creation becomes that <a class="el" href="class_timeline.html" title="Timeline is a logical process in concept, and a pthread by implementation. ">Timeline</a>'s id. </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00534">534</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="interface_8cc_source.html#l00166">Interface::InitModel()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="a9562ac0621c2079c30d4b9bc216e91e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Timeline::default_sched_pri</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls to schedule that could provide a priority for same-time tie-breking but do not are given this default_sched_pri. </p>
<p>The range of values permitted a user is 0- (2^{16}-1). default_sched_pri is set to this largest value (like time, smaller means higher priority). </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00542">542</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>, <a class="el" href="entity_8cc_source.html#l00148">Entity::waitFor()</a>, and <a class="el" href="outchannel_8cc_source.html#l00153">OutChannel::write()</a>.</p>

</div>
</div>
<a class="anchor" id="aafd555350491a860cfa04fb8c707f0a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Timeline::min_sched_pri</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>minimum possible scheduling priority, used only by a timeline, not a user priority </p>

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00545">545</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<a class="anchor" id="af131ceb9fc6400fadc8be839ea45849f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="class_timeline.html">Timeline</a> * &gt; Timeline::timeline_adrs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="timeline_8h_source.html#l00546">546</a> of file <a class="el" href="timeline_8h_source.html">timeline.h</a>.</p>

<p>Referenced by <a class="el" href="timeline_8cc_source.html#l01511">initialize_appt()</a>, <a class="el" href="timeline_8cc_source.html#l00786">sync_window()</a>, and <a class="el" href="timeline_8cc_source.html#l00020">Timeline()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="timeline_8h_source.html">timeline.h</a></li>
<li><a class="el" href="timeline_8cc_source.html">timeline.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_timeline.html">Timeline</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 00:36:01 for S3F by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
