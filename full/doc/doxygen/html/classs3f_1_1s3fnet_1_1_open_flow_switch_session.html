<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>S3F: s3f::s3fnet::OpenFlowSwitchSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">S3F
   &#160;<span id="projectnumber">2.1.0_full_version</span>
   </div>
   <div id="projectbrief">Simpler Scalable Simulation Framework + S3F-based Network Testbed (Simulation, OpenVZ-based Emulation, and OpenFlow-based SDN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classs3f_1_1s3fnet_1_1_open_flow_switch_session.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">s3f::s3fnet::OpenFlowSwitchSession Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An OpenFlow switch that switches multiple LAN segments via an OpenFlow-compatible flow table.  
 <a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for s3f::s3fnet::OpenFlowSwitchSession:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classs3f_1_1s3fnet_1_1_open_flow_switch_session.png" usemap="#s3f::s3fnet::OpenFlowSwitchSession_map" alt=""/>
  <map id="s3f::s3fnet::OpenFlowSwitchSession_map" name="s3f::s3fnet::OpenFlowSwitchSession_map">
<area href="classs3f_1_1s3fnet_1_1_protocol_session.html" title="A protocol layer on the protocol stack. " alt="s3f::s3fnet::ProtocolSession" shape="rect" coords="0,56,214,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a683dd9bc9c34204838e69790fd82f098"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">InstantiationType</a> { <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a> = 0x00, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">PROT_MULTIPLE_INSTANCES</a> = 0x01, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">PROT_MULTIPLE_IMPLEMENTATIONS</a> = 0x02
 }</td></tr>
<tr class="memdesc:a683dd9bc9c34204838e69790fd82f098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiple protocol session instantiation type.  <a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">More...</a><br/></td></tr>
<tr class="separator:a683dd9bc9c34204838e69790fd82f098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3846269d44f267c44706152b1a78a118"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">ExecutionStage</a> { <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">PSESS_CREATED</a> = 0, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a> = 1, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a> = 2, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a> = 3
 }</td></tr>
<tr class="memdesc:a3846269d44f267c44706152b1a78a118"><td class="mdescLeft">&#160;</td><td class="mdescRight">A normal protocol session must go though the following stages.  <a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">More...</a><br/></td></tr>
<tr class="separator:a3846269d44f267c44706152b1a78a118"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a79b1d48edbb1aec6b740de60666414f2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a79b1d48edbb1aec6b740de60666414f2">wrapup</a> ()</td></tr>
<tr class="memdesc:a79b1d48edbb1aec6b740de60666414f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method is used to wrap up the protocol session.  <a href="#a79b1d48edbb1aec6b740de60666414f2">More...</a><br/></td></tr>
<tr class="separator:a79b1d48edbb1aec6b740de60666414f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9fa5693373188218eba85c782583e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7">pushdown</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *hi_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:a1a9fa5693373188218eba85c782583e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The original push method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7" title="The original push method is divided into pushdown() and push(). ">pushdown()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">push()</a>.  <a href="#a1a9fa5693373188218eba85c782583e7">More...</a><br/></td></tr>
<tr class="separator:a1a9fa5693373188218eba85c782583e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f962741a6c055135d2cab28ea0b9c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8">popup</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *lo_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:af3f962741a6c055135d2cab28ea0b9c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The original pop method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8" title="The original pop method is divided into popup() and pop(). ">popup()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">pop()</a>.  <a href="#af3f962741a6c055135d2cab28ea0b9c8">More...</a><br/></td></tr>
<tr class="separator:af3f962741a6c055135d2cab28ea0b9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a383bfb5d8385ab3ddbabaeba2e4a38aa">inGraph</a> ()</td></tr>
<tr class="memdesc:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns the protocol graph in which this protocol session resides.  <a href="#a383bfb5d8385ab3ddbabaeba2e4a38aa">More...</a><br/></td></tr>
<tr class="separator:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afadb38bfa4c4daa1049b229d7abce81c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classs3f_1_1s3fnet_1_1_host.html">Host</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a> ()</td></tr>
<tr class="memdesc:afadb38bfa4c4daa1049b229d7abce81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the host owning this protocol session.  <a href="#afadb38bfa4c4daa1049b229d7abce81c">More...</a><br/></td></tr>
<tr class="separator:afadb38bfa4c4daa1049b229d7abce81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffe57c5dfd8cc847d566acf4581b968"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9ffe57c5dfd8cc847d566acf4581b968">getRandom</a> ()</td></tr>
<tr class="memdesc:a9ffe57c5dfd8cc847d566acf4581b968"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns a pointer to the random number generator.  <a href="#a9ffe57c5dfd8cc847d566acf4581b968">More...</a><br/></td></tr>
<tr class="separator:a9ffe57c5dfd8cc847d566acf4581b968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7a8fc3b0c62b09c82b72268b56abb58c">getNow</a> ()</td></tr>
<tr class="memdesc:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns the current simulation time.  <a href="#a7a8fc3b0c62b09c82b72268b56abb58c">More...</a><br/></td></tr>
<tr class="separator:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0250c97bad17f18ef7037fd76f7e5083"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a> ()</td></tr>
<tr class="memdesc:a0250c97bad17f18ef7037fd76f7e5083"><td class="mdescLeft">&#160;</td><td class="mdescRight">For printing the current simulation time in a better readable format.  <a href="#a0250c97bad17f18ef7037fd76f7e5083">More...</a><br/></td></tr>
<tr class="separator:a0250c97bad17f18ef7037fd76f7e5083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422a77ab55edab25263965f7eaf5458e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a422a77ab55edab25263965f7eaf5458e">configured</a> ()</td></tr>
<tr class="memdesc:a422a77ab55edab25263965f7eaf5458e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been configured.  <a href="#a422a77ab55edab25263965f7eaf5458e">More...</a><br/></td></tr>
<tr class="separator:a422a77ab55edab25263965f7eaf5458e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7233711f9c8c606c611ec97ee29cdb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">initialized</a> ()</td></tr>
<tr class="memdesc:aca7233711f9c8c606c611ec97ee29cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been initialized.  <a href="#aca7233711f9c8c606c611ec97ee29cdb">More...</a><br/></td></tr>
<tr class="separator:aca7233711f9c8c606c611ec97ee29cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac934416dd1e279568a3bef2e8a6b045d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">wrapped_up</a> ()</td></tr>
<tr class="memdesc:ac934416dd1e279568a3bef2e8a6b045d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been wrapped up.  <a href="#ac934416dd1e279568a3bef2e8a6b045d">More...</a><br/></td></tr>
<tr class="separator:ac934416dd1e279568a3bef2e8a6b045d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7089cc1e64ae5238d584e140a54ac046"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7089cc1e64ae5238d584e140a54ac046">psesstype</a> ()</td></tr>
<tr class="separator:a7089cc1e64ae5238d584e140a54ac046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">From NetDevice</div></td></tr>
<tr class="memitem:af2c2a38988c9ae59671e67e6cb8fe7b1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af2c2a38988c9ae59671e67e6cb8fe7b1">SetMtu</a> (const uint16_t mtu)</td></tr>
<tr class="separator:af2c2a38988c9ae59671e67e6cb8fe7b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73374f89b77a98f4df8bcb7d9160094e"><td class="memItemLeft" align="right" valign="top">virtual uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a73374f89b77a98f4df8bcb7d9160094e">GetMtu</a> (void) const </td></tr>
<tr class="separator:a73374f89b77a98f4df8bcb7d9160094e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ca833e880b31379e8f8a92fb56331b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a59ca833e880b31379e8f8a92fb56331b">IsLinkUp</a> (void) const </td></tr>
<tr class="separator:a59ca833e880b31379e8f8a92fb56331b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8ce27a50c5f4c3c1d0ba66d58f514e2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html">NetworkInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ce27a50c5f4c3c1d0ba66d58f514e2c">ofctrl_port</a></td></tr>
<tr class="memdesc:a8ce27a50c5f4c3c1d0ba66d58f514e2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the <a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html" title="A network interface. ">NetworkInterface</a> of the OpenFlow controller  <a href="#a8ce27a50c5f4c3c1d0ba66d58f514e2c">More...</a><br/></td></tr>
<tr class="separator:a8ce27a50c5f4c3c1d0ba66d58f514e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af361d2abf6de39eec236783931ab3ffb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a></td></tr>
<tr class="memdesc:af361d2abf6de39eec236783931ab3ffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether it connects to an entity-based controller instead of non-entity controller  <a href="#af361d2abf6de39eec236783931ab3ffb">More...</a><br/></td></tr>
<tr class="separator:af361d2abf6de39eec236783931ab3ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da7820e442345f5d8f23054ab57540d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaces3f_1_1s3fnet.html#a5c7274abe61228e95befb88dd71eacd1">S3FNET_STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a7da7820e442345f5d8f23054ab57540d">ctrl_nhi</a></td></tr>
<tr class="memdesc:a7da7820e442345f5d8f23054ab57540d"><td class="mdescLeft">&#160;</td><td class="mdescRight">the nhi of the controller entity  <a href="#a7da7820e442345f5d8f23054ab57540d">More...</a><br/></td></tr>
<tr class="separator:a7da7820e442345f5d8f23054ab57540d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad205321d1d08e25c60787d0141cbf66d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_host.html">Host</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad205321d1d08e25c60787d0141cbf66d">ctrl_host</a></td></tr>
<tr class="memdesc:ad205321d1d08e25c60787d0141cbf66d"><td class="mdescLeft">&#160;</td><td class="mdescRight">the Host* of the active controller  <a href="#ad205321d1d08e25c60787d0141cbf66d">More...</a><br/></td></tr>
<tr class="separator:ad205321d1d08e25c60787d0141cbf66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea008b911d95513dfd3b348226b7942"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html">OpenFlowControllerSession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a></td></tr>
<tr class="memdesc:acea008b911d95513dfd3b348226b7942"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer of the controller protocol session  <a href="#acea008b911d95513dfd3b348226b7942">More...</a><br/></td></tr>
<tr class="separator:acea008b911d95513dfd3b348226b7942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eedcbe4da39cba727d26f1339ac7c47"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a></td></tr>
<tr class="memdesc:a7eedcbe4da39cba727d26f1339ac7c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Symbolic name of the protocol this session implements.  <a href="#a7eedcbe4da39cba727d26f1339ac7c47">More...</a><br/></td></tr>
<tr class="separator:a7eedcbe4da39cba727d26f1339ac7c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a4bb8b1c69b73b59173827f60dc2cacd0">version</a></td></tr>
<tr class="memdesc:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version number of this protocol implemenntation, represented as a floating point number (e.g., 1.23).  <a href="#a4bb8b1c69b73b59173827f60dc2cacd0">More...</a><br/></td></tr>
<tr class="separator:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6085e2d490de56b7feec0941b37cf8fe"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a6085e2d490de56b7feec0941b37cf8fe">use</a></td></tr>
<tr class="memdesc:a6085e2d490de56b7feec0941b37cf8fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the protocol class from which this protocol session is instantiated.  <a href="#a6085e2d490de56b7feec0941b37cf8fe">More...</a><br/></td></tr>
<tr class="separator:a6085e2d490de56b7feec0941b37cf8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aae11ef8524397efdc408e5f366d76cf6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aae11ef8524397efdc408e5f366d76cf6">DoDispose</a> (void)</td></tr>
<tr class="separator:aae11ef8524397efdc408e5f366d76cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8267f9acab07e219e2f4efa7aea6b1a"><td class="memItemLeft" align="right" valign="top">ofpbuf *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ae8267f9acab07e219e2f4efa7aea6b1a">BufferFromPacket</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_message.html">ProtocolMessage</a> *packet)</td></tr>
<tr class="separator:ae8267f9acab07e219e2f4efa7aea6b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399f44fe5680907c95aff451e414c98e"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a399f44fe5680907c95aff451e414c98e">instantiation_type</a> ()</td></tr>
<tr class="memdesc:a399f44fe5680907c95aff451e414c98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method controls how protocol instances can coexist with one another.  <a href="#a399f44fe5680907c95aff451e414c98e">More...</a><br/></td></tr>
<tr class="separator:a399f44fe5680907c95aff451e414c98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9e93967a56c673f625b486d2fe389067"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a></td></tr>
<tr class="memdesc:a9e93967a56c673f625b486d2fe389067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Points to the protocol graph.  <a href="#a9e93967a56c673f625b486d2fe389067">More...</a><br/></td></tr>
<tr class="separator:a9e93967a56c673f625b486d2fe389067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">sess_rng</a></td></tr>
<tr class="memdesc:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a random number generator.  <a href="#a41caeb7af8ef9b2d1b3ead0bedfe63c9">More...</a><br/></td></tr>
<tr class="separator:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446b7857e72ac901402821230f5bcd60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a></td></tr>
<tr class="memdesc:a446b7857e72ac901402821230f5bcd60"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable indicates the current stage of this protocol session.  <a href="#a446b7857e72ac901402821230f5bcd60">More...</a><br/></td></tr>
<tr class="separator:a446b7857e72ac901402821230f5bcd60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa030de04449f6deaf8c7d7c427ac484b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa030de04449f6deaf8c7d7c427ac484b">AddFlow</a> (const ofp_flow_mod *ofm)</td></tr>
<tr class="separator:aa030de04449f6deaf8c7d7c427ac484b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750aaa05e7486b26ba0a3645a9f8dc3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a750aaa05e7486b26ba0a3645a9f8dc3a">ModFlow</a> (const ofp_flow_mod *ofm)</td></tr>
<tr class="separator:a750aaa05e7486b26ba0a3645a9f8dc3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303086393f4aff5f4ecbd86611403381"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a303086393f4aff5f4ecbd86611403381">OutputAll</a> (uint32_t packet_uid, int in_port, bool flood)</td></tr>
<tr class="separator:a303086393f4aff5f4ecbd86611403381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c110dfe14236a28a4801182469abd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad7c110dfe14236a28a4801182469abd1">OutputPacket</a> (uint32_t packet_uid, int out_port)</td></tr>
<tr class="separator:ad7c110dfe14236a28a4801182469abd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c8a2b5a47f37eb163acf4bacb5dd32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a74c8a2b5a47f37eb163acf4bacb5dd32">OutputPort</a> (uint32_t packet_uid, int in_port, int out_port, bool ignore_no_fwd)</td></tr>
<tr class="separator:a74c8a2b5a47f37eb163acf4bacb5dd32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173c67659d64dc03aa2955673e2d2919"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a173c67659d64dc03aa2955673e2d2919">OutputControl</a> (uint32_t packet_uid, int in_port, size_t max_len, int reason)</td></tr>
<tr class="separator:a173c67659d64dc03aa2955673e2d2919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc68fc3ef3260dafaf02f62ea4632787"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> (uint16_t type, uint16_t code, const void *data, size_t len)</td></tr>
<tr class="separator:adc68fc3ef3260dafaf02f62ea4632787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5196213f07ae2cdc49663ca2d7bd14d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ac5196213f07ae2cdc49663ca2d7bd14d">SendFeaturesReply</a> ()</td></tr>
<tr class="separator:ac5196213f07ae2cdc49663ca2d7bd14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34560d4d6e0b69726f6b7957e0e39664"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a34560d4d6e0b69726f6b7957e0e39664">SendFlowExpired</a> (sw_flow *flow, enum ofp_flow_expired_reason reason)</td></tr>
<tr class="separator:a34560d4d6e0b69726f6b7957e0e39664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2483dcc83401cb4eb69df3ec0ca2ebcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a2483dcc83401cb4eb69df3ec0ca2ebcc">SendPortStatus</a> (<a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a> p, uint8_t status)</td></tr>
<tr class="separator:a2483dcc83401cb4eb69df3ec0ca2ebcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44609628c8662639365806866b3563cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a44609628c8662639365806866b3563cd">SendVPortTableFeatures</a> ()</td></tr>
<tr class="separator:a44609628c8662639365806866b3563cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75fdf7e8c2068447da42454fd033bb81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (ofpbuf *buffer)</td></tr>
<tr class="separator:a75fdf7e8c2068447da42454fd033bb81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792a2edb8f6fdcfccde9b924d453bff9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a792a2edb8f6fdcfccde9b924d453bff9">RunThroughFlowTable</a> (uint32_t packet_uid, int port, bool send_to_controller=true)</td></tr>
<tr class="separator:a792a2edb8f6fdcfccde9b924d453bff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72dbe1e7e1240126303af83ca9a72ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af72dbe1e7e1240126303af83ca9a72ac">RunThroughVPortTable</a> (uint32_t packet_uid, int port, uint32_t vport)</td></tr>
<tr class="separator:af72dbe1e7e1240126303af83ca9a72ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf74daca2817edd61df41b8f504ca089"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#abf74daca2817edd61df41b8f504ca089">FlowTableLookup</a> (sw_flow_key key, ofpbuf *buffer, uint32_t packet_uid, int port, bool send_to_controller)</td></tr>
<tr class="separator:abf74daca2817edd61df41b8f504ca089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863b3bd3f4a59063bd15bcd86ce331f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a863b3bd3f4a59063bd15bcd86ce331f6">UpdatePortStatus</a> (<a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a> &amp;p)</td></tr>
<tr class="separator:a863b3bd3f4a59063bd15bcd86ce331f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e08994be13ee091d8f244abd56a957"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4e08994be13ee091d8f244abd56a957">FillPortDesc</a> (<a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a> p, ofp_phy_port *desc)</td></tr>
<tr class="separator:af4e08994be13ee091d8f244abd56a957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f392683db1ffc2adfbb7b9e4b15612"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">MakeOpenflowReply</a> (size_t openflow_len, uint8_t type, ofpbuf **bufferp)</td></tr>
<tr class="separator:ab6f392683db1ffc2adfbb7b9e4b15612"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
OpenFlowSwitchSession Description Data</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp839df3a0f666ccd927260a6e650491b0"></a>These four data describe the <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html" title="An OpenFlow switch that switches multiple LAN segments via an OpenFlow-compatible flow table...">OpenFlowSwitchSession</a> as if it were a real OpenFlow switch.</p>
<p>There is a type of stats request that OpenFlow switches are supposed to handle that returns the description of the OpenFlow switch. Currently manufactured by "The S3F team", software description is "Simulated
OpenFlow Switch", and the other two are "N/A". </p>
</td></tr>
<tr class="memitem:aeeafd3d45d0cbc5ac16fa61999183910"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aeeafd3d45d0cbc5ac16fa61999183910">GetManufacturerDescription</a> ()</td></tr>
<tr class="separator:aeeafd3d45d0cbc5ac16fa61999183910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca08f21e82aa0df4bb97e4eb696bb01"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acca08f21e82aa0df4bb97e4eb696bb01">GetHardwareDescription</a> ()</td></tr>
<tr class="separator:acca08f21e82aa0df4bb97e4eb696bb01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983fa5ee157baac2b00bf7e5916d4477"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a983fa5ee157baac2b00bf7e5916d4477">GetSoftwareDescription</a> ()</td></tr>
<tr class="separator:a983fa5ee157baac2b00bf7e5916d4477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea2ce82950f20f094dca70ff21a1ff4"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#abea2ce82950f20f094dca70ff21a1ff4">GetSerialNumber</a> ()</td></tr>
<tr class="separator:abea2ce82950f20f094dca70ff21a1ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad345780ad89e294084fe889ca15ae15e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad345780ad89e294084fe889ca15ae15e">OpenFlowSwitchSession</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *graph)</td></tr>
<tr class="memdesc:ad345780ad89e294084fe889ca15ae15e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the constructor must be take an argument of the protocol graph  <a href="#ad345780ad89e294084fe889ca15ae15e">More...</a><br/></td></tr>
<tr class="separator:ad345780ad89e294084fe889ca15ae15e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6cb579647b749414e6231445e31dfb3"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6cb579647b749414e6231445e31dfb3">~OpenFlowSwitchSession</a> ()</td></tr>
<tr class="memdesc:ab6cb579647b749414e6231445e31dfb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">the destructor  <a href="#ab6cb579647b749414e6231445e31dfb3">More...</a><br/></td></tr>
<tr class="separator:ab6cb579647b749414e6231445e31dfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadcdbf2cd5232e5db9236c9266d1ffdc"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aadcdbf2cd5232e5db9236c9266d1ffdc">getProtocolNumber</a> ()</td></tr>
<tr class="memdesc:aadcdbf2cd5232e5db9236c9266d1ffdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">each protocol must have a unique protocol number  <a href="#aadcdbf2cd5232e5db9236c9266d1ffdc">More...</a><br/></td></tr>
<tr class="separator:aadcdbf2cd5232e5db9236c9266d1ffdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad07916ad622da7dbe1eba9005e8e2c35"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad07916ad622da7dbe1eba9005e8e2c35">config</a> (s3f::dml::Configuration *cfg)</td></tr>
<tr class="memdesc:ad07916ad622da7dbe1eba9005e8e2c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">called to configure this protocol session  <a href="#ad07916ad622da7dbe1eba9005e8e2c35">More...</a><br/></td></tr>
<tr class="separator:ad07916ad622da7dbe1eba9005e8e2c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee3be4bbd3641d4f3659bfe7f407cd7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aaee3be4bbd3641d4f3659bfe7f407cd7">init</a> ()</td></tr>
<tr class="memdesc:aaee3be4bbd3641d4f3659bfe7f407cd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">called after <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad07916ad622da7dbe1eba9005e8e2c35" title="called to configure this protocol session ">config()</a> to initialize this protocol session  <a href="#aaee3be4bbd3641d4f3659bfe7f407cd7">More...</a><br/></td></tr>
<tr class="separator:aaee3be4bbd3641d4f3659bfe7f407cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589412fe56bd736dabffe677267973c8"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a589412fe56bd736dabffe677267973c8">control</a> (int ctrltyp, void *ctrlmsg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *sess)</td></tr>
<tr class="memdesc:a589412fe56bd736dabffe677267973c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">called by other protocol sessions to send special control messages  <a href="#a589412fe56bd736dabffe677267973c8">More...</a><br/></td></tr>
<tr class="separator:a589412fe56bd736dabffe677267973c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84d4bd4a3782271b591fbaba9dd3983"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad84d4bd4a3782271b591fbaba9dd3983">push</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *hi_sess, void *extinfo=0, std::size_t extinfo_size=0)</td></tr>
<tr class="memdesc:ad84d4bd4a3782271b591fbaba9dd3983"><td class="mdescLeft">&#160;</td><td class="mdescRight">called by the protocol session above to push a protocol message down the protocol stack  <a href="#ad84d4bd4a3782271b591fbaba9dd3983">More...</a><br/></td></tr>
<tr class="separator:ad84d4bd4a3782271b591fbaba9dd3983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac952bdfe551f80f996253ba55c2fa55d"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ac952bdfe551f80f996253ba55c2fa55d">pop</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *lo_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:ac952bdfe551f80f996253ba55c2fa55d"><td class="mdescLeft">&#160;</td><td class="mdescRight">called by the protocol session below to pop a protocol message up the protocol stack  <a href="#ac952bdfe551f80f996253ba55c2fa55d">More...</a><br/></td></tr>
<tr class="separator:ac952bdfe551f80f996253ba55c2fa55d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf51a7eec126c86f9dc6d71a506f8118"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adf51a7eec126c86f9dc6d71a506f8118">SetController</a> ()</td></tr>
<tr class="memdesc:adf51a7eec126c86f9dc6d71a506f8118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the Switch's controller connection.  <a href="#adf51a7eec126c86f9dc6d71a506f8118">More...</a><br/></td></tr>
<tr class="separator:adf51a7eec126c86f9dc6d71a506f8118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef68be79d0c4bb4fb8d4c96772aba63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aeef68be79d0c4bb4fb8d4c96772aba63">AddSwitchPort</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html">NetworkInterface</a> *switchPort)</td></tr>
<tr class="memdesc:aeef68be79d0c4bb4fb8d4c96772aba63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a 'port' to a switch device.  <a href="#aeef68be79d0c4bb4fb8d4c96772aba63">More...</a><br/></td></tr>
<tr class="separator:aeef68be79d0c4bb4fb8d4c96772aba63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2444a76c14a2e42b6c80b7d37150758"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab2444a76c14a2e42b6c80b7d37150758">AddVPort</a> (const ofp_vport_mod *ovpm)</td></tr>
<tr class="memdesc:ab2444a76c14a2e42b6c80b7d37150758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a virtual port to a switch device.  <a href="#ab2444a76c14a2e42b6c80b7d37150758">More...</a><br/></td></tr>
<tr class="separator:ab2444a76c14a2e42b6c80b7d37150758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1661b40ae585647d47c86960bab6f22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af1661b40ae585647d47c86960bab6f22">StatsDump</a> (<a class="el" href="structs3f_1_1s3fnet_1_1_stats_dump_callback.html">StatsDumpCallback</a> *cb_)</td></tr>
<tr class="memdesc:af1661b40ae585647d47c86960bab6f22"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classs3f_1_1s3fnet_1_1_stats.html">Stats</a> callback is ready for a dump.  <a href="#af1661b40ae585647d47c86960bab6f22">More...</a><br/></td></tr>
<tr class="separator:af1661b40ae585647d47c86960bab6f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14db8410e4326f5d2d10b4338fb7a4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af14db8410e4326f5d2d10b4338fb7a4a">StatsDone</a> (<a class="el" href="structs3f_1_1s3fnet_1_1_stats_dump_callback.html">StatsDumpCallback</a> *cb_)</td></tr>
<tr class="memdesc:af14db8410e4326f5d2d10b4338fb7a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classs3f_1_1s3fnet_1_1_stats.html">Stats</a> callback is done.  <a href="#af14db8410e4326f5d2d10b4338fb7a4a">More...</a><br/></td></tr>
<tr class="separator:af14db8410e4326f5d2d10b4338fb7a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43dc4c85b1e935c8bf68904ffb2b30c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a43dc4c85b1e935c8bf68904ffb2b30c4">DoOutput</a> (uint32_t packet_uid, int in_port, size_t max_len, int out_port, bool ignore_no_fwd)</td></tr>
<tr class="memdesc:a43dc4c85b1e935c8bf68904ffb2b30c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from the OpenFlow <a class="el" href="class_interface.html" title="A C++ program can build an S3F simulation and interact with it through an instance of some derivation...">Interface</a> to output the Packet on either a <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> or the <a class="el" href="classs3f_1_1s3fnet_1_1_controller.html" title="An interface for a non-entity-based OpenFlow controller. ">Controller</a>.  <a href="#a43dc4c85b1e935c8bf68904ffb2b30c4">More...</a><br/></td></tr>
<tr class="separator:a43dc4c85b1e935c8bf68904ffb2b30c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21910829ba5098739641dbc36a1b5140"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a21910829ba5098739641dbc36a1b5140">ForwardControlInput</a> (const void *msg, size_t length)</td></tr>
<tr class="memdesc:a21910829ba5098739641dbc36a1b5140"><td class="mdescLeft">&#160;</td><td class="mdescRight">The registered controller calls this method when sending a message to the switch.  <a href="#a21910829ba5098739641dbc36a1b5140">More...</a><br/></td></tr>
<tr class="separator:a21910829ba5098739641dbc36a1b5140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb6c10cef99345a737f92f6f6a976a4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9bb6c10cef99345a737f92f6f6a976a4">HandleControlInput</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> pkt)</td></tr>
<tr class="separator:a9bb6c10cef99345a737f92f6f6a976a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52127bf7969f1ce9b2d8403c27216407"><td class="memItemLeft" align="right" valign="top">sw_chain *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a52127bf7969f1ce9b2d8403c27216407">GetChain</a> ()</td></tr>
<tr class="separator:a52127bf7969f1ce9b2d8403c27216407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6c2833749a3cee0e7fd2c8c08f9beb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1f6c2833749a3cee0e7fd2c8c08f9beb">GetNSwitchPorts</a> (void) const </td></tr>
<tr class="separator:a1f6c2833749a3cee0e7fd2c8c08f9beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219a56737476084b1d527b11d0b65bfd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a219a56737476084b1d527b11d0b65bfd">GetSwitchPortIndex</a> (<a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a> p)</td></tr>
<tr class="separator:a219a56737476084b1d527b11d0b65bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d74a79b5b4dc81141e15b54360c0c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ae9d74a79b5b4dc81141e15b54360c0c7">GetSwitchPort</a> (uint32_t n) const </td></tr>
<tr class="separator:ae9d74a79b5b4dc81141e15b54360c0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4b37c9b3b9de92950be146613b6681"><td class="memItemLeft" align="right" valign="top">vport_table_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#abd4b37c9b3b9de92950be146613b6681">GetVPortTable</a> ()</td></tr>
<tr class="separator:abd4b37c9b3b9de92950be146613b6681"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Receive Methods</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp905e6b27b5d882e2599429a84f34d6d5"></a></p>
<p>Actions to do when a specific OpenFlow message/packet is received</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The OpenFlow message received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>
</td></tr>
<tr class="memitem:ae9822a8a6f40982dfabd05a9806e7c33"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; uint32_t, <br class="typebreak"/>
<a class="el" href="structs3f_1_1s3fnet_1_1_switch_packet_metadata.html">SwitchPacketMetadata</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ae9822a8a6f40982dfabd05a9806e7c33">PacketData_t</a></td></tr>
<tr class="separator:ae9822a8a6f40982dfabd05a9806e7c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d052e93c22fa356d9b3709058ae542a"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9d052e93c22fa356d9b3709058ae542a">Ports_t</a></td></tr>
<tr class="separator:a9d052e93c22fa356d9b3709058ae542a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d1e429d8ca72e55e0bb0935da6af9d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_mac48_address.html">Mac48Address</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1d1e429d8ca72e55e0bb0935da6af9d4">m_address</a></td></tr>
<tr class="memdesc:a1d1e429d8ca72e55e0bb0935da6af9d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of this device. (the base MAC address, should not be used as for now)  <a href="#a1d1e429d8ca72e55e0bb0935da6af9d4">More...</a><br/></td></tr>
<tr class="separator:a1d1e429d8ca72e55e0bb0935da6af9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69eadf40c8ebe547b3aafa0face538f8"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a69eadf40c8ebe547b3aafa0face538f8">m_mtu</a></td></tr>
<tr class="memdesc:a69eadf40c8ebe547b3aafa0face538f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum Transmission Unit.  <a href="#a69eadf40c8ebe547b3aafa0face538f8">More...</a><br/></td></tr>
<tr class="separator:a69eadf40c8ebe547b3aafa0face538f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b5918bd37cb03afe76888e14918af8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ae9822a8a6f40982dfabd05a9806e7c33">PacketData_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a></td></tr>
<tr class="memdesc:af4b5918bd37cb03afe76888e14918af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet data.  <a href="#af4b5918bd37cb03afe76888e14918af8">More...</a><br/></td></tr>
<tr class="separator:af4b5918bd37cb03afe76888e14918af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa887bedf3d45bb6986458cb7a79b0c2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9d052e93c22fa356d9b3709058ae542a">Ports_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a></td></tr>
<tr class="memdesc:aa887bedf3d45bb6986458cb7a79b0c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch's ports.  <a href="#aa887bedf3d45bb6986458cb7a79b0c2a">More...</a><br/></td></tr>
<tr class="separator:aa887bedf3d45bb6986458cb7a79b0c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28edeb169b10405f1ef9f092f5c8bfa5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_controller.html">Controller</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a></td></tr>
<tr class="memdesc:a28edeb169b10405f1ef9f092f5c8bfa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection to the non-entity controller; controller is not implemented as a protocol session, but as direct function calls.  <a href="#a28edeb169b10405f1ef9f092f5c8bfa5">More...</a><br/></td></tr>
<tr class="separator:a28edeb169b10405f1ef9f092f5c8bfa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84817dc3e1470e2a78bedb03122afb4d"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a84817dc3e1470e2a78bedb03122afb4d">m_id</a></td></tr>
<tr class="memdesc:a84817dc3e1470e2a78bedb03122afb4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique identifier for this switch, needed for OpenFlow.  <a href="#a84817dc3e1470e2a78bedb03122afb4d">More...</a><br/></td></tr>
<tr class="separator:a84817dc3e1470e2a78bedb03122afb4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab0513cdd57008a35c253aef8e2f02a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5ab0513cdd57008a35c253aef8e2f02a">m_lastExecute</a></td></tr>
<tr class="memdesc:a5ab0513cdd57008a35c253aef8e2f02a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the periodic execution occurred.  <a href="#a5ab0513cdd57008a35c253aef8e2f02a">More...</a><br/></td></tr>
<tr class="separator:a5ab0513cdd57008a35c253aef8e2f02a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9493689671e854cc8402d2d117f6a1ec"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">m_flags</a></td></tr>
<tr class="memdesc:a9493689671e854cc8402d2d117f6a1ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags; configurable by the controller.  <a href="#a9493689671e854cc8402d2d117f6a1ec">More...</a><br/></td></tr>
<tr class="separator:a9493689671e854cc8402d2d117f6a1ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b13a94bcdac3f8782f3e56a51f24b3a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">m_missSendLen</a></td></tr>
<tr class="memdesc:a9b13a94bcdac3f8782f3e56a51f24b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flow Table Miss Send Length; configurable by the controller.  <a href="#a9b13a94bcdac3f8782f3e56a51f24b3a">More...</a><br/></td></tr>
<tr class="separator:a9b13a94bcdac3f8782f3e56a51f24b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35a64ef5599990709776b3741b8ff0a"><td class="memItemLeft" align="right" valign="top">sw_chain *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a></td></tr>
<tr class="memdesc:af35a64ef5599990709776b3741b8ff0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flow Table; forwarding rules.  <a href="#af35a64ef5599990709776b3741b8ff0a">More...</a><br/></td></tr>
<tr class="separator:af35a64ef5599990709776b3741b8ff0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005cd632cc511a17a25ec2d82b448e8c"><td class="memItemLeft" align="right" valign="top">vport_table_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a></td></tr>
<tr class="memdesc:a005cd632cc511a17a25ec2d82b448e8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> Table.  <a href="#a005cd632cc511a17a25ec2d82b448e8c">More...</a><br/></td></tr>
<tr class="separator:a005cd632cc511a17a25ec2d82b448e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692126190f9924e5033fcfbafcdbf002"><td class="memItemLeft" align="right" valign="top">static const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a692126190f9924e5033fcfbafcdbf002">DEFAULT_MTU</a> = 1500</td></tr>
<tr class="separator:a692126190f9924e5033fcfbafcdbf002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267eadc4605f802666d72e737a667355"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a267eadc4605f802666d72e737a667355">ReceiveFeaturesRequest</a> (const void *msg)</td></tr>
<tr class="separator:a267eadc4605f802666d72e737a667355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1282b91735756ca25c222e18661cfa36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1282b91735756ca25c222e18661cfa36">ReceiveGetConfigRequest</a> (const void *msg)</td></tr>
<tr class="separator:a1282b91735756ca25c222e18661cfa36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07bf5b3dc63b1434b5a4aa78849bab2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a07bf5b3dc63b1434b5a4aa78849bab2b">ReceiveSetConfig</a> (const void *msg)</td></tr>
<tr class="separator:a07bf5b3dc63b1434b5a4aa78849bab2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5798120157185b04f7a348d3920d608b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5798120157185b04f7a348d3920d608b">ReceivePacketOut</a> (const void *msg)</td></tr>
<tr class="separator:a5798120157185b04f7a348d3920d608b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa307f181b07b3b6c99d2d08bd1b93d06"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa307f181b07b3b6c99d2d08bd1b93d06">ReceiveFlow</a> (const void *msg)</td></tr>
<tr class="separator:aa307f181b07b3b6c99d2d08bd1b93d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634957ae413ca4d1e39b9319f1b26fd1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a634957ae413ca4d1e39b9319f1b26fd1">ReceivePortMod</a> (const void *msg)</td></tr>
<tr class="separator:a634957ae413ca4d1e39b9319f1b26fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba44cf3084df59b5286e21b0a42bc81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ba44cf3084df59b5286e21b0a42bc81">ReceiveStatsRequest</a> (const void *oh)</td></tr>
<tr class="separator:a8ba44cf3084df59b5286e21b0a42bc81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2c67cc7c080b058b8d9c4d6afaa402"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a2a2c67cc7c080b058b8d9c4d6afaa402">ReceiveEchoRequest</a> (const void *oh)</td></tr>
<tr class="separator:a2a2c67cc7c080b058b8d9c4d6afaa402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab904956a394df4f066828b22949784b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab904956a394df4f066828b22949784b2">ReceiveEchoReply</a> (const void *oh)</td></tr>
<tr class="separator:ab904956a394df4f066828b22949784b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f91521942437725b92830889f297eba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a3f91521942437725b92830889f297eba">ReceiveVPortMod</a> (const void *msg)</td></tr>
<tr class="separator:a3f91521942437725b92830889f297eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a3a53865210bf2f74b2cf1eebbc01c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa8a3a53865210bf2f74b2cf1eebbc01c">ReceiveVPortTableFeaturesRequest</a> (const void *msg)</td></tr>
<tr class="separator:aa8a3a53865210bf2f74b2cf1eebbc01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An OpenFlow switch that switches multiple LAN segments via an OpenFlow-compatible flow table. </p>
<p>The <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html" title="An OpenFlow switch that switches multiple LAN segments via an OpenFlow-compatible flow table...">OpenFlowSwitchSession</a> object aggregates multiple <a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html" title="A network interface. ">NetworkInterface</a> as ports and acts like a switch. It implements OpenFlow-compatibility, according to the OpenFlow Switch Specification v0.8.9 &lt;www.openflowswitch.org/documents/openflow-spec-v0.8.9.pdf&gt;. It implements a flow table that all received packets are run through. It implements a connection to a controller via a subclass of the <a class="el" href="classs3f_1_1s3fnet_1_1_controller.html" title="An interface for a non-entity-based OpenFlow controller. ">Controller</a> class, which can send messages to manipulate the flow table, thereby manipulating how the OpenFlow switch behaves. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00039">39</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ae9822a8a6f40982dfabd05a9806e7c33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;uint32_t,<a class="el" href="structs3f_1_1s3fnet_1_1_switch_packet_metadata.html">SwitchPacketMetadata</a>&gt; <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ae9822a8a6f40982dfabd05a9806e7c33">s3f::s3fnet::OpenFlowSwitchSession::PacketData_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00466">466</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9d052e93c22fa356d9b3709058ae542a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a>&gt; <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9d052e93c22fa356d9b3709058ae542a">s3f::s3fnet::OpenFlowSwitchSession::Ports_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00469">469</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a683dd9bc9c34204838e69790fd82f098"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">s3f::s3fnet::ProtocolSession::InstantiationType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Multiple protocol session instantiation type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"></a>PROT_UNIQUE_INSTANCE</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4"></a>PROT_MULTIPLE_INSTANCES</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3"></a>PROT_MULTIPLE_IMPLEMENTATIONS</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00044">44</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                         {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a>                = 0x00,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">PROT_MULTIPLE_INSTANCES</a>             = 0x01,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">PROT_MULTIPLE_IMPLEMENTATIONS</a>       = 0x02</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00045">protocol_session.h:45</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">s3f::s3fnet::ProtocolSession::PROT_MULTIPLE_INSTANCES</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00046">protocol_session.h:46</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">s3f::s3fnet::ProtocolSession::PROT_MULTIPLE_IMPLEMENTATIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00047">protocol_session.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3846269d44f267c44706152b1a78a118"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">s3f::s3fnet::ProtocolSession::ExecutionStage</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A normal protocol session must go though the following stages. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798"></a>PSESS_CREATED</em>&#160;</td><td class="fielddoc">
<p>this protocol session has just been created </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"></a>PSESS_CONFIGURED</em>&#160;</td><td class="fielddoc">
<p>the config method of this protocol session has been called </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"></a>PSESS_INITIALIZED</em>&#160;</td><td class="fielddoc">
<p>the init method of this protocol session has been called </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"></a>PSESS_WRAPPED_UP</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00051">51</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                      {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">PSESS_CREATED</a>       = 0, </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a>    = 1, </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a>   = 2, </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>    = 3 </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a></div><div class="ttdoc">the config method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00053">protocol_session.h:53</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a></div><div class="ttdoc">the init method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00054">protocol_session.h:54</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">s3f::s3fnet::ProtocolSession::PSESS_CREATED</a></div><div class="ttdoc">this protocol session has just been created </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00052">protocol_session.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad345780ad89e294084fe889ca15ae15e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::OpenFlowSwitchSession::OpenFlowSwitchSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td>
          <td class="paramname"><em>graph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the constructor must be take an argument of the protocol graph </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00066">66</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00058">s3f::s3fnet::GenerateId()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00474">m_id</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00482">m_vportTable</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                                 :</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">ProtocolSession</a>(graph), <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a69eadf40c8ebe547b3aafa0face538f8">m_mtu</a>(0xffff), <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5ab0513cdd57008a35c253aef8e2f02a">m_lastExecute</a>(0),</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a>(0), <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">m_flags</a>(0), <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">m_missSendLen</a>(OFP_DEFAULT_MISS_SEND_LEN), <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1d1e429d8ca72e55e0bb0935da6af9d4">m_address</a>(0),</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ce27a50c5f4c3c1d0ba66d58f514e2c">ofctrl_port</a>(NULL), <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a>(<span class="keyword">false</span>), <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad205321d1d08e25c60787d0141cbf66d">ctrl_host</a>(0), <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a>(0)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="comment">// create your session-related variables here</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>(printf(<span class="stringliteral">&quot;An OpenFlow switch protocol session is created.\n&quot;</span>));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        time_init (); <span class="comment">// OFSI&#39;s clock; needed to use the buffer storage system.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a> = chain_create ();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a> == 0)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a> (<span class="stringliteral">&quot;Not enough memory to create the flow table.&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a84817dc3e1470e2a78bedb03122afb4d">m_id</a> = <a class="code" href="namespaces3f_1_1s3fnet.html#ac0e7090f6e531b1ff93be97e6f9f80ca">GenerateId</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.reserve (DP_MAX_PORTS);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        vport_table_init (&amp;<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a8ce27a50c5f4c3c1d0ba66d58f514e2c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ce27a50c5f4c3c1d0ba66d58f514e2c">s3f::s3fnet::OpenFlowSwitchSession::ofctrl_port</a></div><div class="ttdeci">NetworkInterface * ofctrl_port</div><div class="ttdoc">the NetworkInterface of the OpenFlow controller </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00205">openflow_switch_session.h:205</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_acea008b911d95513dfd3b348226b7942"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">s3f::s3fnet::OpenFlowSwitchSession::ctrl_sess</a></div><div class="ttdeci">OpenFlowControllerSession * ctrl_sess</div><div class="ttdoc">pointer of the controller protocol session </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00209">openflow_switch_session.h:209</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a005cd632cc511a17a25ec2d82b448e8c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">s3f::s3fnet::OpenFlowSwitchSession::m_vportTable</a></div><div class="ttdeci">vport_table_t m_vportTable</div><div class="ttdoc">Virtual Port Table. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00482">openflow_switch_session.h:482</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a1d1e429d8ca72e55e0bb0935da6af9d4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1d1e429d8ca72e55e0bb0935da6af9d4">s3f::s3fnet::OpenFlowSwitchSession::m_address</a></div><div class="ttdeci">Mac48Address * m_address</div><div class="ttdoc">Address of this device. (the base MAC address, should not be used as for now) </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00463">openflow_switch_session.h:463</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af361d2abf6de39eec236783931ab3ffb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</a></div><div class="ttdeci">bool is_ctrl_sess</div><div class="ttdoc">whether it connects to an entity-based controller instead of non-entity controller ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00206">openflow_switch_session.h:206</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a191ad0501ff266c035a8bc46da1a01a1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">s3f::s3fnet::ProtocolSession::ProtocolSession</a></div><div class="ttdeci">ProtocolSession(ProtocolGraph *graph)</div><div class="ttdoc">The constructor is protected; only called from ProtocolGraph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00134">protocol_session.cc:134</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a69eadf40c8ebe547b3aafa0face538f8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a69eadf40c8ebe547b3aafa0face538f8">s3f::s3fnet::OpenFlowSwitchSession::m_mtu</a></div><div class="ttdeci">uint16_t m_mtu</div><div class="ttdoc">Maximum Transmission Unit. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00464">openflow_switch_session.h:464</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_ac0e7090f6e531b1ff93be97e6f9f80ca"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#ac0e7090f6e531b1ff93be97e6f9f80ca">s3f::s3fnet::GenerateId</a></div><div class="ttdeci">static uint64_t GenerateId()</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00058">openflow_switch_session.cc:58</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9b13a94bcdac3f8782f3e56a51f24b3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">s3f::s3fnet::OpenFlowSwitchSession::m_missSendLen</a></div><div class="ttdeci">uint16_t m_missSendLen</div><div class="ttdoc">Flow Table Miss Send Length; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00479">openflow_switch_session.h:479</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a5ab0513cdd57008a35c253aef8e2f02a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5ab0513cdd57008a35c253aef8e2f02a">s3f::s3fnet::OpenFlowSwitchSession::m_lastExecute</a></div><div class="ttdeci">ltime_t m_lastExecute</div><div class="ttdoc">Last time the periodic execution occurred. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00477">openflow_switch_session.h:477</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ad205321d1d08e25c60787d0141cbf66d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad205321d1d08e25c60787d0141cbf66d">s3f::s3fnet::OpenFlowSwitchSession::ctrl_host</a></div><div class="ttdeci">Host * ctrl_host</div><div class="ttdoc">the Host* of the active controller </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00208">openflow_switch_session.h:208</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a28edeb169b10405f1ef9f092f5c8bfa5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">s3f::s3fnet::OpenFlowSwitchSession::np_controller</a></div><div class="ttdeci">Controller * np_controller</div><div class="ttdoc">Connection to the non-entity controller; controller is not implemented as a protocol session...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00472">openflow_switch_session.h:472</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9493689671e854cc8402d2d117f6a1ec"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">s3f::s3fnet::OpenFlowSwitchSession::m_flags</a></div><div class="ttdeci">uint16_t m_flags</div><div class="ttdoc">Flags; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00478">openflow_switch_session.h:478</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a84817dc3e1470e2a78bedb03122afb4d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a84817dc3e1470e2a78bedb03122afb4d">s3f::s3fnet::OpenFlowSwitchSession::m_id</a></div><div class="ttdeci">uint64_t m_id</div><div class="ttdoc">Unique identifier for this switch, needed for OpenFlow. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00474">openflow_switch_session.h:474</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6cb579647b749414e6231445e31dfb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::OpenFlowSwitchSession::~OpenFlowSwitchSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the destructor </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00088">88</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00250">DoDispose()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="comment">// reclaim your session-related variables here</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>(printf(<span class="stringliteral">&quot;An openflow switch protocol session is reclaimed.\n&quot;</span>));</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aae11ef8524397efdc408e5f366d76cf6">DoDispose</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aae11ef8524397efdc408e5f366d76cf6"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aae11ef8524397efdc408e5f366d76cf6">s3f::s3fnet::OpenFlowSwitchSession::DoDispose</a></div><div class="ttdeci">virtual void DoDispose(void)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00250">openflow_switch_session.cc:250</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aeeafd3d45d0cbc5ac16fa61999183910"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * s3f::s3fnet::OpenFlowSwitchSession::GetManufacturerDescription </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00038">38</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>Referenced by <a class="el" href="openflow__interface_8cc_source.html#l00128">s3f::s3fnet::Stats::DescStatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;The S3F team&quot;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acca08f21e82aa0df4bb97e4eb696bb01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * s3f::s3fnet::OpenFlowSwitchSession::GetHardwareDescription </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00043">43</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>Referenced by <a class="el" href="openflow__interface_8cc_source.html#l00128">s3f::s3fnet::Stats::DescStatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;N/A&quot;</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a983fa5ee157baac2b00bf7e5916d4477"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * s3f::s3fnet::OpenFlowSwitchSession::GetSoftwareDescription </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00048">48</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>Referenced by <a class="el" href="openflow__interface_8cc_source.html#l00128">s3f::s3fnet::Stats::DescStatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Simulated OpenFlow Switch&quot;</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abea2ce82950f20f094dca70ff21a1ff4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * s3f::s3fnet::OpenFlowSwitchSession::GetSerialNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00053">53</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>Referenced by <a class="el" href="openflow__interface_8cc_source.html#l00128">s3f::s3fnet::Stats::DescStatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;N/A&quot;</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadcdbf2cd5232e5db9236c9266d1ffdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::OpenFlowSwitchSession::getProtocolNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>each protocol must have a unique protocol number </p>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad429740335f45371f2bce23c753dfa6f">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00064">64</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>References <a class="el" href="s3fnet_8h_source.html#l00179">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_OPENFLOW_SWITCH</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a0450894b07da6f27faff14d03221394e">S3FNET_PROTOCOL_TYPE_OPENFLOW_SWITCH</a>; }</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a2d885d995be52ebf39a06e881ec67919a0450894b07da6f27faff14d03221394e"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a0450894b07da6f27faff14d03221394e">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_OPENFLOW_SWITCH</a></div><div class="ttdoc">An OpenFlow switch protocol. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00179">s3fnet.h:179</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad07916ad622da7dbe1eba9005e8e2c35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::config </td>
          <td>(</td>
          <td class="paramtype">s3f::dml::Configuration *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>called to configure this protocol session </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00096">96</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00207">ctrl_nhi</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00574">OutputAll()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00893">RunThroughFlowTable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="comment">// the same method at the parent class must be called</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">ProtocolSession::config</a>(cfg);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordtype">char</span>* str = (<span class="keywordtype">char</span>*) cfg-&gt;findSingle(<span class="stringliteral">&quot;controller&quot;</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span>(str)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keywordflow">if</span>(s3f::dml::dmlConfig::isConf(str))</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                        <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: OpenFlowSwitchSession::config(), invalid controller attribute.\n&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a7da7820e442345f5d8f23054ab57540d">ctrl_nhi</a> = str;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>(printf(<span class="stringliteral">&quot;\t active controller = %s \n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a7da7820e442345f5d8f23054ab57540d">ctrl_nhi</a>.c_str()));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a7da7820e442345f5d8f23054ab57540d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a7da7820e442345f5d8f23054ab57540d">s3f::s3fnet::OpenFlowSwitchSession::ctrl_nhi</a></div><div class="ttdeci">S3FNET_STRING ctrl_nhi</div><div class="ttdoc">the nhi of the controller entity </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00207">openflow_switch_session.h:207</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a5de6e730825a580093d46aa930341768"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">s3f::s3fnet::ProtocolSession::config</a></div><div class="ttdeci">virtual void config(s3f::dml::Configuration *cfg)</div><div class="ttdoc">The config method is used to configure the protocol session from DML description. ...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00021">protocol_session.cc:21</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaee3be4bbd3641d4f3659bfe7f407cd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>called after <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad07916ad622da7dbe1eba9005e8e2c35" title="called to configure this protocol session ">config()</a> to initialize this protocol session </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00112">112</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00321">AddSwitchPort()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00484">DEFAULT_MTU</a>, <a class="el" href="host_8h_source.html#l00129">s3f::s3fnet::Host::getNetworkInterfaceMap()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00206">is_ctrl_sess</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00270">SetController()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00346">SetMtu()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">// the same method at the parent class must be called</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">ProtocolSession::init</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="comment">// initialize the session-related variables here</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>(printf(<span class="stringliteral">&quot;OpenFlow switch session is initialized.\n&quot;</span>));</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;inNet()-&gt;openflow_controller_type() == 1 ) <span class="comment">// entity-based controller, controller is a protocol session</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">/* set up controller */</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>(printf(<span class="stringliteral">&quot;**** Set up Controller\n&quot;</span>));</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adf51a7eec126c86f9dc6d71a506f8118">SetController</a>();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">/* add switch ports */</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        S3FNET_HOST_IFACE_MAP ifaces = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#af1d181d02867ac568199d178d59b191f">getNetworkInterfaceMap</a>();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        S3FNET_HOST_IFACE_MAP::iterator iter;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">for</span>(iter=ifaces.begin(); iter!=ifaces.end(); ++iter)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>( printf(<span class="stringliteral">&quot;Add SwitchPort %d\n&quot;</span>, (*iter).first) );</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">NetworkInterface</a>* nw_iface = (*iter).second;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aeef68be79d0c4bb4fb8d4c96772aba63">AddSwitchPort</a> (nw_iface);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af2c2a38988c9ae59671e67e6cb8fe7b1">SetMtu</a>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a692126190f9924e5033fcfbafcdbf002">DEFAULT_MTU</a>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a692126190f9924e5033fcfbafcdbf002"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a692126190f9924e5033fcfbafcdbf002">s3f::s3fnet::OpenFlowSwitchSession::DEFAULT_MTU</a></div><div class="ttdeci">static const uint16_t DEFAULT_MTU</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00484">openflow_switch_session.h:484</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af2c2a38988c9ae59671e67e6cb8fe7b1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af2c2a38988c9ae59671e67e6cb8fe7b1">s3f::s3fnet::OpenFlowSwitchSession::SetMtu</a></div><div class="ttdeci">virtual bool SetMtu(const uint16_t mtu)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00346">openflow_switch_session.cc:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af361d2abf6de39eec236783931ab3ffb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</a></div><div class="ttdeci">bool is_ctrl_sess</div><div class="ttdoc">whether it connects to an entity-based controller instead of non-entity controller ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00206">openflow_switch_session.h:206</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ac21a50a19e7b326bd8b97f7844f45856"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">s3f::s3fnet::ProtocolSession::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdoc">The method is used to initialize the protocol session once the protocol session has been created and ...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00041">protocol_session.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_af1d181d02867ac568199d178d59b191f"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#af1d181d02867ac568199d178d59b191f">s3f::s3fnet::Host::getNetworkInterfaceMap</a></div><div class="ttdeci">S3FNET_HOST_IFACE_MAP getNetworkInterfaceMap()</div><div class="ttdoc">Return the list of network interfaces associated to this host. </div><div class="ttdef"><b>Definition:</b> <a href="host_8h_source.html#l00129">host.h:129</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ab35230e6cee8f196334bff4237ada67c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">s3f::s3fnet::ProtocolSession::NetworkInterface</a></div><div class="ttdeci">friend class NetworkInterface</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00039">protocol_session.h:39</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_adf51a7eec126c86f9dc6d71a506f8118"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adf51a7eec126c86f9dc6d71a506f8118">s3f::s3fnet::OpenFlowSwitchSession::SetController</a></div><div class="ttdeci">void SetController()</div><div class="ttdoc">Set up the Switch&#39;s controller connection. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00270">openflow_switch_session.cc:270</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aeef68be79d0c4bb4fb8d4c96772aba63"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aeef68be79d0c4bb4fb8d4c96772aba63">s3f::s3fnet::OpenFlowSwitchSession::AddSwitchPort</a></div><div class="ttdeci">int AddSwitchPort(NetworkInterface *switchPort)</div><div class="ttdoc">Add a &#39;port&#39; to a switch device. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00321">openflow_switch_session.cc:321</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a589412fe56bd736dabffe677267973c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::control </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ctrltyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctrlmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>sess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>called by other protocol sessions to send special control messages </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a806b5f5786984f8bc40421e92d19fe3e">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00142">142</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00092">s3f::s3fnet::ProtocolSession::control()</a>, <a class="el" href="s3fnet_8h_source.html#l00369">s3f::s3fnet::OPENFLOW_SWITCH_CTRL_COMMAND1</a>, and <a class="el" href="s3fnet_8h_source.html#l00370">s3f::s3fnet::OPENFLOW_SWITCH_CTRL_COMMAND2</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">switch</span>(ctrltyp)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ad3d1c3c9128a9c52675cbf87c9d35262">OPENFLOW_SWITCH_CTRL_COMMAND1</a>:</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a08840388bd8ad5165045520db667a5df">OPENFLOW_SWITCH_CTRL_COMMAND2</a>:</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">return</span> 0; <span class="comment">// openflow switch control commands, not in use yet</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a806b5f5786984f8bc40421e92d19fe3e">ProtocolSession::control</a>(ctrltyp, ctrlmsg, sess);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a806b5f5786984f8bc40421e92d19fe3e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a806b5f5786984f8bc40421e92d19fe3e">s3f::s3fnet::ProtocolSession::control</a></div><div class="ttdeci">virtual int control(int ctrltyp, void *ctrlmsg, ProtocolSession *sess)</div><div class="ttdoc">The control method is used by the protocol session to receive control messages (or information querie...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00092">protocol_session.cc:92</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223ad3d1c3c9128a9c52675cbf87c9d35262"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ad3d1c3c9128a9c52675cbf87c9d35262">s3f::s3fnet::OPENFLOW_SWITCH_CTRL_COMMAND1</a></div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00369">s3fnet.h:369</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a08840388bd8ad5165045520db667a5df"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a08840388bd8ad5165045520db667a5df">s3f::s3fnet::OPENFLOW_SWITCH_CTRL_COMMAND2</a></div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00370">s3fnet.h:370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad84d4bd4a3782271b591fbaba9dd3983"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>hi_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>called by the protocol session above to push a protocol message down the protocol stack </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00155">155</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: a message is pushed down to the openflow switch session from protocol layer above; it&#39;s impossible for now.\n&quot;</span>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac952bdfe551f80f996253ba55c2fa55d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lo_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>called by the protocol session below to pop a protocol message up the protocol stack </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00161">161</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h_source.html#l00321">s3f::s3fnet::SwitchPacketMetadata::buffer</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00423">BufferFromPacket()</a>, <a class="el" href="openflow__interface_8h_source.html#l00324">s3f::s3fnet::SwitchPacketMetadata::dst</a>, <a class="el" href="simple__mac__message_8h_source.html#l00073">s3f::s3fnet::SimpleMacMessage::dst48</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="host_8cc_source.html#l00259">s3f::s3fnet::Host::getNetworkInterface()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00463">m_address</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00477">m_lastExecute</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00467">m_packetData</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, <a class="el" href="entity_8cc_source.html#l00111">Entity::now()</a>, <a class="el" href="nic__protocol__session_8h_source.html#l00054">s3f::s3fnet::MACOptionToAbove::nw_iface</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__interface_8h_source.html#l00320">s3f::s3fnet::SwitchPacketMetadata::packet</a>, <a class="el" href="nic__protocol__session_8h_source.html#l00057">s3f::s3fnet::MACOptionToAbove::protocol_no</a>, <a class="el" href="openflow__interface_8h_source.html#l00322">s3f::s3fnet::SwitchPacketMetadata::protocolNumber</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00893">RunThroughFlowTable()</a>, <a class="el" href="openflow__interface_8h.html#a50f79afd1bc0ec662eadb2af5d36a985">save_buffer()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00823">SendFlowExpired()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00808">SendPortStatus()</a>, <a class="el" href="openflow__interface_8h_source.html#l00323">s3f::s3fnet::SwitchPacketMetadata::src</a>, <a class="el" href="simple__mac__message_8h_source.html#l00070">s3f::s3fnet::SimpleMacMessage::src48</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00794">UpdatePortStatus()</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>(printf(<span class="stringliteral">&quot;A message is popped up to the openflow switch session from the MAC layer.\n&quot;</span>));</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        MACOptionToAbove* macopt = (MACOptionToAbove*)extinfo;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">NetworkInterface</a>* netdev = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#a5bf2b1dffed50d5eda07083f6810c21c">getNetworkInterface</a>(macopt-&gt;nw_iface);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">if</span>(netdev == NULL) <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;OpenFlowSwitchSession::pop(), not able to find network interface&quot;</span>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        ProtocolMessage* packet = (ProtocolMessage*)msg;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], ID [&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1d1e429d8ca72e55e0bb0935da6af9d4">m_address</a> &lt;&lt; <span class="stringliteral">&quot;] --------------------------------------------&quot;</span> &lt;&lt; endl);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.size (); i++)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].netdev == netdev)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        SwitchPacketMetadata data;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        <span class="comment">//data.packet = packet-&gt;clone();</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        data.packet = packet;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <span class="comment">//pthread_mutex_lock(&amp;(inHost()-&gt;getTopNet()-&gt;of_buf_mutex));</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                        ofpbuf *buffer = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ae8267f9acab07e219e2f4efa7aea6b1a">BufferFromPacket</a> (data.packet); <span class="comment">//kevin: as for now, all Mtu has the same size</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                        <span class="comment">//pthread_mutex_unlock(&amp;(inHost()-&gt;getTopNet()-&gt;of_buf_mutex));</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].rx_packets++;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].rx_bytes += buffer-&gt;size;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        data.buffer = buffer;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        uint32_t packet_uid = <a class="code" href="openflow__interface_8h.html#a50f79afd1bc0ec662eadb2af5d36a985">save_buffer</a> (buffer);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        SimpleMacMessage* l2_hdr = (SimpleMacMessage*)packet; <span class="comment">//kevn: as for now, directly use SimpleMacMessage, will need to check layer2 msg type later</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        data.src = l2_hdr-&gt;src48;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                        data.dst = l2_hdr-&gt;dst48;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                        data.protocolNumber = (uint16_t)(macopt-&gt;protocol_no);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a>.insert (std::make_pair (packet_uid, data));</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Received packet from &quot;</span> &lt;&lt; l2_hdr-&gt;src48 &lt;&lt; <span class="stringliteral">&quot; looking for &quot;</span> &lt;&lt; l2_hdr-&gt;dst48 &lt;&lt; endl );</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        <span class="comment">//temp</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <span class="comment">//cout &lt;&lt; &quot;Switch[&quot; &lt;&lt; inHost()-&gt;nhi.toString() &lt;&lt; &quot;], packet_uid = &quot; &lt;&lt; packet_uid &lt;&lt; &quot; i = &quot; &lt;&lt; i &lt;&lt; endl;</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a792a2edb8f6fdcfccde9b924d453bff9">RunThroughFlowTable</a> (packet_uid, i);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="comment">// Run periodic execution.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> now = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">now</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> (now &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5ab0513cdd57008a35c253aef8e2f02a">m_lastExecute</a> + 1) <span class="comment">// If a second or more has passed from the simulation time, execute.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <span class="comment">// If port status is modified in any way, notify the controller.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.size (); i++)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a863b3bd3f4a59063bd15bcd86ce331f6">UpdatePortStatus</a> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i]))</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a2483dcc83401cb4eb69df3ec0ca2ebcc">SendPortStatus</a> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i], OFPPR_MODIFY);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="comment">// If any flows have expired, delete them and notify the controller.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                List deleted = LIST_INITIALIZER (&amp;deleted);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                sw_flow *f, *n;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                chain_timeout (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>, &amp;deleted);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                LIST_FOR_EACH_SAFE (f, n, sw_flow, node, &amp;deleted)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        std::ostringstream str;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        str &lt;&lt; <span class="stringliteral">&quot;Flow [&quot;</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                str &lt;&lt; (i!=0 ? <span class="stringliteral">&quot;:&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; std::hex &lt;&lt; f-&gt;key.flow.dl_src[i]/16 &lt;&lt; f-&gt;key.flow.dl_src[i]%16;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        str &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                str &lt;&lt; (i!=0 ? <span class="stringliteral">&quot;:&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; std::hex &lt;&lt; f-&gt;key.flow.dl_dst[i]/16 &lt;&lt; f-&gt;key.flow.dl_dst[i]%16;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        str &lt;&lt;  <span class="stringliteral">&quot;] expired.&quot;</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; str.str () &lt;&lt; endl);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a34560d4d6e0b69726f6b7957e0e39664">SendFlowExpired</a> (f, (ofp_flow_expired_reason)f-&gt;reason);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        list_remove (&amp;f-&gt;node);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        flow_free (f);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5ab0513cdd57008a35c253aef8e2f02a">m_lastExecute</a> = now;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="comment">// returning 0 indicates success</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
<div class="ttc" id="class_entity_html_a303433dc2088519a44e8a56922ec1f0c"><div class="ttname"><a href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">Entity::now</a></div><div class="ttdeci">ltime_t now()</div><div class="ttdoc">Time on Entity&#39;s Timeline, either the time at which the current (or most recent) event on the timelin...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00111">entity.cc:111</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a1d1e429d8ca72e55e0bb0935da6af9d4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1d1e429d8ca72e55e0bb0935da6af9d4">s3f::s3fnet::OpenFlowSwitchSession::m_address</a></div><div class="ttdeci">Mac48Address * m_address</div><div class="ttdoc">Address of this device. (the base MAC address, should not be used as for now) </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00463">openflow_switch_session.h:463</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a34560d4d6e0b69726f6b7957e0e39664"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a34560d4d6e0b69726f6b7957e0e39664">s3f::s3fnet::OpenFlowSwitchSession::SendFlowExpired</a></div><div class="ttdeci">void SendFlowExpired(sw_flow *flow, enum ofp_flow_expired_reason reason)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00823">openflow_switch_session.cc:823</a></div></div>
<div class="ttc" id="openflow__interface_8h_html_a50f79afd1bc0ec662eadb2af5d36a985"><div class="ttname"><a href="openflow__interface_8h.html#a50f79afd1bc0ec662eadb2af5d36a985">save_buffer</a></div><div class="ttdeci">uint32_t save_buffer(ofpbuf *)</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a863b3bd3f4a59063bd15bcd86ce331f6"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a863b3bd3f4a59063bd15bcd86ce331f6">s3f::s3fnet::OpenFlowSwitchSession::UpdatePortStatus</a></div><div class="ttdeci">int UpdatePortStatus(Port &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00794">openflow_switch_session.cc:794</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a2483dcc83401cb4eb69df3ec0ca2ebcc"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a2483dcc83401cb4eb69df3ec0ca2ebcc">s3f::s3fnet::OpenFlowSwitchSession::SendPortStatus</a></div><div class="ttdeci">void SendPortStatus(Port p, uint8_t status)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00808">openflow_switch_session.cc:808</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a5ab0513cdd57008a35c253aef8e2f02a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5ab0513cdd57008a35c253aef8e2f02a">s3f::s3fnet::OpenFlowSwitchSession::m_lastExecute</a></div><div class="ttdeci">ltime_t m_lastExecute</div><div class="ttdoc">Last time the periodic execution occurred. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00477">openflow_switch_session.h:477</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4b5918bd37cb03afe76888e14918af8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">s3f::s3fnet::OpenFlowSwitchSession::m_packetData</a></div><div class="ttdeci">PacketData_t m_packetData</div><div class="ttdoc">Packet data. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00467">openflow_switch_session.h:467</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_a5bf2b1dffed50d5eda07083f6810c21c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#a5bf2b1dffed50d5eda07083f6810c21c">s3f::s3fnet::Host::getNetworkInterface</a></div><div class="ttdeci">NetworkInterface * getNetworkInterface(int id)</div><div class="ttdoc">Return network interface of the given id. </div><div class="ttdef"><b>Definition:</b> <a href="host_8cc_source.html#l00259">host.cc:259</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ab35230e6cee8f196334bff4237ada67c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">s3f::s3fnet::ProtocolSession::NetworkInterface</a></div><div class="ttdeci">friend class NetworkInterface</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00039">protocol_session.h:39</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ae8267f9acab07e219e2f4efa7aea6b1a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ae8267f9acab07e219e2f4efa7aea6b1a">s3f::s3fnet::OpenFlowSwitchSession::BufferFromPacket</a></div><div class="ttdeci">ofpbuf * BufferFromPacket(ProtocolMessage *packet)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00423">openflow_switch_session.cc:423</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a792a2edb8f6fdcfccde9b924d453bff9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a792a2edb8f6fdcfccde9b924d453bff9">s3f::s3fnet::OpenFlowSwitchSession::RunThroughFlowTable</a></div><div class="ttdeci">void RunThroughFlowTable(uint32_t packet_uid, int port, bool send_to_controller=true)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00893">openflow_switch_session.cc:893</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf51a7eec126c86f9dc6d71a506f8118"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::SetController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the Switch's controller connection. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00270">270</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00208">ctrl_host</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00207">ctrl_nhi</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00209">ctrl_sess</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="net_8h_source.html#l00287">s3f::s3fnet::Net::get_of_controller()</a>, <a class="el" href="net_8cc_source.html#l00280">s3f::s3fnet::Net::getNameService()</a>, <a class="el" href="namesvc_8cc_source.html#l00433">s3f::s3fnet::NameService::hostnhi2hostobj()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="host_8cc_source.html#l00254">s3f::s3fnet::Host::inNet()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00206">is_ctrl_sess</a>, <a class="el" href="openflow__interface_8h_source.html#l00096">s3f::s3fnet::NO_OF_CONTROLLER</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00472">np_controller</a>, <a class="el" href="openflow__interface_8h_source.html#l00098">s3f::s3fnet::OF_DROP_CONTROLLER</a>, <a class="el" href="net_8h_source.html#l00019">OF_FLOW_EXPIRATION_TIME</a>, <a class="el" href="openflow__interface_8h_source.html#l00097">s3f::s3fnet::OF_LEARNING_SWITCH_CONTROLLER</a>, <a class="el" href="openflow__interface_8h_source.html#l00099">s3f::s3fnet::OF_LEARNING_SWITCH_CONTROLLER_ENTITY</a>, <a class="el" href="s3fnet_8h_source.html#l00182">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_OPENFLOW_CONTROLLER</a>, <a class="el" href="protocol__graph_8cc_source.html#l00084">s3f::s3fnet::ProtocolGraph::sessionForNumber()</a>, <a class="el" href="openflow__controller_8h_source.html#l00071">s3f::s3fnet::Controller::type</a>, and <a class="el" href="openflow__controller__session_8h_source.html#l00098">s3f::s3fnet::OpenFlowControllerSession::type</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00112">init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> == <span class="keyword">true</span>) <span class="comment">//controller protocol session</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad205321d1d08e25c60787d0141cbf66d">ctrl_host</a> = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#af13adc6b58d913c61e7c686a827de521">inNet</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_net.html#a0a40fcbf8258056bfe99ee011d6fe863">getNameService</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_name_service.html#ac0c920ddbc52e930a1a64d22c958bb62">hostnhi2hostobj</a>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a7da7820e442345f5d8f23054ab57540d">ctrl_nhi</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                assert(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad205321d1d08e25c60787d0141cbf66d">ctrl_host</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a> = (OpenFlowControllerSession*)(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad205321d1d08e25c60787d0141cbf66d">ctrl_host</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_graph.html#a9eccecaaf7b96de8279b1e3c4c88d079">sessionForNumber</a>(<a class="code" href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919ac67e822c008274d5992802936734c8f2">S3FNET_PROTOCOL_TYPE_OPENFLOW_CONTROLLER</a>));</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                assert(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keywordflow">switch</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html#a0ad563a15d685850bbcce808add6c5cd">type</a>)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63ac0ea7c641e537788df2ee8da1603a010">OF_LEARNING_SWITCH_CONTROLLER_ENTITY</a>:</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                        ((LearningControllerSession*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a>)-&gt;setFlowExpirationTime(<a class="code" href="net_8h.html#ae79150a40d5952867f7c369ceb0f6a70">OF_FLOW_EXPIRATION_TIME</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        ((LearningControllerSession*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a>)-&gt;AddSwitch(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63afc793abd8d50c38fb3f2cc3b66d5a6f6">NO_OF_CONTROLLER</a>:</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;OpenFlowSwitchSession::SetController(), no controller entity.&quot;</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;OpenFlowSwitchSession::SetController(), wrong controller entity type.&quot;</span>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">else</span> <span class="comment">//controller non-protocol session, direct function calls</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a> = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#af13adc6b58d913c61e7c686a827de521">inNet</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_net.html#a98ef92f432229cc186bf33e819fb87ea">get_of_controller</a>();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                assert(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordflow">switch</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_controller.html#a50329c32536baba80c29d2a89e1f18b7">type</a>)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63a41ebb3189b59179baeb48d05b4f45c47">OF_LEARNING_SWITCH_CONTROLLER</a>:</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                        ((LearningController*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a>)-&gt;AddSwitch(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63ab92d7f4a092de00618a03d9f35a1c6e4">OF_DROP_CONTROLLER</a>:</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        ((DropController*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a>)-&gt;AddSwitch(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63afc793abd8d50c38fb3f2cc3b66d5a6f6">NO_OF_CONTROLLER</a>:</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;OpenFlowSwitchSession::SetController(), no controller.&quot;</span>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                        <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;OpenFlowSwitchSession::SetController(), wrong controller type.&quot;</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_net_html_a0a40fcbf8258056bfe99ee011d6fe863"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_net.html#a0a40fcbf8258056bfe99ee011d6fe863">s3f::s3fnet::Net::getNameService</a></div><div class="ttdeci">NameService * getNameService()</div><div class="ttdoc">Return global name resolution service. </div><div class="ttdef"><b>Definition:</b> <a href="net_8cc_source.html#l00280">net.cc:280</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_af13adc6b58d913c61e7c686a827de521"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#af13adc6b58d913c61e7c686a827de521">s3f::s3fnet::Host::inNet</a></div><div class="ttdeci">Net * inNet()</div><div class="ttdoc">Return the network containing this host. </div><div class="ttdef"><b>Definition:</b> <a href="host_8cc_source.html#l00254">host.cc:254</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a2d885d995be52ebf39a06e881ec67919ac67e822c008274d5992802936734c8f2"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919ac67e822c008274d5992802936734c8f2">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_OPENFLOW_CONTROLLER</a></div><div class="ttdoc">An OpenFlow switch protocol. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00182">s3fnet.h:182</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a7da7820e442345f5d8f23054ab57540d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a7da7820e442345f5d8f23054ab57540d">s3f::s3fnet::OpenFlowSwitchSession::ctrl_nhi</a></div><div class="ttdeci">S3FNET_STRING ctrl_nhi</div><div class="ttdoc">the nhi of the controller entity </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00207">openflow_switch_session.h:207</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_controller_html_a50329c32536baba80c29d2a89e1f18b7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_controller.html#a50329c32536baba80c29d2a89e1f18b7">s3f::s3fnet::Controller::type</a></div><div class="ttdeci">int type</div><div class="ttdoc">model of the controller, e.g., learning_switch </div><div class="ttdef"><b>Definition:</b> <a href="openflow__controller_8h_source.html#l00071">openflow_controller.h:71</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_acea008b911d95513dfd3b348226b7942"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">s3f::s3fnet::OpenFlowSwitchSession::ctrl_sess</a></div><div class="ttdeci">OpenFlowControllerSession * ctrl_sess</div><div class="ttdoc">pointer of the controller protocol session </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00209">openflow_switch_session.h:209</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_controller_session_html_a0ad563a15d685850bbcce808add6c5cd"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html#a0ad563a15d685850bbcce808add6c5cd">s3f::s3fnet::OpenFlowControllerSession::type</a></div><div class="ttdeci">int type</div><div class="ttdoc">model of the controller, e.g., learning_switch </div><div class="ttdef"><b>Definition:</b> <a href="openflow__controller__session_8h_source.html#l00098">openflow_controller_session.h:98</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af361d2abf6de39eec236783931ab3ffb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</a></div><div class="ttdeci">bool is_ctrl_sess</div><div class="ttdoc">whether it connects to an entity-based controller instead of non-entity controller ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00206">openflow_switch_session.h:206</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_graph_html_a9eccecaaf7b96de8279b1e3c4c88d079"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_graph.html#a9eccecaaf7b96de8279b1e3c4c88d079">s3f::s3fnet::ProtocolGraph::sessionForNumber</a></div><div class="ttdeci">ProtocolSession * sessionForNumber(int pno)</div><div class="ttdoc">If a protocol session has been created and registered under the given protocol number, the method returns the protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__graph_8cc_source.html#l00084">protocol_graph.cc:84</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a4727c4ffd7735b5082c41e796a552f63a41ebb3189b59179baeb48d05b4f45c47"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63a41ebb3189b59179baeb48d05b4f45c47">s3f::s3fnet::OF_LEARNING_SWITCH_CONTROLLER</a></div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8h_source.html#l00097">openflow_interface.h:97</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ad205321d1d08e25c60787d0141cbf66d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad205321d1d08e25c60787d0141cbf66d">s3f::s3fnet::OpenFlowSwitchSession::ctrl_host</a></div><div class="ttdeci">Host * ctrl_host</div><div class="ttdoc">the Host* of the active controller </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00208">openflow_switch_session.h:208</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a28edeb169b10405f1ef9f092f5c8bfa5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">s3f::s3fnet::OpenFlowSwitchSession::np_controller</a></div><div class="ttdeci">Controller * np_controller</div><div class="ttdoc">Connection to the non-entity controller; controller is not implemented as a protocol session...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00472">openflow_switch_session.h:472</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a4727c4ffd7735b5082c41e796a552f63afc793abd8d50c38fb3f2cc3b66d5a6f6"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63afc793abd8d50c38fb3f2cc3b66d5a6f6">s3f::s3fnet::NO_OF_CONTROLLER</a></div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8h_source.html#l00096">openflow_interface.h:96</a></div></div>
<div class="ttc" id="net_8h_html_ae79150a40d5952867f7c369ceb0f6a70"><div class="ttname"><a href="net_8h.html#ae79150a40d5952867f7c369ceb0f6a70">OF_FLOW_EXPIRATION_TIME</a></div><div class="ttdeci">#define OF_FLOW_EXPIRATION_TIME</div><div class="ttdef"><b>Definition:</b> <a href="net_8h_source.html#l00019">net.h:19</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_net_html_a98ef92f432229cc186bf33e819fb87ea"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_net.html#a98ef92f432229cc186bf33e819fb87ea">s3f::s3fnet::Net::get_of_controller</a></div><div class="ttdeci">Controller * get_of_controller()</div><div class="ttdoc">Return the pointer to the non-entity-based controller. </div><div class="ttdef"><b>Definition:</b> <a href="net_8h_source.html#l00287">net.h:287</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_name_service_html_ac0c920ddbc52e930a1a64d22c958bb62"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_name_service.html#ac0c920ddbc52e930a1a64d22c958bb62">s3f::s3fnet::NameService::hostnhi2hostobj</a></div><div class="ttdeci">Host * hostnhi2hostobj(const S3FNET_STRING &amp;nhi)</div><div class="ttdoc">Resolve Host Nhi to the corresponding Host object. </div><div class="ttdef"><b>Definition:</b> <a href="namesvc_8cc_source.html#l00433">namesvc.cc:433</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a4727c4ffd7735b5082c41e796a552f63ac0ea7c641e537788df2ee8da1603a010"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63ac0ea7c641e537788df2ee8da1603a010">s3f::s3fnet::OF_LEARNING_SWITCH_CONTROLLER_ENTITY</a></div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8h_source.html#l00099">openflow_interface.h:99</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a4727c4ffd7735b5082c41e796a552f63ab92d7f4a092de00618a03d9f35a1c6e4"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a4727c4ffd7735b5082c41e796a552f63ab92d7f4a092de00618a03d9f35a1c6e4">s3f::s3fnet::OF_DROP_CONTROLLER</a></div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8h_source.html#l00098">openflow_interface.h:98</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeef68be79d0c4bb4fb8d4c96772aba63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::AddSwitchPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html">NetworkInterface</a> *&#160;</td>
          <td class="paramname"><em>switchPort</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a 'port' to a switch device. </p>
<p>This method adds a new switch port to a <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html" title="An OpenFlow switch that switches multiple LAN segments via an OpenFlow-compatible flow table...">OpenFlowSwitchSession</a>, so that the new switch port (<a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html" title="A network interface. ">NetworkInterface</a>) becomes part of the switch and L2 frames start being forwarded to/from this <a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html" title="A network interface. ">NetworkInterface</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">switchPort</td><td>The port to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00321">321</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h_source.html#l00122">s3f::s3fnet::Port::config</a>, <a class="el" href="network__interface_8h_source.html#l00072">s3f::s3fnet::NetworkInterface::getMac48Addr()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00463">m_address</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, <a class="el" href="openflow__interface_8h_source.html#l00124">s3f::s3fnet::Port::netdev</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00808">SendPortStatus()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00112">init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1d1e429d8ca72e55e0bb0935da6af9d4">m_address</a> == 0)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1d1e429d8ca72e55e0bb0935da6af9d4">m_address</a> = switchPort-&gt;getMac48Addr();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.size () &lt; DP_MAX_PORTS)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                Port p;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                p.config = 0;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                p.netdev = switchPort;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.push_back (p);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="comment">// Notify the controller that this port has been added</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a2483dcc83401cb4eb69df3ec0ca2ebcc">SendPortStatus</a> (p, OFPPR_ADD);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="keywordflow">return</span> EXFULL;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a1d1e429d8ca72e55e0bb0935da6af9d4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1d1e429d8ca72e55e0bb0935da6af9d4">s3f::s3fnet::OpenFlowSwitchSession::m_address</a></div><div class="ttdeci">Mac48Address * m_address</div><div class="ttdoc">Address of this device. (the base MAC address, should not be used as for now) </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00463">openflow_switch_session.h:463</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a2483dcc83401cb4eb69df3ec0ca2ebcc"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a2483dcc83401cb4eb69df3ec0ca2ebcc">s3f::s3fnet::OpenFlowSwitchSession::SendPortStatus</a></div><div class="ttdeci">void SendPortStatus(Port p, uint8_t status)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00808">openflow_switch_session.cc:808</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab2444a76c14a2e42b6c80b7d37150758"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::AddVPort </td>
          <td>(</td>
          <td class="paramtype">const ofp_vport_mod *&#160;</td>
          <td class="paramname"><em>ovpm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a virtual port to a switch device. </p>
<p>The Ericsson OFSID has the concept of virtual ports and virtual port tables. These are implemented in the <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html" title="An OpenFlow switch that switches multiple LAN segments via an OpenFlow-compatible flow table...">OpenFlowSwitchSession</a>, but don't have an understood use [perhaps it may have to do with MPLS integration].</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ovpm</td><td>The data for adding a virtual port. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00376">376</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="barrier_8h_source.html#l00009">EINVAL</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00482">m_vportTable</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00840">SendErrorMsg()</a>, and <a class="el" href="openflow__interface_8cc_source.html#l00789">s3f::s3fnet::ValidateVPortActions()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01120">ReceiveVPortMod()</a>.</p>
<div class="fragment"><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordtype">size_t</span> actions_len = ntohs (ovpm-&gt;header.length) - <span class="keyword">sizeof</span> *ovpm;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vport = ntohl (ovpm-&gt;vport);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> parent_port = ntohl (ovpm-&gt;parent_port);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// check whether port table entry exists for specified port number</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        vport_table_entry *vpe = vport_table_lookup (&amp;<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>, vport);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">if</span> (vpe != 0)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;vport &quot;</span> &lt;&lt; vport &lt;&lt; <span class="stringliteral">&quot; already exists!&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> (OFPET_BAD_ACTION, OFPET_VPORT_MOD_FAILED, ovpm, ntohs (ovpm-&gt;header.length));</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="comment">// check whether actions are valid</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        uint16_t v_code = <a class="code" href="namespaces3f_1_1s3fnet.html#adea5d80cf14d088c2fe3f9503baa4d12">ValidateVPortActions</a> (ovpm-&gt;actions, actions_len);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">if</span> (v_code != ACT_VALIDATION_OK)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> (OFPET_BAD_ACTION, v_code, ovpm, ntohs (ovpm-&gt;header.length));</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        vpe = vport_table_entry_alloc (actions_len);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        vpe-&gt;vport = vport;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        vpe-&gt;parent_port = parent_port;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">if</span> (vport &lt; OFPP_VP_START || vport &gt; OFPP_VP_END)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;port &quot;</span> &lt;&lt; vport &lt;&lt; <span class="stringliteral">&quot; is not in the virtual port range (&quot;</span> &lt;&lt; OFPP_VP_START &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; OFPP_VP_END &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> (OFPET_BAD_ACTION, OFPET_VPORT_MOD_FAILED, ovpm, ntohs (ovpm-&gt;header.length));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                free_vport_table_entry (vpe); <span class="comment">// free allocated entry</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        vpe-&gt;port_acts-&gt;actions_len = actions_len;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        memcpy (vpe-&gt;port_acts-&gt;actions, ovpm-&gt;actions, actions_len);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordtype">int</span> error = insert_vport_table_entry (&amp;<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>, vpe);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (error)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;could not insert port table entry for port &quot;</span> &lt;&lt; vport &lt;&lt; endl );</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">return</span> error;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a005cd632cc511a17a25ec2d82b448e8c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">s3f::s3fnet::OpenFlowSwitchSession::m_vportTable</a></div><div class="ttdeci">vport_table_t m_vportTable</div><div class="ttdoc">Virtual Port Table. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00482">openflow_switch_session.h:482</a></div></div>
<div class="ttc" id="barrier_8h_html_a2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdef"><b>Definition:</b> <a href="barrier_8h_source.html#l00009">barrier.h:9</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_adc68fc3ef3260dafaf02f62ea4632787"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">s3f::s3fnet::OpenFlowSwitchSession::SendErrorMsg</a></div><div class="ttdeci">void SendErrorMsg(uint16_t type, uint16_t code, const void *data, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00840">openflow_switch_session.cc:840</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_adea5d80cf14d088c2fe3f9503baa4d12"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#adea5d80cf14d088c2fe3f9503baa4d12">s3f::s3fnet::ValidateVPortActions</a></div><div class="ttdeci">uint16_t ValidateVPortActions(const ofp_action_header *actions, size_t actions_len)</div><div class="ttdoc">Validates a list of virtual port table entry actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00789">openflow_interface.cc:789</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af1661b40ae585647d47c86960bab6f22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::StatsDump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs3f_1_1s3fnet_1_1_stats_dump_callback.html">StatsDumpCallback</a> *&#160;</td>
          <td class="paramname"><em>cb_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classs3f_1_1s3fnet_1_1_stats.html">Stats</a> callback is ready for a dump. </p>
<p>Controllers have a callback system for status requests which calls this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_</td><td>The callback data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01311">1311</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8cc_source.html#l00080">s3f::s3fnet::Stats::DoDump()</a>, <a class="el" href="openflow__interface_8h_source.html#l00308">s3f::s3fnet::StatsDumpCallback::done</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00681">MakeOpenflowReply()</a>, <a class="el" href="openflow__interface_8h_source.html#l00310">s3f::s3fnet::StatsDumpCallback::s</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>, <a class="el" href="openflow__interface_8h_source.html#l00311">s3f::s3fnet::StatsDumpCallback::state</a>, and <a class="el" href="openflow__interface_8h_source.html#l00187">s3f::s3fnet::Stats::type</a>.</p>

<p>Referenced by <a class="el" href="openflow__controller_8cc_source.html#l00087">s3f::s3fnet::Controller::StartDump()</a>, and <a class="el" href="openflow__controller__session_8cc_source.html#l00146">s3f::s3fnet::OpenFlowControllerSession::StartDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;{</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        ofp_stats_reply *osr;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        ofpbuf *buffer;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="keywordflow">if</span> (cb-&gt;done)</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        osr = (ofp_stats_reply*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">MakeOpenflowReply</a> (<span class="keyword">sizeof</span> *osr, OFPT_STATS_REPLY, &amp;buffer);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        osr-&gt;type = htons (cb-&gt;s-&gt;type);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        osr-&gt;flags = 0;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        err = cb-&gt;s-&gt;DoDump (<span class="keyword">this</span>, cb-&gt;state, buffer);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">if</span> (err &gt;= 0)</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                <span class="keywordflow">if</span> (err == 0)</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                        cb-&gt;done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                        <span class="comment">// Buffer might have been reallocated, so find our data again.</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                        osr = (ofp_stats_reply*)ofpbuf_at_assert (buffer, 0, <span class="keyword">sizeof</span> *osr);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                        osr-&gt;flags = ntohs (OFPSF_REPLY_MORE);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                <span class="keywordtype">int</span> err2 = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (buffer);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <span class="keywordflow">if</span> (err2)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                        err = err2;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab6f392683db1ffc2adfbb7b9e4b15612"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">s3f::s3fnet::OpenFlowSwitchSession::MakeOpenflowReply</a></div><div class="ttdeci">void * MakeOpenflowReply(size_t openflow_len, uint8_t type, ofpbuf **bufferp)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00681">openflow_switch_session.cc:681</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af14db8410e4326f5d2d10b4338fb7a4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::StatsDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs3f_1_1s3fnet_1_1_stats_dump_callback.html">StatsDumpCallback</a> *&#160;</td>
          <td class="paramname"><em>cb_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classs3f_1_1s3fnet_1_1_stats.html">Stats</a> callback is done. </p>
<p>Controllers have a callback system for status requests which calls this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_</td><td>The callback data. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01350">1350</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8cc_source.html#l00103">s3f::s3fnet::Stats::DoCleanup()</a>, <a class="el" href="openflow__interface_8h_source.html#l00310">s3f::s3fnet::StatsDumpCallback::s</a>, and <a class="el" href="openflow__interface_8h_source.html#l00311">s3f::s3fnet::StatsDumpCallback::state</a>.</p>

<p>Referenced by <a class="el" href="openflow__controller_8cc_source.html#l00087">s3f::s3fnet::Controller::StartDump()</a>, and <a class="el" href="openflow__controller__session_8cc_source.html#l00146">s3f::s3fnet::OpenFlowControllerSession::StartDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;{</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        <span class="keywordflow">if</span> (cb)</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                cb-&gt;s-&gt;DoCleanup (cb-&gt;state);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                free (cb-&gt;s);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                free (cb);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a43dc4c85b1e935c8bf68904ffb2b30c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::DoOutput </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packet_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_no_fwd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called from the OpenFlow <a class="el" href="class_interface.html" title="A C++ program can build an S3F simulation and interact with it through an instance of some derivation...">Interface</a> to output the Packet on either a <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> or the <a class="el" href="classs3f_1_1s3fnet_1_1_controller.html" title="An interface for a non-entity-based OpenFlow controller. ">Controller</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_uid</td><td>Packet UID; used to fetch the packet and its metadata. </td></tr>
    <tr><td class="paramname">in_port</td><td>The index of the port the Packet was initially received on. </td></tr>
    <tr><td class="paramname">max_len</td><td>The maximum number of bytes the caller wants to be sent; a value of 0 indicates the entire packet should be sent. Used when outputting to controller. </td></tr>
    <tr><td class="paramname">out_port</td><td>The port we want to output on. </td></tr>
    <tr><td class="paramname">ignore_no_fwd</td><td>If true, Ports that are set to not forward are forced to forward. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00363">363</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>.</p>

<p>Referenced by <a class="el" href="openflow__interface_8cc_source.html#l00623">s3f::s3fnet::ExecuteActions()</a>, and <a class="el" href="openflow__interface_8cc_source.html#l00740">s3f::s3fnet::ExecuteVPortActions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">if</span> (out_port != OFPP_CONTROLLER)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a74c8a2b5a47f37eb163acf4bacb5dd32">OutputPort</a> (packet_uid, in_port, out_port, ignore_no_fwd);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a173c67659d64dc03aa2955673e2d2919">OutputControl</a> (packet_uid, in_port, max_len, OFPR_ACTION);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a173c67659d64dc03aa2955673e2d2919"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a173c67659d64dc03aa2955673e2d2919">s3f::s3fnet::OpenFlowSwitchSession::OutputControl</a></div><div class="ttdeci">void OutputControl(uint32_t packet_uid, int in_port, size_t max_len, int reason)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00706">openflow_switch_session.cc:706</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a74c8a2b5a47f37eb163acf4bacb5dd32"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a74c8a2b5a47f37eb163acf4bacb5dd32">s3f::s3fnet::OpenFlowSwitchSession::OutputPort</a></div><div class="ttdeci">void OutputPort(uint32_t packet_uid, int in_port, int out_port, bool ignore_no_fwd)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00636">openflow_switch_session.cc:636</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21910829ba5098739641dbc36a1b5140"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ForwardControlInput </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The registered controller calls this method when sending a message to the switch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message received from the controller. </td></tr>
    <tr><td class="paramname">length</td><td>Length of the message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01438">1438</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="barrier_8h_source.html#l00009">EINVAL</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01410">ReceiveEchoReply()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01405">ReceiveEchoRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00991">ReceiveFeaturesRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01278">ReceiveFlow()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01003">ReceiveGetConfigRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01028">ReceivePacketOut()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01076">ReceivePortMod()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01013">ReceiveSetConfig()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01360">ReceiveStatsRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01120">ReceiveVPortMod()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00997">ReceiveVPortTableFeaturesRequest()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00840">SendErrorMsg()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01415">HandleControlInput()</a>, <a class="el" href="openflow__controller_8cc_source.html#l00038">s3f::s3fnet::Controller::SendToSwitch()</a>, and <a class="el" href="openflow__controller__session_8cc_source.html#l00103">s3f::s3fnet::OpenFlowControllerSession::SendToSwitch()</a>.</p>
<div class="fragment"><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;{</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="comment">// Check encapsulated length.</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        ofp_header *oh = (ofp_header*) msg;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="keywordflow">if</span> (ntohs (oh-&gt;length) &gt; length)</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                <span class="keywordflow">return</span> -<a class="code" href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        assert (oh-&gt;version == OFP_VERSION);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordtype">int</span> error = 0;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">// Figure out how to handle it.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">switch</span> (oh-&gt;type)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <span class="keywordflow">case</span> OFPT_FEATURES_REQUEST:</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_header) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a267eadc4605f802666d72e737a667355">ReceiveFeaturesRequest</a> (msg);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="keywordflow">case</span> OFPT_GET_CONFIG_REQUEST:</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_header) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1282b91735756ca25c222e18661cfa36">ReceiveGetConfigRequest</a> (msg);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="keywordflow">case</span> OFPT_SET_CONFIG:</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_switch_config) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a07bf5b3dc63b1434b5a4aa78849bab2b">ReceiveSetConfig</a> (msg);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <span class="keywordflow">case</span> OFPT_PACKET_OUT:</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_packet_out) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5798120157185b04f7a348d3920d608b">ReceivePacketOut</a> (msg);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">case</span> OFPT_FLOW_MOD:</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_flow_mod) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa307f181b07b3b6c99d2d08bd1b93d06">ReceiveFlow</a> (msg);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        <span class="keywordflow">case</span> OFPT_PORT_MOD:</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_port_mod) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a634957ae413ca4d1e39b9319f1b26fd1">ReceivePortMod</a> (msg);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keywordflow">case</span> OFPT_STATS_REQUEST:</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_stats_request) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ba44cf3084df59b5286e21b0a42bc81">ReceiveStatsRequest</a> (msg);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">case</span> OFPT_ECHO_REQUEST:</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_header) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a2a2c67cc7c080b058b8d9c4d6afaa402">ReceiveEchoRequest</a> (msg);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <span class="keywordflow">case</span> OFPT_ECHO_REPLY:</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_header) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab904956a394df4f066828b22949784b2">ReceiveEchoReply</a> (msg);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="keywordflow">case</span> OFPT_VPORT_MOD:</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_vport_mod) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a3f91521942437725b92830889f297eba">ReceiveVPortMod</a> (msg);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">case</span> OFPT_VPORT_TABLE_FEATURES_REQUEST:</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                error = length &lt; <span class="keyword">sizeof</span>(ofp_header) ? -EFAULT : <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa8a3a53865210bf2f74b2cf1eebbc01c">ReceiveVPortTableFeaturesRequest</a> (msg);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> ((ofp_error_type)OFPET_BAD_REQUEST, (ofp_bad_request_code)OFPBRC_BAD_TYPE, msg, length);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                error = -<a class="code" href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">if</span> (msg != 0)</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                free ((ofpbuf*)msg);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        }</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="keywordflow">return</span> error;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a5798120157185b04f7a348d3920d608b"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a5798120157185b04f7a348d3920d608b">s3f::s3fnet::OpenFlowSwitchSession::ReceivePacketOut</a></div><div class="ttdeci">int ReceivePacketOut(const void *msg)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01028">openflow_switch_session.cc:1028</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa307f181b07b3b6c99d2d08bd1b93d06"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa307f181b07b3b6c99d2d08bd1b93d06">s3f::s3fnet::OpenFlowSwitchSession::ReceiveFlow</a></div><div class="ttdeci">int ReceiveFlow(const void *msg)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01278">openflow_switch_session.cc:1278</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a2a2c67cc7c080b058b8d9c4d6afaa402"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a2a2c67cc7c080b058b8d9c4d6afaa402">s3f::s3fnet::OpenFlowSwitchSession::ReceiveEchoRequest</a></div><div class="ttdeci">int ReceiveEchoRequest(const void *oh)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01405">openflow_switch_session.cc:1405</a></div></div>
<div class="ttc" id="barrier_8h_html_a2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdef"><b>Definition:</b> <a href="barrier_8h_source.html#l00009">barrier.h:9</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a3f91521942437725b92830889f297eba"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a3f91521942437725b92830889f297eba">s3f::s3fnet::OpenFlowSwitchSession::ReceiveVPortMod</a></div><div class="ttdeci">int ReceiveVPortMod(const void *msg)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01120">openflow_switch_session.cc:1120</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab904956a394df4f066828b22949784b2"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab904956a394df4f066828b22949784b2">s3f::s3fnet::OpenFlowSwitchSession::ReceiveEchoReply</a></div><div class="ttdeci">int ReceiveEchoReply(const void *oh)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01410">openflow_switch_session.cc:1410</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a1282b91735756ca25c222e18661cfa36"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a1282b91735756ca25c222e18661cfa36">s3f::s3fnet::OpenFlowSwitchSession::ReceiveGetConfigRequest</a></div><div class="ttdeci">int ReceiveGetConfigRequest(const void *msg)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01003">openflow_switch_session.cc:1003</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a634957ae413ca4d1e39b9319f1b26fd1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a634957ae413ca4d1e39b9319f1b26fd1">s3f::s3fnet::OpenFlowSwitchSession::ReceivePortMod</a></div><div class="ttdeci">int ReceivePortMod(const void *msg)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01076">openflow_switch_session.cc:1076</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_adc68fc3ef3260dafaf02f62ea4632787"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">s3f::s3fnet::OpenFlowSwitchSession::SendErrorMsg</a></div><div class="ttdeci">void SendErrorMsg(uint16_t type, uint16_t code, const void *data, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00840">openflow_switch_session.cc:840</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a8ba44cf3084df59b5286e21b0a42bc81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ba44cf3084df59b5286e21b0a42bc81">s3f::s3fnet::OpenFlowSwitchSession::ReceiveStatsRequest</a></div><div class="ttdeci">int ReceiveStatsRequest(const void *oh)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01360">openflow_switch_session.cc:1360</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a267eadc4605f802666d72e737a667355"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a267eadc4605f802666d72e737a667355">s3f::s3fnet::OpenFlowSwitchSession::ReceiveFeaturesRequest</a></div><div class="ttdeci">int ReceiveFeaturesRequest(const void *msg)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00991">openflow_switch_session.cc:991</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a07bf5b3dc63b1434b5a4aa78849bab2b"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a07bf5b3dc63b1434b5a4aa78849bab2b">s3f::s3fnet::OpenFlowSwitchSession::ReceiveSetConfig</a></div><div class="ttdeci">int ReceiveSetConfig(const void *msg)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01013">openflow_switch_session.cc:1013</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa8a3a53865210bf2f74b2cf1eebbc01c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa8a3a53865210bf2f74b2cf1eebbc01c">s3f::s3fnet::OpenFlowSwitchSession::ReceiveVPortTableFeaturesRequest</a></div><div class="ttdeci">int ReceiveVPortTableFeaturesRequest(const void *msg)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00997">openflow_switch_session.cc:997</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9bb6c10cef99345a737f92f6f6a976a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::HandleControlInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01415">1415</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__message_8h_source.html#l00057">s3f::s3fnet::OpenFlowMessage::buffer</a>, <a class="el" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer()</a>, <a class="el" href="protocol__message_8cc_source.html#l00046">s3f::s3fnet::ProtocolMessage::erase()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__message_8h_source.html#l00061">s3f::s3fnet::OpenFlowMessage::length</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00467">m_packetData</a>, <a class="el" href="openflow__message_8h_source.html#l00060">s3f::s3fnet::OpenFlowMessage::ofm</a>, and <a class="el" href="openflow__message_8h_source.html#l00058">s3f::s3fnet::OpenFlowMessage::packet_uid</a>.</p>

<p>Referenced by <a class="el" href="network__interface_8cc_source.html#l00216">s3f::s3fnet::NetworkInterface::receivePacket()</a>.</p>
<div class="fragment"><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;{</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        OpenFlowMessage* msg = (OpenFlowMessage*)pkt;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a21910829ba5098739641dbc36a1b5140">ForwardControlInput</a>(msg-&gt;ofm, msg-&gt;length);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="comment">//claim buffer and message</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordflow">if</span>(msg-&gt;packet_uid != -1) <span class="comment">//direct inquiry response</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a>.erase(msg-&gt;packet_uid);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                <a class="code" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a>(msg-&gt;packet_uid);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                ofpbuf_delete(msg-&gt;buffer);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                msg-&gt;erase();</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="keywordflow">else</span> <span class="comment">//other response, e.g. learned flow in learning switch</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                msg-&gt;erase();</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;}</div>
<div class="ttc" id="openflow__interface_8h_html_a00cf5cac22eda1904f90e04aa68094fd"><div class="ttname"><a href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a></div><div class="ttdeci">void discard_buffer(uint32_t id)</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4b5918bd37cb03afe76888e14918af8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">s3f::s3fnet::OpenFlowSwitchSession::m_packetData</a></div><div class="ttdeci">PacketData_t m_packetData</div><div class="ttdoc">Packet data. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00467">openflow_switch_session.h:467</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a21910829ba5098739641dbc36a1b5140"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a21910829ba5098739641dbc36a1b5140">s3f::s3fnet::OpenFlowSwitchSession::ForwardControlInput</a></div><div class="ttdeci">int ForwardControlInput(const void *msg, size_t length)</div><div class="ttdoc">The registered controller calls this method when sending a message to the switch. ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01438">openflow_switch_session.cc:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a52127bf7969f1ce9b2d8403c27216407"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sw_chain * s3f::s3fnet::OpenFlowSwitchSession::GetChain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The flow table chain. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01499">1499</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>.</p>

<p>Referenced by <a class="el" href="openflow__interface_8cc_source.html#l00224">s3f::s3fnet::Stats::AggregateStatsDump()</a>, <a class="el" href="openflow__interface_8cc_source.html#l00184">s3f::s3fnet::Stats::FlowStatsDump()</a>, and <a class="el" href="openflow__interface_8cc_source.html#l00255">s3f::s3fnet::Stats::TableStatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;{</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1f6c2833749a3cee0e7fd2c8c08f9beb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t s3f::s3fnet::OpenFlowSwitchSession::GetNSwitchPorts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Number of switch ports attached to this switch. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01504">1504</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>.</p>
<div class="fragment"><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;{</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.size ();</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a219a56737476084b1d527b11d0b65bfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::GetSwitchPortIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> to get the index of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the provided <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a>. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01514">1514</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, and <a class="el" href="openflow__interface_8h_source.html#l00124">s3f::s3fnet::Port::netdev</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00745">FillPortDesc()</a>, and <a class="el" href="openflow__interface_8cc_source.html#l00300">s3f::s3fnet::Stats::PortStatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;{</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.size (); i++)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].netdev == p.netdev)</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                        <span class="comment">//return i;</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].netdev-&gt;id;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9d74a79b5b4dc81141e15b54360c0c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a> s3f::s3fnet::OpenFlowSwitchSession::GetSwitchPort </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>index of the <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a>. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01509">1509</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>.</p>

<p>Referenced by <a class="el" href="openflow__interface_8cc_source.html#l00300">s3f::s3fnet::Stats::PortStatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;{</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[n];</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd4b37c9b3b9de92950be146613b6681"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vport_table_t s3f::s3fnet::OpenFlowSwitchSession::GetVPortTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The virtual port table. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01527">1527</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00482">m_vportTable</a>.</p>

<p>Referenced by <a class="el" href="openflow__interface_8cc_source.html#l00300">s3f::s3fnet::Stats::PortStatsDump()</a>, and <a class="el" href="openflow__interface_8cc_source.html#l00275">s3f::s3fnet::Stats::PortTableStatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;{</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a005cd632cc511a17a25ec2d82b448e8c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">s3f::s3fnet::OpenFlowSwitchSession::m_vportTable</a></div><div class="ttdeci">vport_table_t m_vportTable</div><div class="ttdoc">Virtual Port Table. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00482">openflow_switch_session.h:482</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2c2a38988c9ae59671e67e6cb8fe7b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool s3f::s3fnet::OpenFlowSwitchSession::SetMtu </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>mtu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00346">346</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00464">m_mtu</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00112">init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a69eadf40c8ebe547b3aafa0face538f8">m_mtu</a> = mtu;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a69eadf40c8ebe547b3aafa0face538f8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a69eadf40c8ebe547b3aafa0face538f8">s3f::s3fnet::OpenFlowSwitchSession::m_mtu</a></div><div class="ttdeci">uint16_t m_mtu</div><div class="ttdoc">Maximum Transmission Unit. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00464">openflow_switch_session.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73374f89b77a98f4df8bcb7d9160094e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t s3f::s3fnet::OpenFlowSwitchSession::GetMtu </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00352">352</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00464">m_mtu</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00423">BufferFromPacket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a69eadf40c8ebe547b3aafa0face538f8">m_mtu</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a69eadf40c8ebe547b3aafa0face538f8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a69eadf40c8ebe547b3aafa0face538f8">s3f::s3fnet::OpenFlowSwitchSession::m_mtu</a></div><div class="ttdeci">uint16_t m_mtu</div><div class="ttdoc">Maximum Transmission Unit. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00464">openflow_switch_session.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59ca833e880b31379e8f8a92fb56331b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool s3f::s3fnet::OpenFlowSwitchSession::IsLinkUp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00358">358</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aae11ef8524397efdc408e5f366d76cf6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::DoDispose </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00250">250</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00206">is_ctrl_sess</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00482">m_vportTable</a>, and <a class="el" href="openflow__switch__session_8h_source.html#l00472">np_controller</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00088">~OpenFlowSwitchSession()</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">for</span> (Ports_t::iterator b = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.begin (), e = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.end (); b != e; b++)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        <span class="comment">//SendPortStatus (*b, OFPPR_DELETE); //temp prevent seg fault at the end</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                b-&gt;netdev = 0;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.clear ();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a> = 0;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        chain_destroy (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        RBTreeDestroy (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>.table);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a005cd632cc511a17a25ec2d82b448e8c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">s3f::s3fnet::OpenFlowSwitchSession::m_vportTable</a></div><div class="ttdeci">vport_table_t m_vportTable</div><div class="ttdoc">Virtual Port Table. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00482">openflow_switch_session.h:482</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af361d2abf6de39eec236783931ab3ffb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</a></div><div class="ttdeci">bool is_ctrl_sess</div><div class="ttdoc">whether it connects to an entity-based controller instead of non-entity controller ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00206">openflow_switch_session.h:206</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a28edeb169b10405f1ef9f092f5c8bfa5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">s3f::s3fnet::OpenFlowSwitchSession::np_controller</a></div><div class="ttdeci">Controller * np_controller</div><div class="ttdoc">Connection to the non-entity controller; controller is not implemented as a protocol session...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00472">openflow_switch_session.h:472</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8267f9acab07e219e2f4efa7aea6b1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ofpbuf * s3f::s3fnet::OpenFlowSwitchSession::BufferFromPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_message.html">ProtocolMessage</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Takes a packet and generates an OpenFlow buffer from it, loading the packet data as well as its headers. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00423">423</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="tcp__message_8h_source.html#l00044">s3f::s3fnet::TCPMessage::ackno</a>, <a class="el" href="ip__message_8h_source.html#l00065">s3f::s3fnet::IPMessage::dst_ip</a>, <a class="el" href="udp__message_8h_source.html#l00028">s3f::s3fnet::UDPMessage::dst_port</a>, <a class="el" href="tcp__message_8h_source.html#l00038">s3f::s3fnet::TCPMessage::dst_port</a>, <a class="el" href="tcp__message_8h_source.html#l00050">s3f::s3fnet::TCPMessage::flags</a>, <a class="el" href="ip__message_8h_source.html#l00076">s3f::s3fnet::IPMessage::fragmentOffset</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00352">GetMtu()</a>, <a class="el" href="ip__message_8h_source.html#l00073">s3f::s3fnet::IPMessage::identification</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="protocol__message_8h_source.html#l00103">s3f::s3fnet::ProtocolMessage::payload()</a>, <a class="el" href="ip__message_8h_source.html#l00068">s3f::s3fnet::IPMessage::protocol_no</a>, <a class="el" href="s3fnet_8h_source.html#l00123">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_TCP</a>, <a class="el" href="s3fnet_8h_source.html#l00126">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_UDP</a>, <a class="el" href="tcp__message_8h_source.html#l00041">s3f::s3fnet::TCPMessage::seqno</a>, <a class="el" href="ip__message_8h_source.html#l00062">s3f::s3fnet::IPMessage::src_ip</a>, <a class="el" href="udp__message_8h_source.html#l00025">s3f::s3fnet::UDPMessage::src_port</a>, <a class="el" href="tcp__message_8h_source.html#l00035">s3f::s3fnet::TCPMessage::src_port</a>, <a class="el" href="ip__message_8h_source.html#l00071">s3f::s3fnet::IPMessage::time_to_live</a>, <a class="el" href="ip__message_8h_source.html#l00074">s3f::s3fnet::IPMessage::tos</a>, <a class="el" href="ip__message_8h_source.html#l00077">s3f::s3fnet::IPMessage::total_length</a>, and <a class="el" href="tcp__message_8h_source.html#l00053">s3f::s3fnet::TCPMessage::wsize</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], OpenFlowSwitchSession::BufferFromPacket(), Creating Openflow buffer from packet.&quot;</span> &lt;&lt; endl);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordtype">int</span> mtu = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a73374f89b77a98f4df8bcb7d9160094e">GetMtu</a>();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">         * Allocate buffer with some headroom to add headers in forwarding</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">         * to the controller or adding a vlan tag, plus an extra 2 bytes to</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">         * allow IP headers to be aligned on a 4-byte boundary.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> headroom = 128 + 2;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> hard_header = VLAN_ETH_HEADER_LEN;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        ofpbuf *buffer = ofpbuf_new (headroom + hard_header + mtu);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        buffer-&gt;data = (<span class="keywordtype">char</span>*)buffer-&gt;data + headroom + hard_header;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordtype">int</span> l2_length = 0, l3_length = 0, l4_length = 0;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="comment">/* layer 2 */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="comment">//kevin: will do msg type check later</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        SimpleMacMessage* l2_hdr = (SimpleMacMessage*)packet;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        buffer-&gt;l2 = <span class="keyword">new</span> eth_header;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        eth_header* eth_h = (eth_header*)buffer-&gt;l2;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        l2_hdr-&gt;dst48-&gt;CopyTo (eth_h-&gt;eth_dst);              <span class="comment">// Destination Mac Address</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        l2_hdr-&gt;src48-&gt;CopyTo (eth_h-&gt;eth_src);              <span class="comment">// Source Mac Address</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        eth_h-&gt;eth_type = htons (ETH_TYPE_IP);    <span class="comment">// Ether Type</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Parsed EthernetHeader&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        l2_length = ETH_HEADER_LEN;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="comment">/* layer 3 */</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        IPMessage* l3_hdr = (IPMessage*)(l2_hdr-&gt;payload());</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        buffer-&gt;l3 = <span class="keyword">new</span> ip_header;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        ip_header* ip_h = (ip_header*)buffer-&gt;l3;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        ip_h-&gt;ip_ihl_ver  = IP_IHL_VER (5, IP_VERSION);       <span class="comment">// Version</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        ip_h-&gt;ip_tos      = l3_hdr-&gt;tos;                  <span class="comment">// Type of Service/Differentiated Services</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        ip_h-&gt;ip_tot_len  = l3_hdr-&gt;total_length;               <span class="comment">// Total Length</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        ip_h-&gt;ip_id       = l3_hdr-&gt;identification;       <span class="comment">// Identification</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        ip_h-&gt;ip_frag_off = l3_hdr-&gt;fragmentOffset;       <span class="comment">// Fragment Offset</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        ip_h-&gt;ip_ttl      = l3_hdr-&gt;time_to_live;                  <span class="comment">// Time to Live</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        ip_h-&gt;ip_proto    = l3_hdr-&gt;protocol_no;             <span class="comment">// Protocol</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        ip_h-&gt;ip_src      = htonl ((uint32_t)l3_hdr-&gt;src_ip); <span class="comment">// Source Address</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        ip_h-&gt;ip_dst      = htonl ((uint32_t)l3_hdr-&gt;dst_ip); <span class="comment">// Destination Address</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        ip_h-&gt;ip_csum     = csum (&amp;ip_h, <span class="keyword">sizeof</span> ip_h);        <span class="comment">// Header Checksum</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Parsed Ipv4Header&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        l3_length = IP_HEADER_LEN;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">      // ARP Packet; the underlying OpenFlow header isn&#39;t used to match, so this is probably superfluous.</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">      ArpHeader arp_hd;</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">      if (packet-&gt;PeekHeader (arp_hd))</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">          buffer-&gt;l3 = new arp_eth_header;</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">          arp_eth_header* arp_h = (arp_eth_header*)buffer-&gt;l3;</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">          arp_h-&gt;ar_hrd = ARP_HRD_ETHERNET;                             // Hardware type.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">          arp_h-&gt;ar_pro = ARP_PRO_IP;                                   // Protocol type.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">          arp_h-&gt;ar_op = arp_hd.m_type;                                 // Opcode.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">          arp_hd.GetDestinationHardwareAddress ().CopyTo (arp_h-&gt;ar_tha); // Target hardware address.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">          arp_hd.GetSourceHardwareAddress ().CopyTo (arp_h-&gt;ar_sha);    // Sender hardware address.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">          arp_h-&gt;ar_tpa = arp_hd.GetDestinationIpv4Address ().Get ();   // Target protocol address.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">          arp_h-&gt;ar_spa = arp_hd.GetSourceIpv4Address ().Get ();        // Sender protocol address.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">          arp_h-&gt;ar_hln = sizeof arp_h-&gt;ar_tha;                         // Hardware address length.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">          arp_h-&gt;ar_pln = sizeof arp_h-&gt;ar_tpa;                         // Protocol address length.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">          OF_SWITCH_DUMP ( cout &lt;&lt; &quot;Parsed ArpHeader&quot; &lt;&lt; endl );</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">          l3_length = ARP_ETH_HEADER_LEN;</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">if</span>(l3_hdr-&gt;protocol_no == <a class="code" href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a79c34ff2bf1768c6fc90d613edcd0908">S3FNET_PROTOCOL_TYPE_TCP</a>)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                TCPMessage* tcp_hd = (TCPMessage*)(l3_hdr-&gt;payload());</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                buffer-&gt;l4 = <span class="keyword">new</span> tcp_header;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                tcp_header* tcp_h = (tcp_header*)buffer-&gt;l4;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                tcp_h-&gt;tcp_src = htonl (tcp_hd-&gt;src_port);         <span class="comment">// Source Port</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                tcp_h-&gt;tcp_dst = htonl (tcp_hd-&gt;dst_port);    <span class="comment">// Destination Port</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                tcp_h-&gt;tcp_seq = tcp_hd-&gt;seqno; <span class="comment">// Sequence Number</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                tcp_h-&gt;tcp_ack = tcp_hd-&gt;ackno;      <span class="comment">// ACK Number</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                tcp_h-&gt;tcp_ctl = TCP_FLAGS (tcp_hd-&gt;flags);  <span class="comment">// Data Offset + Reserved + Flags</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                tcp_h-&gt;tcp_winsz = tcp_hd-&gt;wsize;       <span class="comment">// Window Size</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                tcp_h-&gt;tcp_urg = 0;      <span class="comment">// Urgent Pointer (currently not set)</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                tcp_h-&gt;tcp_csum = csum (&amp;tcp_h, <span class="keyword">sizeof</span> tcp_h);    <span class="comment">// Header Checksum</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Parsed TcpHeader&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                l4_length = TCP_HEADER_LEN;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (l3_hdr-&gt;protocol_no == <a class="code" href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a6ec04f2b25eb4d460610c7ffaf045f03">S3FNET_PROTOCOL_TYPE_UDP</a>)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                UDPMessage* udp_hd = (UDPMessage*)(l3_hdr-&gt;payload());</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                buffer-&gt;l4 = <span class="keyword">new</span> udp_header;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                udp_header* udp_h = (udp_header*)buffer-&gt;l4;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                udp_h-&gt;udp_src = htonl (udp_hd-&gt;src_port);     <span class="comment">// Source Port</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                udp_h-&gt;udp_dst = htonl (udp_hd-&gt;dst_port); <span class="comment">// Destination Port</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="comment">//udp_h-&gt;udp_len = htons (UDP_HEADER_LEN + udp_hd-&gt;payload()-&gt;packingSize());</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                udp_h-&gt;udp_len = htons (UDP_HEADER_LEN);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="comment">//if (ipopt-&gt;protocol_no == Ipv4L3Protocol::PROT_NUMBER)</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="comment">//{</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                <span class="comment">/*  ip_header* ip_h = (ip_header*)buffer-&gt;l3;</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">          uint32_t udp_csum = csum_add32 (0, ip_h-&gt;ip_src);</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">          udp_csum = csum_add32 (udp_csum, ip_h-&gt;ip_dst);</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">          udp_csum = csum_add16 (udp_csum, IP_TYPE_UDP &lt;&lt; 8);</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">          udp_csum = csum_add16 (udp_csum, udp_h-&gt;udp_len);</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">          udp_csum = csum_continue (udp_csum, udp_h, sizeof udp_h);</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">          udp_h-&gt;udp_csum = csum_finish (csum_continue (udp_csum, buffer-&gt;data, buffer-&gt;size)); // Header Checksum</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                <span class="comment">//}</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="comment">//else</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="comment">//{</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                udp_h-&gt;udp_csum = htons (0);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                <span class="comment">//}</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Parsed UdpHeader&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                l4_length = UDP_HEADER_LEN;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="comment">// Load Packet data into buffer data</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="comment">// as for now, payload is not inspected for rules, just add something here, will replace with payload data in the future</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="comment">//packet-&gt;CopyData ((uint8_t*)buffer-&gt;data, packet-&gt;GetSize ());</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">if</span> (buffer-&gt;l4)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <span class="comment">/*  cout          &lt;&lt; &quot; udp_len = &quot; &lt;&lt; ((udp_header*)(buffer-&gt;l4))-&gt;udp_len</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">                          &lt;&lt; &quot; udp_src = &quot; &lt;&lt; udp_h-&gt;udp_src</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">                          &lt;&lt; &quot; udp_dst = &quot; &lt;&lt; ((udp_header*)(buffer-&gt;l4))-&gt;udp_dst</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">                          &lt;&lt; &quot; udp_csum = &quot; &lt;&lt; ((udp_header*)(buffer-&gt;l4))-&gt;udp_csum</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">                          &lt;&lt; &quot; l4_length = &quot; &lt;&lt;  l4_length</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">                          &lt;&lt; &quot; udp_hd-&gt;src_port = &quot; &lt;&lt; udp_hd-&gt;src_port</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">                          &lt;&lt; &quot; udp_hd-&gt;dst_port = &quot; &lt;&lt; udp_hd-&gt;dst_port</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">                          &lt;&lt; endl;*/</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                ofpbuf_push (buffer, buffer-&gt;l4, l4_length);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                <span class="comment">//ofpbuf_push (buffer, buffer-&gt;l4, 1);</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                <span class="keywordflow">if</span>(l3_hdr-&gt;protocol_no == <a class="code" href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a79c34ff2bf1768c6fc90d613edcd0908">S3FNET_PROTOCOL_TYPE_TCP</a>)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                        <span class="keyword">delete</span> (tcp_header*)buffer-&gt;l4;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(l3_hdr-&gt;protocol_no == <a class="code" href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a6ec04f2b25eb4d460610c7ffaf045f03">S3FNET_PROTOCOL_TYPE_UDP</a>)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                        <span class="keyword">delete</span> (udp_header*)buffer-&gt;l4;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span> (buffer-&gt;l3)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                ofpbuf_push (buffer, buffer-&gt;l3, l3_length);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <span class="keyword">delete</span> (ip_header*)buffer-&gt;l3;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (buffer-&gt;l2)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                ofpbuf_push (buffer, buffer-&gt;l2, l2_length);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keyword">delete</span> (eth_header*)buffer-&gt;l2;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">return</span> buffer;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a2d885d995be52ebf39a06e881ec67919a79c34ff2bf1768c6fc90d613edcd0908"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a79c34ff2bf1768c6fc90d613edcd0908">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_TCP</a></div><div class="ttdoc">The Transport Control Protocol (TCP). </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00123">s3fnet.h:123</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a73374f89b77a98f4df8bcb7d9160094e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a73374f89b77a98f4df8bcb7d9160094e">s3f::s3fnet::OpenFlowSwitchSession::GetMtu</a></div><div class="ttdeci">virtual uint16_t GetMtu(void) const </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00352">openflow_switch_session.cc:352</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a2d885d995be52ebf39a06e881ec67919a6ec04f2b25eb4d460610c7ffaf045f03"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a6ec04f2b25eb4d460610c7ffaf045f03">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_UDP</a></div><div class="ttdoc">The User Datagram Protocol (UDP). </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00126">s3fnet.h:126</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa030de04449f6deaf8c7d7c427ac484b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::AddFlow </td>
          <td>(</td>
          <td class="paramtype">const ofp_flow_mod *&#160;</td>
          <td class="paramname"><em>ofm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a flow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ofm</td><td>The flow data to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01140">1140</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer()</a>, <a class="el" href="openflow__interface_8cc_source.html#l00623">s3f::s3fnet::ExecuteActions()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>, <a class="el" href="entity_8cc_source.html#l00111">Entity::now()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00840">SendErrorMsg()</a>, and <a class="el" href="openflow__interface_8cc_source.html#l00687">s3f::s3fnet::ValidateActions()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01278">ReceiveFlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;{</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="keywordtype">size_t</span> actions_len = ntohs (ofm-&gt;header.length) - <span class="keyword">sizeof</span> *ofm;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">// Allocate memory.</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        sw_flow *flow = flow_alloc (actions_len);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordflow">if</span> (flow == 0)</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                <span class="keywordflow">if</span> (ntohl (ofm-&gt;buffer_id) != (uint32_t) -1)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                        <a class="code" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a> (ntohl (ofm-&gt;buffer_id));</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        flow_extract_match (&amp;flow-&gt;key, &amp;ofm-&gt;match);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        uint16_t v_code = <a class="code" href="namespaces3f_1_1s3fnet.html#a33ca616d53bb83a1e30fb10d039e0c11">ValidateActions</a> (&amp;flow-&gt;key, ofm-&gt;actions, actions_len);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="keywordflow">if</span> (v_code != ACT_VALIDATION_OK)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> (OFPET_BAD_ACTION, v_code, ofm, ntohs (ofm-&gt;header.length));</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                flow_free (flow);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                <span class="keywordflow">if</span> (ntohl (ofm-&gt;buffer_id) != (uint32_t) -1)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                        <a class="code" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a> (ntohl (ofm-&gt;buffer_id));</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="comment">// Fill out flow.</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        flow-&gt;priority = flow-&gt;key.wildcards ? ntohs (ofm-&gt;priority) : -1;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        flow-&gt;idle_timeout = ntohs (ofm-&gt;idle_timeout);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        flow-&gt;hard_timeout = ntohs (ofm-&gt;hard_timeout);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        flow-&gt;used = flow-&gt;created = (time_t)(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">now</a>());</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        flow-&gt;sf_acts-&gt;actions_len = actions_len;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        flow-&gt;byte_count = 0;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        flow-&gt;packet_count = 0;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        memcpy (flow-&gt;sf_acts-&gt;actions, ofm-&gt;actions, actions_len);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="comment">// Act.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordtype">int</span> error = chain_insert (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>, flow);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="keywordflow">if</span> (error)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                <span class="keywordflow">if</span> (error == -ENOBUFS)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> (OFPET_FLOW_MOD_FAILED, OFPFMFC_ALL_TABLES_FULL, ofm, ntohs (ofm-&gt;header.length));</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                flow_free (flow);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                <span class="keywordflow">if</span> (ntohl (ofm-&gt;buffer_id) != (uint32_t) -1)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                        <a class="code" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a> (ntohl (ofm-&gt;buffer_id));</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                <span class="keywordflow">return</span> error;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>(cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Added new flow.&quot;</span> &lt;&lt; endl);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="keywordflow">if</span> (ntohl (ofm-&gt;buffer_id) != std::numeric_limits&lt;uint32_t&gt;::max ())</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                <span class="comment">//pthread_mutex_lock(&amp;(inHost()-&gt;getTopNet()-&gt;of_buf_mutex));</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                ofpbuf *buffer = <a class="code" href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer</a> (ofm-&gt;buffer_id); <span class="comment">// ntohl(ofm-&gt;buffer_id)</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                <span class="comment">//pthread_mutex_unlock(&amp;(inHost()-&gt;getTopNet()-&gt;of_buf_mutex));</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                <span class="keywordflow">if</span> (buffer)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                        sw_flow_key key;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                        flow_used (flow, buffer);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                        flow_extract (buffer, ofm-&gt;match.in_port, &amp;key.flow); <span class="comment">// ntohs(ofm-&gt;match.in_port);</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                        <a class="code" href="namespaces3f_1_1s3fnet.html#aaf1689566f07d475404dc63564fe8ca5">ExecuteActions</a> (<span class="keyword">this</span>, ofm-&gt;buffer_id, buffer, &amp;key, ofm-&gt;actions, actions_len, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                        ofpbuf_delete (buffer);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                        <span class="keywordflow">return</span> -ESRCH;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aaf1689566f07d475404dc63564fe8ca5"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aaf1689566f07d475404dc63564fe8ca5">s3f::s3fnet::ExecuteActions</a></div><div class="ttdeci">void ExecuteActions(OpenFlowSwitchSession *swtch, uint64_t packet_uid, ofpbuf *buffer, sw_flow_key *key, const ofp_action_header *actions, size_t actions_len, int ignore_no_fwd)</div><div class="ttdoc">Executes a list of flow table actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00623">openflow_interface.cc:623</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
<div class="ttc" id="class_entity_html_a303433dc2088519a44e8a56922ec1f0c"><div class="ttname"><a href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">Entity::now</a></div><div class="ttdeci">ltime_t now()</div><div class="ttdoc">Time on Entity&#39;s Timeline, either the time at which the current (or most recent) event on the timelin...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00111">entity.cc:111</a></div></div>
<div class="ttc" id="openflow__interface_8h_html_a00cf5cac22eda1904f90e04aa68094fd"><div class="ttname"><a href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a></div><div class="ttdeci">void discard_buffer(uint32_t id)</div></div>
<div class="ttc" id="openflow__interface_8h_html_a00e216d333db54fcd04cedff5db4cf73"><div class="ttname"><a href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer</a></div><div class="ttdeci">ofpbuf * retrieve_buffer(uint32_t id)</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_adc68fc3ef3260dafaf02f62ea4632787"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">s3f::s3fnet::OpenFlowSwitchSession::SendErrorMsg</a></div><div class="ttdeci">void SendErrorMsg(uint16_t type, uint16_t code, const void *data, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00840">openflow_switch_session.cc:840</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a33ca616d53bb83a1e30fb10d039e0c11"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a33ca616d53bb83a1e30fb10d039e0c11">s3f::s3fnet::ValidateActions</a></div><div class="ttdeci">uint16_t ValidateActions(const sw_flow_key *key, const ofp_action_header *actions, size_t actions_len)</div><div class="ttdoc">Validates a list of flow table actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00687">openflow_interface.cc:687</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a750aaa05e7486b26ba0a3645a9f8dc3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ModFlow </td>
          <td>(</td>
          <td class="paramtype">const ofp_flow_mod *&#160;</td>
          <td class="paramname"><em>ofm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modify a flow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ofm</td><td>The flow data to modify. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01227">1227</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer()</a>, <a class="el" href="openflow__interface_8cc_source.html#l00623">s3f::s3fnet::ExecuteActions()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00840">SendErrorMsg()</a>, and <a class="el" href="openflow__interface_8cc_source.html#l00687">s3f::s3fnet::ValidateActions()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01278">ReceiveFlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;{</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        sw_flow_key key;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        flow_extract_match (&amp;key, &amp;ofm-&gt;match);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordtype">size_t</span> actions_len = ntohs (ofm-&gt;header.length) - <span class="keyword">sizeof</span> *ofm;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        uint16_t v_code = <a class="code" href="namespaces3f_1_1s3fnet.html#a33ca616d53bb83a1e30fb10d039e0c11">ValidateActions</a> (&amp;key, ofm-&gt;actions, actions_len);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Modify a flow.&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="keywordflow">if</span> (v_code != ACT_VALIDATION_OK)</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> ((ofp_error_type)OFPET_BAD_ACTION, v_code, ofm, ntohs (ofm-&gt;header.length));</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                <span class="keywordflow">if</span> (ntohl (ofm-&gt;buffer_id) != (uint32_t) -1)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                        <a class="code" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a> (ntohl (ofm-&gt;buffer_id));</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        uint16_t priority = key.wildcards ? ntohs (ofm-&gt;priority) : -1;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="keywordtype">int</span> strict = (ofm-&gt;command == htons (OFPFC_MODIFY_STRICT)) ? 1 : 0;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        chain_modify (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>, &amp;key, priority, strict, ofm-&gt;actions, actions_len);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keywordflow">if</span> (ntohl (ofm-&gt;buffer_id) != std::numeric_limits&lt;uint32_t&gt;::max ())</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                <span class="comment">//pthread_mutex_lock(&amp;(inHost()-&gt;getTopNet()-&gt;of_buf_mutex));</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                ofpbuf *buffer = <a class="code" href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer</a> (ofm-&gt;buffer_id); <span class="comment">// ntohl (ofm-&gt;buffer_id)</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                <span class="comment">//pthread_mutex_unlock(&amp;(inHost()-&gt;getTopNet()-&gt;of_buf_mutex));</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                <span class="keywordflow">if</span> (buffer)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                        sw_flow_key skb_key;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                        flow_extract (buffer, ofm-&gt;match.in_port, &amp;skb_key.flow); <span class="comment">// ntohs(ofm-&gt;match.in_port);</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                        <a class="code" href="namespaces3f_1_1s3fnet.html#aaf1689566f07d475404dc63564fe8ca5">ExecuteActions</a> (<span class="keyword">this</span>, ofm-&gt;buffer_id, buffer, &amp;skb_key, ofm-&gt;actions, actions_len, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                        ofpbuf_delete (buffer);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                        <span class="keywordflow">return</span> -ESRCH;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aaf1689566f07d475404dc63564fe8ca5"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aaf1689566f07d475404dc63564fe8ca5">s3f::s3fnet::ExecuteActions</a></div><div class="ttdeci">void ExecuteActions(OpenFlowSwitchSession *swtch, uint64_t packet_uid, ofpbuf *buffer, sw_flow_key *key, const ofp_action_header *actions, size_t actions_len, int ignore_no_fwd)</div><div class="ttdoc">Executes a list of flow table actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00623">openflow_interface.cc:623</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
<div class="ttc" id="openflow__interface_8h_html_a00cf5cac22eda1904f90e04aa68094fd"><div class="ttname"><a href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a></div><div class="ttdeci">void discard_buffer(uint32_t id)</div></div>
<div class="ttc" id="openflow__interface_8h_html_a00e216d333db54fcd04cedff5db4cf73"><div class="ttname"><a href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer</a></div><div class="ttdeci">ofpbuf * retrieve_buffer(uint32_t id)</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_adc68fc3ef3260dafaf02f62ea4632787"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">s3f::s3fnet::OpenFlowSwitchSession::SendErrorMsg</a></div><div class="ttdeci">void SendErrorMsg(uint16_t type, uint16_t code, const void *data, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00840">openflow_switch_session.cc:840</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a33ca616d53bb83a1e30fb10d039e0c11"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a33ca616d53bb83a1e30fb10d039e0c11">s3f::s3fnet::ValidateActions</a></div><div class="ttdeci">uint16_t ValidateActions(const sw_flow_key *key, const ofp_action_header *actions, size_t actions_len)</div><div class="ttdoc">Validates a list of flow table actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00687">openflow_interface.cc:687</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a303086393f4aff5f4ecbd86611403381"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::OutputAll </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packet_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flood</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send packets out all the ports except the originating one</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_uid</td><td>Packet UID; used to fetch the packet and its metadata. </td></tr>
    <tr><td class="paramname">in_port</td><td>The index of the port the Packet was initially received on. This port doesn't forward when flooding. </td></tr>
    <tr><td class="paramname">flood</td><td>If true, don't send out on the ports with flooding disabled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00574">574</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00096">config()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>.</p>
<div class="fragment"><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;{</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>( printf(<span class="stringliteral">&quot;Flooding over ports.\n&quot;</span>) );</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordtype">int</span> prev_port = -1;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.size (); i++)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].netdev-&gt;id == (<span class="keywordtype">unsigned</span>)in_port) <span class="comment">// Originating port</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].netdev-&gt;is_of_ctrl_iface == <span class="keyword">true</span>) <span class="comment">//do not send to the port connecting to an active controller</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">if</span> (flood &amp;&amp; <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad07916ad622da7dbe1eba9005e8e2c35">config</a> &amp; OFPPC_NO_FLOOD) <span class="comment">// Port configured to not allow flooding</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                <span class="keywordflow">if</span> (prev_port != -1)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a74c8a2b5a47f37eb163acf4bacb5dd32">OutputPort</a> (packet_uid, in_port, prev_port, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                prev_port = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i].netdev-&gt;id;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">if</span> (prev_port != -1)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a74c8a2b5a47f37eb163acf4bacb5dd32">OutputPort</a> (packet_uid, in_port, prev_port, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ad07916ad622da7dbe1eba9005e8e2c35"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad07916ad622da7dbe1eba9005e8e2c35">s3f::s3fnet::OpenFlowSwitchSession::config</a></div><div class="ttdeci">virtual void config(s3f::dml::Configuration *cfg)</div><div class="ttdoc">called to configure this protocol session </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00096">openflow_switch_session.cc:96</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a74c8a2b5a47f37eb163acf4bacb5dd32"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a74c8a2b5a47f37eb163acf4bacb5dd32">s3f::s3fnet::OpenFlowSwitchSession::OutputPort</a></div><div class="ttdeci">void OutputPort(uint32_t packet_uid, int in_port, int out_port, bool ignore_no_fwd)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00636">openflow_switch_session.cc:636</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7c110dfe14236a28a4801182469abd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::OutputPacket </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packet_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sends a copy of the Packet over the provided output port</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_uid</td><td>Packet UID; used to fetch the packet and its metadata. </td></tr>
    <tr><td class="paramname">out_port</td><td>the port that the switch will forward/send a packet out. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00610">610</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h_source.html#l00321">s3f::s3fnet::SwitchPacketMetadata::buffer</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_message.html#a6c50a47fef31cb4e9899ca5e54a92023">s3f::s3fnet::ProtocolMessage::clone()</a>, <a class="el" href="openflow__interface_8h_source.html#l00122">s3f::s3fnet::Port::config</a>, <a class="el" href="network__interface_8h_source.html#l00081">s3f::s3fnet::NetworkInterface::getHighestProtocolSession()</a>, <a class="el" href="network__interface_8h_source.html#l00084">s3f::s3fnet::NetworkInterface::getLowestProtocolSession()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00467">m_packetData</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, <a class="el" href="openflow__interface_8h_source.html#l00124">s3f::s3fnet::Port::netdev</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__interface_8h_source.html#l00320">s3f::s3fnet::SwitchPacketMetadata::packet</a>, <a class="el" href="protocol__session_8cc_source.html#l00072">s3f::s3fnet::ProtocolSession::pushdown()</a>, <a class="el" href="openflow__interface_8h_source.html#l00126">s3f::s3fnet::Port::tx_bytes</a>, and <a class="el" href="openflow__interface_8h_source.html#l00125">s3f::s3fnet::Port::tx_packets</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>.</p>
<div class="fragment"><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;{</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (out_port &gt;= 0 &amp;&amp; out_port &lt; DP_MAX_PORTS)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                Port&amp; p = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[out_port];</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">if</span> (p.netdev != 0 &amp;&amp; !(p.config &amp; OFPPC_PORT_DOWN))</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        SwitchPacketMetadata data = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a>.find (packet_uid)-&gt;second;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                        <span class="keywordtype">size_t</span> bufsize = data.buffer-&gt;size;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Sending packet over port &quot;</span> &lt;&lt; out_port &lt;&lt; endl);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                        <span class="comment">//kevin: use clone first since flooding, suspect FlowTableLookup::m_packetData.erase (packet_uid) will not delete the packet. thus copy will cause memory leak</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                        <a class="code" href="class_message.html">Activation</a> pkt(data.packet-&gt;clone());</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                        <span class="comment">//send directly to the outgoing network interface (simplyPHY.push)</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        p.netdev-&gt;getLowestProtocolSession()-&gt;pushdown(pkt, p.netdev-&gt;getHighestProtocolSession());</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                        p.tx_packets++;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                        p.tx_bytes += bufsize;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                        <span class="comment">//p.tx_dropped++; //currently ignore drop status</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;] Can&#39;t forward to bad port &quot;</span> &lt;&lt; out_port &lt;&lt; endl);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4b5918bd37cb03afe76888e14918af8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">s3f::s3fnet::OpenFlowSwitchSession::m_packetData</a></div><div class="ttdeci">PacketData_t m_packetData</div><div class="ttdoc">Packet data. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00467">openflow_switch_session.h:467</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="class_message_html"><div class="ttname"><a href="class_message.html">Message</a></div><div class="ttdoc">Messages passed between connected OutChannels and InChannels. </div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00017">message.h:17</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74c8a2b5a47f37eb163acf4bacb5dd32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::OutputPort </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packet_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_no_fwd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Seeks to send out a Packet over the provided output port. This is called generically when we may or may not know the specific port we're outputting on. There are many pre-set types of port options besides a <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> that's hooked to our <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html" title="An OpenFlow switch that switches multiple LAN segments via an OpenFlow-compatible flow table...">OpenFlowSwitchSession</a>. For example, it could be outputting as a flood, or seeking to output to the controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_uid</td><td>Packet UID; used to fetch the packet and its metadata. </td></tr>
    <tr><td class="paramname">in_port</td><td>The index of the port the Packet was initially received on. </td></tr>
    <tr><td class="paramname">out_port</td><td>The port we want to output on. </td></tr>
    <tr><td class="paramname">ignore_no_fwd</td><td>If true, Ports that are set to not forward are forced to forward. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00636">636</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00574">OutputAll()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">OutputPacket()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00893">RunThroughFlowTable()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00942">RunThroughVPortTable()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00363">DoOutput()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00574">OutputAll()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00942">RunThroughVPortTable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;{</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">if</span> (out_port == OFPP_FLOOD)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a303086393f4aff5f4ecbd86611403381">OutputAll</a> (packet_uid, in_port, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_port == OFPP_ALL)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a303086393f4aff5f4ecbd86611403381">OutputAll</a> (packet_uid, in_port, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_port == OFPP_CONTROLLER)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a173c67659d64dc03aa2955673e2d2919">OutputControl</a> (packet_uid, in_port, 0, OFPR_ACTION);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_port == OFPP_IN_PORT)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad7c110dfe14236a28a4801182469abd1">OutputPacket</a> (packet_uid, in_port);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_port == OFPP_TABLE)</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a792a2edb8f6fdcfccde9b924d453bff9">RunThroughFlowTable</a> (packet_uid, in_port &lt; DP_MAX_PORTS ? in_port : -1, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_port &gt;= OFPP_VP_START &amp;&amp; out_port &lt;= OFPP_VP_END)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="comment">// port is a virtual port</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], packet sent to virtual port &quot;</span> &lt;&lt; out_port &lt;&lt; endl );</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                <span class="keywordflow">if</span> (in_port &lt; DP_MAX_PORTS)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af72dbe1e7e1240126303af83ca9a72ac">RunThroughVPortTable</a> (packet_uid, in_port, out_port);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af72dbe1e7e1240126303af83ca9a72ac">RunThroughVPortTable</a> (packet_uid, -1, out_port);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (in_port == out_port)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], can&#39;t directly forward to input port&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad7c110dfe14236a28a4801182469abd1">OutputPacket</a> (packet_uid, out_port);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a173c67659d64dc03aa2955673e2d2919"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a173c67659d64dc03aa2955673e2d2919">s3f::s3fnet::OpenFlowSwitchSession::OutputControl</a></div><div class="ttdeci">void OutputControl(uint32_t packet_uid, int in_port, size_t max_len, int reason)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00706">openflow_switch_session.cc:706</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af72dbe1e7e1240126303af83ca9a72ac"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af72dbe1e7e1240126303af83ca9a72ac">s3f::s3fnet::OpenFlowSwitchSession::RunThroughVPortTable</a></div><div class="ttdeci">int RunThroughVPortTable(uint32_t packet_uid, int port, uint32_t vport)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00942">openflow_switch_session.cc:942</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a303086393f4aff5f4ecbd86611403381"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a303086393f4aff5f4ecbd86611403381">s3f::s3fnet::OpenFlowSwitchSession::OutputAll</a></div><div class="ttdeci">int OutputAll(uint32_t packet_uid, int in_port, bool flood)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00574">openflow_switch_session.cc:574</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a792a2edb8f6fdcfccde9b924d453bff9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a792a2edb8f6fdcfccde9b924d453bff9">s3f::s3fnet::OpenFlowSwitchSession::RunThroughFlowTable</a></div><div class="ttdeci">void RunThroughFlowTable(uint32_t packet_uid, int port, bool send_to_controller=true)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00893">openflow_switch_session.cc:893</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ad7c110dfe14236a28a4801182469abd1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad7c110dfe14236a28a4801182469abd1">s3f::s3fnet::OpenFlowSwitchSession::OutputPacket</a></div><div class="ttdeci">void OutputPacket(uint32_t packet_uid, int out_port)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00610">openflow_switch_session.cc:610</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a173c67659d64dc03aa2955673e2d2919"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::OutputControl </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packet_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sends a copy of the Packet to the controller. If the packet can be saved in an OpenFlow buffer, then only the first 'max_len' bytes of the packet are sent; otherwise, all of the packet is sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_uid</td><td>Packet UID; used to fetch the packet and its metadata. </td></tr>
    <tr><td class="paramname">in_port</td><td>The index of the port the Packet was initially received on. </td></tr>
    <tr><td class="paramname">max_len</td><td>The maximum number of bytes that the caller wants to be sent; a value of 0 indicates the entire packet should be sent. </td></tr>
    <tr><td class="paramname">reason</td><td>Why the packet is being sent. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00706">706</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="network__interface_8h_source.html#l00081">s3f::s3fnet::NetworkInterface::getHighestProtocolSession()</a>, <a class="el" href="network__interface_8h_source.html#l00084">s3f::s3fnet::NetworkInterface::getLowestProtocolSession()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00206">is_ctrl_sess</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00467">m_packetData</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00205">ofctrl_port</a>, <a class="el" href="protocol__session_8cc_source.html#l00072">s3f::s3fnet::ProtocolSession::pushdown()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00363">DoOutput()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00850">FlowTableLookup()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>.</p>
<div class="fragment"><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;{</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Sending packet to controller&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        ofpbuf* buffer = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a>.find (packet_uid)-&gt;second.buffer;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordtype">size_t</span> total_len = buffer-&gt;size;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">if</span> (packet_uid != std::numeric_limits&lt;uint32_t&gt;::max () &amp;&amp; max_len != 0 &amp;&amp; buffer-&gt;size &gt; max_len)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                buffer-&gt;size = max_len;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        ofp_packet_in *opi = (ofp_packet_in*)ofpbuf_push_uninit (buffer, offsetof (ofp_packet_in, data));</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        opi-&gt;header.version = OFP_VERSION;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        opi-&gt;header.type    = OFPT_PACKET_IN;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        opi-&gt;header.length  = htons (buffer-&gt;size);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        opi-&gt;header.xid     = htonl (0);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        opi-&gt;buffer_id      = htonl (packet_uid);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        opi-&gt;total_len      = htons (total_len);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        opi-&gt;in_port        = htons (in_port);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        opi-&gt;reason         = reason;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        opi-&gt;pad            = 0;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> == <span class="keyword">false</span>) <span class="comment">//non-protocol-session controller</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (buffer);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">else</span> <span class="comment">//non-protocol-session controller</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                update_openflow_length (buffer);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                OpenFlowMessage* msg = <span class="keyword">new</span> OpenFlowMessage(buffer, packet_uid, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                <a class="code" href="class_message.html">Activation</a> pkt(msg);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="comment">//send directly to the outgoing network interface connected with controller (simplyPHY.push)</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ce27a50c5f4c3c1d0ba66d58f514e2c">ofctrl_port</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_network_interface.html#ab9266d8fcc48a8f2a7fe0fd3755b9db7">getLowestProtocolSession</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7">pushdown</a>(pkt, <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ce27a50c5f4c3c1d0ba66d58f514e2c">ofctrl_port</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_network_interface.html#a352a01093b27907ee8f1ca41e1c664aa">getHighestProtocolSession</a>());</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a1a9fa5693373188218eba85c782583e7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7">s3f::s3fnet::ProtocolSession::pushdown</a></div><div class="ttdeci">int pushdown(Activation msg, ProtocolSession *hi_sess, void *extinfo=0, size_t extinfo_size=0)</div><div class="ttdoc">The original push method is divided into pushdown() and push(). </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00072">protocol_session.cc:72</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_network_interface_html_a352a01093b27907ee8f1ca41e1c664aa"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_network_interface.html#a352a01093b27907ee8f1ca41e1c664aa">s3f::s3fnet::NetworkInterface::getHighestProtocolSession</a></div><div class="ttdeci">ProtocolSession * getHighestProtocolSession()</div><div class="ttdoc">Return the highest protocol session in the interface, i.e., the MAC session. </div><div class="ttdef"><b>Definition:</b> <a href="network__interface_8h_source.html#l00081">network_interface.h:81</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a8ce27a50c5f4c3c1d0ba66d58f514e2c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a8ce27a50c5f4c3c1d0ba66d58f514e2c">s3f::s3fnet::OpenFlowSwitchSession::ofctrl_port</a></div><div class="ttdeci">NetworkInterface * ofctrl_port</div><div class="ttdoc">the NetworkInterface of the OpenFlow controller </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00205">openflow_switch_session.h:205</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af361d2abf6de39eec236783931ab3ffb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</a></div><div class="ttdeci">bool is_ctrl_sess</div><div class="ttdoc">whether it connects to an entity-based controller instead of non-entity controller ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00206">openflow_switch_session.h:206</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4b5918bd37cb03afe76888e14918af8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">s3f::s3fnet::OpenFlowSwitchSession::m_packetData</a></div><div class="ttdeci">PacketData_t m_packetData</div><div class="ttdoc">Packet data. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00467">openflow_switch_session.h:467</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="class_message_html"><div class="ttname"><a href="class_message.html">Message</a></div><div class="ttdoc">Messages passed between connected OutChannels and InChannels. </div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00017">message.h:17</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_network_interface_html_ab9266d8fcc48a8f2a7fe0fd3755b9db7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_network_interface.html#ab9266d8fcc48a8f2a7fe0fd3755b9db7">s3f::s3fnet::NetworkInterface::getLowestProtocolSession</a></div><div class="ttdeci">ProtocolSession * getLowestProtocolSession()</div><div class="ttdoc">Return the lowest protocol session in the interface, i.e., the physical layer session. </div><div class="ttdef"><b>Definition:</b> <a href="network__interface_8h_source.html#l00084">network_interface.h:84</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adc68fc3ef3260dafaf02f62ea4632787"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::SendErrorMsg </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If an error message happened during the controller's request, send it to the controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of error. </td></tr>
    <tr><td class="paramname">code</td><td>The error code. </td></tr>
    <tr><td class="paramname">data</td><td>The faulty data that lead to the error. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the faulty data. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00840">840</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00681">MakeOpenflowReply()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01140">AddFlow()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00376">AddVPort()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01227">ModFlow()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01028">ReceivePacketOut()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l01120">ReceiveVPortMod()</a>.</p>
<div class="fragment"><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;{</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        ofpbuf *buffer;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        ofp_error_msg *oem = (ofp_error_msg*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">MakeOpenflowReply</a> (<span class="keyword">sizeof</span>(*oem) + len, OFPT_ERROR, &amp;buffer);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        oem-&gt;type = htons (type);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        oem-&gt;code = htons (code);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        memcpy (oem-&gt;data, data, len);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (buffer);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab6f392683db1ffc2adfbb7b9e4b15612"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">s3f::s3fnet::OpenFlowSwitchSession::MakeOpenflowReply</a></div><div class="ttdeci">void * MakeOpenflowReply(size_t openflow_len, uint8_t type, ofpbuf **bufferp)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00681">openflow_switch_session.cc:681</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5196213f07ae2cdc49663ca2d7bd14d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::SendFeaturesReply </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send a reply about this OpenFlow switch's features to the controller.</p>
<p>List of capabilities and actions to support are found in the specification &lt;www.openflowswitch.org/documents/openflow-spec-v0.8.9.pdf&gt;.</p>
<p>Supported capabilities and actions are defined in the openflow interface. To recap, flow status, flow table status, port status, virtual port table status can all be requested. It can also transmit over multiple physical interfaces.</p>
<p>It supports every action: outputting over a port, and all of the flow table manipulation actions: setting the 802.1q VLAN ID, the 802.1q priority, stripping the 802.1 header, setting the Ethernet source address and destination, setting the IP source address and destination, setting the TCP/UDP source address and destination, and setting the MPLS label and EXP bits.</p>
<dl class="section attention"><dt>Attention</dt><dd>Capabilities STP (Spanning Tree Protocol) and IP packet reassembly are not currently supported. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00764">764</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00745">FillPortDesc()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00474">m_id</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00681">MakeOpenflowReply()</a>, <a class="el" href="openflow__interface_8h_source.html#l00400">N_PKT_BUFFERS</a>, <a class="el" href="openflow__interface_8h_source.html#l00066">OFP_SUPPORTED_ACTIONS</a>, <a class="el" href="openflow__interface_8h_source.html#l00059">OFP_SUPPORTED_CAPABILITIES</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00991">ReceiveFeaturesRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;{</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        ofpbuf *buffer;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        ofp_switch_features *ofr = (ofp_switch_features*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">MakeOpenflowReply</a> (<span class="keyword">sizeof</span> *ofr, OFPT_FEATURES_REPLY, &amp;buffer);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        ofr-&gt;datapath_id  = htonll (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a84817dc3e1470e2a78bedb03122afb4d">m_id</a>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        ofr-&gt;n_tables     = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>-&gt;n_tables;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        ofr-&gt;n_buffers    = htonl (<a class="code" href="openflow__interface_8h.html#a7f4110b307713f2dc263ca5cd99c52e2">N_PKT_BUFFERS</a>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        ofr-&gt;capabilities = htonl (<a class="code" href="openflow__interface_8h.html#a0752d182ccd1a1b4c01c5dc0e2149f1d">OFP_SUPPORTED_CAPABILITIES</a>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        ofr-&gt;actions      = htonl (<a class="code" href="openflow__interface_8h.html#ac2ef921103b49a54683f80f9e86de30c">OFP_SUPPORTED_ACTIONS</a>);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>.size (); i++)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                ofp_phy_port* opp = (ofp_phy_port*)ofpbuf_put_zeros (buffer, <span class="keyword">sizeof</span> *opp);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4e08994be13ee091d8f244abd56a957">FillPortDesc</a> (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[i], opp);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (buffer);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4e08994be13ee091d8f244abd56a957"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4e08994be13ee091d8f244abd56a957">s3f::s3fnet::OpenFlowSwitchSession::FillPortDesc</a></div><div class="ttdeci">void FillPortDesc(Port p, ofp_phy_port *desc)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00745">openflow_switch_session.cc:745</a></div></div>
<div class="ttc" id="openflow__interface_8h_html_a7f4110b307713f2dc263ca5cd99c52e2"><div class="ttname"><a href="openflow__interface_8h.html#a7f4110b307713f2dc263ca5cd99c52e2">N_PKT_BUFFERS</a></div><div class="ttdeci">#define N_PKT_BUFFERS</div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8h_source.html#l00400">openflow_interface.h:400</a></div></div>
<div class="ttc" id="openflow__interface_8h_html_a0752d182ccd1a1b4c01c5dc0e2149f1d"><div class="ttname"><a href="openflow__interface_8h.html#a0752d182ccd1a1b4c01c5dc0e2149f1d">OFP_SUPPORTED_CAPABILITIES</a></div><div class="ttdeci">#define OFP_SUPPORTED_CAPABILITIES</div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8h_source.html#l00059">openflow_interface.h:59</a></div></div>
<div class="ttc" id="openflow__interface_8h_html_ac2ef921103b49a54683f80f9e86de30c"><div class="ttname"><a href="openflow__interface_8h.html#ac2ef921103b49a54683f80f9e86de30c">OFP_SUPPORTED_ACTIONS</a></div><div class="ttdeci">#define OFP_SUPPORTED_ACTIONS</div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8h_source.html#l00066">openflow_interface.h:66</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab6f392683db1ffc2adfbb7b9e4b15612"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">s3f::s3fnet::OpenFlowSwitchSession::MakeOpenflowReply</a></div><div class="ttdeci">void * MakeOpenflowReply(size_t openflow_len, uint8_t type, ofpbuf **bufferp)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00681">openflow_switch_session.cc:681</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a84817dc3e1470e2a78bedb03122afb4d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a84817dc3e1470e2a78bedb03122afb4d">s3f::s3fnet::OpenFlowSwitchSession::m_id</a></div><div class="ttdeci">uint64_t m_id</div><div class="ttdoc">Unique identifier for this switch, needed for OpenFlow. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00474">openflow_switch_session.h:474</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34560d4d6e0b69726f6b7957e0e39664"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::SendFlowExpired </td>
          <td>(</td>
          <td class="paramtype">sw_flow *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum ofp_flow_expired_reason&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send a reply to the controller that a specific flow has expired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flow</td><td>The flow that expired. </td></tr>
    <tr><td class="paramname">reason</td><td>The reason for sending this expiration notification. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00823">823</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00681">MakeOpenflowReply()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;{</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        ofpbuf *buffer;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        ofp_flow_expired *ofe = (ofp_flow_expired*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">MakeOpenflowReply</a> (<span class="keyword">sizeof</span> *ofe, OFPT_FLOW_EXPIRED, &amp;buffer);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        flow_fill_match (&amp;ofe-&gt;match, &amp;flow-&gt;key);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        ofe-&gt;priority = htons (flow-&gt;priority);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        ofe-&gt;reason = reason;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        memset (ofe-&gt;pad, 0, <span class="keyword">sizeof</span> ofe-&gt;pad);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        ofe-&gt;duration     = htonl (<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;now() - flow-&gt;created);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        memset (ofe-&gt;pad2, 0, <span class="keyword">sizeof</span> ofe-&gt;pad2);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        ofe-&gt;packet_count = htonll (flow-&gt;packet_count);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        ofe-&gt;byte_count   = htonll (flow-&gt;byte_count);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (buffer);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab6f392683db1ffc2adfbb7b9e4b15612"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">s3f::s3fnet::OpenFlowSwitchSession::MakeOpenflowReply</a></div><div class="ttdeci">void * MakeOpenflowReply(size_t openflow_len, uint8_t type, ofpbuf **bufferp)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00681">openflow_switch_session.cc:681</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2483dcc83401cb4eb69df3ec0ca2ebcc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::SendPortStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send a reply about a <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a>'s status to the controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The port to get status from. </td></tr>
    <tr><td class="paramname">status</td><td>The reason for sending this reply. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00808">808</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00745">FillPortDesc()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00681">MakeOpenflowReply()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00321">AddSwitchPort()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;{</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        ofpbuf *buffer;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        ofp_port_status *ops = (ofp_port_status*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">MakeOpenflowReply</a> (<span class="keyword">sizeof</span> *ops, OFPT_PORT_STATUS, &amp;buffer);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        ops-&gt;reason = status;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        memset (ops-&gt;pad, 0, <span class="keyword">sizeof</span> ops-&gt;pad);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4e08994be13ee091d8f244abd56a957">FillPortDesc</a> (p, &amp;ops-&gt;desc);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (buffer);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        ofpbuf_delete (buffer);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4e08994be13ee091d8f244abd56a957"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4e08994be13ee091d8f244abd56a957">s3f::s3fnet::OpenFlowSwitchSession::FillPortDesc</a></div><div class="ttdeci">void FillPortDesc(Port p, ofp_phy_port *desc)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00745">openflow_switch_session.cc:745</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab6f392683db1ffc2adfbb7b9e4b15612"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">s3f::s3fnet::OpenFlowSwitchSession::MakeOpenflowReply</a></div><div class="ttdeci">void * MakeOpenflowReply(size_t openflow_len, uint8_t type, ofpbuf **bufferp)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00681">openflow_switch_session.cc:681</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a44609628c8662639365806866b3563cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::SendVPortTableFeatures </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send a reply about this OpenFlow switch's virtual port table features to the controller. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00783">783</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00482">m_vportTable</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00681">MakeOpenflowReply()</a>, <a class="el" href="openflow__interface_8h_source.html#l00079">OFP_SUPPORTED_VPORT_TABLE_ACTIONS</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00997">ReceiveVPortTableFeaturesRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        ofpbuf *buffer;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        ofp_vport_table_features *ovtfr = (ofp_vport_table_features*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">MakeOpenflowReply</a> (<span class="keyword">sizeof</span> *ovtfr, OFPT_VPORT_TABLE_FEATURES_REPLY, &amp;buffer);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        ovtfr-&gt;actions = htonl (<a class="code" href="openflow__interface_8h.html#ab9bb642585ce807c268b3c8b492f12ba">OFP_SUPPORTED_VPORT_TABLE_ACTIONS</a>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        ovtfr-&gt;max_vports = htonl (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>.max_vports);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        ovtfr-&gt;max_chain_depth = htons (-1); <span class="comment">// support a chain depth of 2^16</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        ovtfr-&gt;mixed_chaining = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (buffer);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
<div class="ttc" id="openflow__interface_8h_html_ab9bb642585ce807c268b3c8b492f12ba"><div class="ttname"><a href="openflow__interface_8h.html#ab9bb642585ce807c268b3c8b492f12ba">OFP_SUPPORTED_VPORT_TABLE_ACTIONS</a></div><div class="ttdeci">#define OFP_SUPPORTED_VPORT_TABLE_ACTIONS</div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8h_source.html#l00079">openflow_interface.h:79</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a005cd632cc511a17a25ec2d82b448e8c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">s3f::s3fnet::OpenFlowSwitchSession::m_vportTable</a></div><div class="ttdeci">vport_table_t m_vportTable</div><div class="ttdoc">Virtual Port Table. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00482">openflow_switch_session.h:482</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab6f392683db1ffc2adfbb7b9e4b15612"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">s3f::s3fnet::OpenFlowSwitchSession::MakeOpenflowReply</a></div><div class="ttdeci">void * MakeOpenflowReply(size_t openflow_len, uint8_t type, ofpbuf **bufferp)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00681">openflow_switch_session.cc:681</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75fdf7e8c2068447da42454fd033bb81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer </td>
          <td>(</td>
          <td class="paramtype">ofpbuf *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send a message to the controller. This method is the key to communicating with the controller, it does the actual sending. The other Send methods call this one when they are ready to send a message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer of the message to send out. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00686">686</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00209">ctrl_sess</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00206">is_ctrl_sess</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00472">np_controller</a>, <a class="el" href="openflow__controller_8h_source.html#l00050">s3f::s3fnet::Controller::ReceiveFromSwitch()</a>, and <a class="el" href="openflow__controller__session_8h_source.html#l00069">s3f::s3fnet::OpenFlowControllerSession::ReceiveFromSwitch()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01405">ReceiveEchoRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01003">ReceiveGetConfigRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00840">SendErrorMsg()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00764">SendFeaturesReply()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00823">SendFlowExpired()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00808">SendPortStatus()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00783">SendVPortTableFeatures()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l01311">StatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;{</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        update_openflow_length (buffer);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> == <span class="keyword">false</span>) <span class="comment">//non-protocol-session controller</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a> != 0) <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_controller.html#ada1c4662fe285ab22f69106455c6df66">ReceiveFromSwitch</a> (<span class="keyword">this</span>, buffer);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">else</span> <span class="comment">// protocol session controller</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a> != 0)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html#aec41edd8d27e84ab73833f50e71e53e4">ReceiveFromSwitch</a>(<span class="keyword">this</span>, buffer);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_acea008b911d95513dfd3b348226b7942"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">s3f::s3fnet::OpenFlowSwitchSession::ctrl_sess</a></div><div class="ttdeci">OpenFlowControllerSession * ctrl_sess</div><div class="ttdoc">pointer of the controller protocol session </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00209">openflow_switch_session.h:209</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af361d2abf6de39eec236783931ab3ffb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</a></div><div class="ttdeci">bool is_ctrl_sess</div><div class="ttdoc">whether it connects to an entity-based controller instead of non-entity controller ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00206">openflow_switch_session.h:206</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_controller_session_html_aec41edd8d27e84ab73833f50e71e53e4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html#aec41edd8d27e84ab73833f50e71e53e4">s3f::s3fnet::OpenFlowControllerSession::ReceiveFromSwitch</a></div><div class="ttdeci">virtual void ReceiveFromSwitch(OpenFlowSwitchSession *swtch, ofpbuf *buffer)</div><div class="ttdoc">A switch calls this method to pass a message on to the Controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__controller__session_8h_source.html#l00069">openflow_controller_session.h:69</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_controller_html_ada1c4662fe285ab22f69106455c6df66"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_controller.html#ada1c4662fe285ab22f69106455c6df66">s3f::s3fnet::Controller::ReceiveFromSwitch</a></div><div class="ttdeci">virtual void ReceiveFromSwitch(OpenFlowSwitchSession *swtch, ofpbuf *buffer)</div><div class="ttdoc">A switch calls this method to pass a message on to the Controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__controller_8h_source.html#l00050">openflow_controller.h:50</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a28edeb169b10405f1ef9f092f5c8bfa5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">s3f::s3fnet::OpenFlowSwitchSession::np_controller</a></div><div class="ttdeci">Controller * np_controller</div><div class="ttdoc">Connection to the non-entity controller; controller is not implemented as a protocol session...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00472">openflow_switch_session.h:472</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a792a2edb8f6fdcfccde9b924d453bff9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::RunThroughFlowTable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packet_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>send_to_controller</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Run the packet through the flow table. Looks up in the flow table for a match. If it doesn't match, it forwards the packet to the registered controller, if the flag is set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_uid</td><td>Packet UID; used to fetch the packet and its metadata. </td></tr>
    <tr><td class="paramname">port</td><td>The port this packet was received over. </td></tr>
    <tr><td class="paramname">send_to_controller</td><td>If set, sends to the controller if the packet isn't matched. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00893">893</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h_source.html#l00321">s3f::s3fnet::SwitchPacketMetadata::buffer</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00096">config()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00850">FlowTableLookup()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00478">m_flags</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00467">m_packetData</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        SwitchPacketMetadata data = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a>.find (packet_uid)-&gt;second;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        ofpbuf* buffer = data.buffer;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        sw_flow_key key;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        key.wildcards = 0; <span class="comment">// Lookup cannot take wildcards.</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="comment">// Extract the matching key&#39;s flow data from the packet&#39;s headers; if the policy is to drop fragments and the message is a fragment, drop it.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">if</span> (flow_extract (buffer, port != -1 ? port : OFPP_NONE, &amp;key.flow) &amp;&amp; (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">m_flags</a> &amp; OFPC_FRAG_MASK) == OFPC_FRAG_DROP)</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                ofpbuf_delete (buffer);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="comment">// drop MPLS packets with TTL 1</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">if</span> (buffer-&gt;l2_5)</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                mpls_header mpls_h;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                mpls_h.value = ntohl (*((uint32_t*)buffer-&gt;l2_5));</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                <span class="keywordflow">if</span> (mpls_h.ttl == 1)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                        <span class="comment">// increment mpls drop counter</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                        <span class="keywordflow">if</span> (port != -1)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                        {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[port].mpls_ttl0_dropped++;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                        }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="comment">// If we received the packet on a port, and opted not to receive any messages from it...</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">if</span> (port != -1)</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                uint32_t <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad07916ad622da7dbe1eba9005e8e2c35">config</a> = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[port].config;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <span class="keywordflow">if</span> ( ( config &amp; (OFPPC_NO_RECV | OFPPC_NO_RECV_STP))</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                                &amp;&amp; (config &amp; (!eth_addr_equals (key.flow.dl_dst, stp_eth_addr) ? OFPPC_NO_RECV : OFPPC_NO_RECV_STP)) )</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Matching against the flow table.&quot;</span> &lt;&lt; endl );</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="comment">//todo: directly call FlowTableLookup first, once we have the timing model for switch &lt;-&gt; controller, then we may change here</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#abf74daca2817edd61df41b8f504ca089">FlowTableLookup</a> (key, buffer, packet_uid, port, send_to_controller);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ad07916ad622da7dbe1eba9005e8e2c35"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ad07916ad622da7dbe1eba9005e8e2c35">s3f::s3fnet::OpenFlowSwitchSession::config</a></div><div class="ttdeci">virtual void config(s3f::dml::Configuration *cfg)</div><div class="ttdoc">called to configure this protocol session </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00096">openflow_switch_session.cc:96</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_abf74daca2817edd61df41b8f504ca089"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#abf74daca2817edd61df41b8f504ca089">s3f::s3fnet::OpenFlowSwitchSession::FlowTableLookup</a></div><div class="ttdeci">void FlowTableLookup(sw_flow_key key, ofpbuf *buffer, uint32_t packet_uid, int port, bool send_to_controller)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00850">openflow_switch_session.cc:850</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4b5918bd37cb03afe76888e14918af8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">s3f::s3fnet::OpenFlowSwitchSession::m_packetData</a></div><div class="ttdeci">PacketData_t m_packetData</div><div class="ttdoc">Packet data. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00467">openflow_switch_session.h:467</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9493689671e854cc8402d2d117f6a1ec"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">s3f::s3fnet::OpenFlowSwitchSession::m_flags</a></div><div class="ttdeci">uint16_t m_flags</div><div class="ttdoc">Flags; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00478">openflow_switch_session.h:478</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af72dbe1e7e1240126303af83ca9a72ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::RunThroughVPortTable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packet_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>vport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Run the packet through the vport table. As with AddVPort, this doesn't have an understood use yet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_uid</td><td>Packet UID; used to fetch the packet and its metadata. </td></tr>
    <tr><td class="paramname">port</td><td>The port this packet was received over. </td></tr>
    <tr><td class="paramname">vport</td><td>The virtual port this packet identifies itself by. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything's ok, otherwise an error number. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00942">942</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="openflow__interface_8cc_source.html#l00740">s3f::s3fnet::ExecuteVPortActions()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00478">m_flags</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00467">m_packetData</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00482">m_vportTable</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>.</p>
<div class="fragment"><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;{</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        ofpbuf* buffer = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a>.find (packet_uid)-&gt;second.buffer;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="comment">// extract the flow again since we need it</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="comment">// and the layer pointers may changed</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        sw_flow_key key;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        key.wildcards = 0;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keywordflow">if</span> (flow_extract (buffer, port != -1 ? port : OFPP_NONE, &amp;key.flow)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                        &amp;&amp; (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">m_flags</a> &amp; OFPC_FRAG_MASK) == OFPC_FRAG_DROP)</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <span class="comment">// run through the chain of port table entries</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        vport_table_entry *vpe = vport_table_lookup (&amp;<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>, vport);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>.lookup_count++;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">if</span> (vpe)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>.port_match_count++;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">while</span> (vpe != 0)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <a class="code" href="namespaces3f_1_1s3fnet.html#a6759ad00846d0e26e495ed72b2dff9a5">ExecuteVPortActions</a> (<span class="keyword">this</span>, packet_uid, <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a>.find (packet_uid)-&gt;second.buffer, &amp;key, vpe-&gt;port_acts-&gt;actions, vpe-&gt;port_acts-&gt;actions_len);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                vport_used (vpe, buffer); <span class="comment">// update counters for virtual port</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <span class="keywordflow">if</span> (vpe-&gt;parent_port_ptr == 0)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                        <span class="comment">// if a port table&#39;s parent_port_ptr is 0 then</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                        <span class="comment">// the parent_port should be a physical port</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                        <span class="keywordflow">if</span> (vpe-&gt;parent_port &lt;= OFPP_VP_START) <span class="comment">// done traversing port chain, send packet to output port</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                        {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a74c8a2b5a47f37eb163acf4bacb5dd32">OutputPort</a> (packet_uid, port != -1 ? port : OFPP_NONE, vpe-&gt;parent_port, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                        }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                        {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                                <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;virtual port points to parent port\n&quot;</span>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                        }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                <span class="keywordflow">else</span> <span class="comment">// increment the number of port entries accessed by chaining</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>.chain_match_count++;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                <span class="comment">// move to the parent port entry</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                vpe = vpe-&gt;parent_port_ptr;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a6759ad00846d0e26e495ed72b2dff9a5"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a6759ad00846d0e26e495ed72b2dff9a5">s3f::s3fnet::ExecuteVPortActions</a></div><div class="ttdeci">void ExecuteVPortActions(OpenFlowSwitchSession *swtch, uint64_t packet_uid, ofpbuf *buffer, sw_flow_key *key, const ofp_action_header *actions, size_t actions_len)</div><div class="ttdoc">Executes a list of virtual port table entry actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00740">openflow_interface.cc:740</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a005cd632cc511a17a25ec2d82b448e8c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">s3f::s3fnet::OpenFlowSwitchSession::m_vportTable</a></div><div class="ttdeci">vport_table_t m_vportTable</div><div class="ttdoc">Virtual Port Table. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00482">openflow_switch_session.h:482</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4b5918bd37cb03afe76888e14918af8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">s3f::s3fnet::OpenFlowSwitchSession::m_packetData</a></div><div class="ttdeci">PacketData_t m_packetData</div><div class="ttdoc">Packet data. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00467">openflow_switch_session.h:467</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a74c8a2b5a47f37eb163acf4bacb5dd32"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a74c8a2b5a47f37eb163acf4bacb5dd32">s3f::s3fnet::OpenFlowSwitchSession::OutputPort</a></div><div class="ttdeci">void OutputPort(uint32_t packet_uid, int in_port, int out_port, bool ignore_no_fwd)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00636">openflow_switch_session.cc:636</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9493689671e854cc8402d2d117f6a1ec"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">s3f::s3fnet::OpenFlowSwitchSession::m_flags</a></div><div class="ttdeci">uint16_t m_flags</div><div class="ttdoc">Flags; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00478">openflow_switch_session.h:478</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf74daca2817edd61df41b8f504ca089"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::FlowTableLookup </td>
          <td>(</td>
          <td class="paramtype">sw_flow_key&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ofpbuf *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packet_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>send_to_controller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by RunThroughFlowTable on a scheduled delay to account for the flow table lookup overhead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Matching key to look up in the flow table. </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer of the packet received. </td></tr>
    <tr><td class="paramname">packet_uid</td><td>Packet UID; used to fetch the packet and its metadata. </td></tr>
    <tr><td class="paramname">port</td><td>The port the packet was received over. </td></tr>
    <tr><td class="paramname">send_to_controller</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00850">850</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer()</a>, <a class="el" href="openflow__interface_8cc_source.html#l00623">s3f::s3fnet::ExecuteActions()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00206">is_ctrl_sess</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00479">m_missSendLen</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00467">m_packetData</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00893">RunThroughFlowTable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;{</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        sw_flow *flow = chain_lookup (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>, &amp;key);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">if</span> (flow != 0)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <span class="comment">/* kevin: if the rule is flooding, ask controller again, need to double verify */</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                ofp_action_output* oa = (ofp_action_output*)(flow-&gt;sf_acts-&gt;actions);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                <span class="keywordflow">if</span>(oa-&gt;port == OFPP_FLOOD)</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Flow not matched.&quot;</span> &lt;&lt; endl);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                        <span class="keywordflow">if</span> (send_to_controller)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                        {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a173c67659d64dc03aa2955673e2d2919">OutputControl</a> (packet_uid, port, <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">m_missSendLen</a>, OFPR_NO_MATCH);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                        }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Flow matched&quot;</span> &lt;&lt; endl);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                        flow_used (flow, buffer);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                        <a class="code" href="namespaces3f_1_1s3fnet.html#aaf1689566f07d475404dc63564fe8ca5">ExecuteActions</a> (<span class="keyword">this</span>, packet_uid, buffer, &amp;key, flow-&gt;sf_acts-&gt;actions, flow-&gt;sf_acts-&gt;actions_len, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], Flow not matched.&quot;</span> &lt;&lt; endl);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                <span class="keywordflow">if</span> (send_to_controller)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a173c67659d64dc03aa2955673e2d2919">OutputControl</a> (packet_uid, port, <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">m_missSendLen</a>, OFPR_NO_MATCH);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                <span class="comment">// Clean up; at this point we&#39;re done with the packet.</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">m_packetData</a>.erase (packet_uid);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                <a class="code" href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a> (packet_uid); <span class="comment">//kevin: todo: this line cause double free error for multi-timline, need to investigate</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                ofpbuf_delete (buffer);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aaf1689566f07d475404dc63564fe8ca5"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aaf1689566f07d475404dc63564fe8ca5">s3f::s3fnet::ExecuteActions</a></div><div class="ttdeci">void ExecuteActions(OpenFlowSwitchSession *swtch, uint64_t packet_uid, ofpbuf *buffer, sw_flow_key *key, const ofp_action_header *actions, size_t actions_len, int ignore_no_fwd)</div><div class="ttdoc">Executes a list of flow table actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00623">openflow_interface.cc:623</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a173c67659d64dc03aa2955673e2d2919"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a173c67659d64dc03aa2955673e2d2919">s3f::s3fnet::OpenFlowSwitchSession::OutputControl</a></div><div class="ttdeci">void OutputControl(uint32_t packet_uid, int in_port, size_t max_len, int reason)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00706">openflow_switch_session.cc:706</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af361d2abf6de39eec236783931ab3ffb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</a></div><div class="ttdeci">bool is_ctrl_sess</div><div class="ttdoc">whether it connects to an entity-based controller instead of non-entity controller ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00206">openflow_switch_session.h:206</a></div></div>
<div class="ttc" id="openflow__interface_8h_html_a00cf5cac22eda1904f90e04aa68094fd"><div class="ttname"><a href="openflow__interface_8h.html#a00cf5cac22eda1904f90e04aa68094fd">discard_buffer</a></div><div class="ttdeci">void discard_buffer(uint32_t id)</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9b13a94bcdac3f8782f3e56a51f24b3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">s3f::s3fnet::OpenFlowSwitchSession::m_missSendLen</a></div><div class="ttdeci">uint16_t m_missSendLen</div><div class="ttdoc">Flow Table Miss Send Length; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00479">openflow_switch_session.h:479</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af4b5918bd37cb03afe76888e14918af8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af4b5918bd37cb03afe76888e14918af8">s3f::s3fnet::OpenFlowSwitchSession::m_packetData</a></div><div class="ttdeci">PacketData_t m_packetData</div><div class="ttdoc">Packet data. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00467">openflow_switch_session.h:467</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a863b3bd3f4a59063bd15bcd86ce331f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::UpdatePortStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Update the port status field of the switch port. A non-zero return value indicates some field has changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A reference to a <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a>; used to change its config and flag fields. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the status of the <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> is changed, false if unchanged (was already the right status). </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00794">794</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h_source.html#l00122">s3f::s3fnet::Port::config</a>, and <a class="el" href="openflow__interface_8h_source.html#l00123">s3f::s3fnet::Port::state</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;{</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        uint32_t orig_config = p.config;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        uint32_t orig_state = p.state;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">// Port is always enabled because the Net Device is always enabled.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        p.config &amp;= ~OFPPC_PORT_DOWN;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="comment">//assume link is always up first</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        p.state &amp;= ~OFPPS_LINK_DOWN;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">return</span> ((orig_config != p.config) || (orig_state != p.state));</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4e08994be13ee091d8f244abd56a957"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::OpenFlowSwitchSession::FillPortDesc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs3f_1_1s3fnet_1_1_port.html">Port</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ofp_phy_port *&#160;</td>
          <td class="paramname"><em>desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fill out a description of the switch port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The port to get the description from. </td></tr>
    <tr><td class="paramname">desc</td><td>A pointer to the description message; used to fill the description message with the data from the port. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00745">745</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h_source.html#l00122">s3f::s3fnet::Port::config</a>, <a class="el" href="mac48__address_8cc_source.html#l00088">s3f::s3fnet::Mac48Address::CopyTo()</a>, <a class="el" href="network__interface_8h_source.html#l00072">s3f::s3fnet::NetworkInterface::getMac48Addr()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01514">GetSwitchPortIndex()</a>, <a class="el" href="openflow__interface_8h_source.html#l00124">s3f::s3fnet::Port::netdev</a>, and <a class="el" href="openflow__interface_8h_source.html#l00123">s3f::s3fnet::Port::state</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00764">SendFeaturesReply()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00808">SendPortStatus()</a>.</p>
<div class="fragment"><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;{</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        desc-&gt;port_no = htons (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a219a56737476084b1d527b11d0b65bfd">GetSwitchPortIndex</a> (p));</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        std::ostringstream nm;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        nm &lt;&lt; <span class="stringliteral">&quot;eth&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a219a56737476084b1d527b11d0b65bfd">GetSwitchPortIndex</a> (p);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        strncpy ((<span class="keywordtype">char</span> *)desc-&gt;name, nm.str ().c_str (), <span class="keyword">sizeof</span> desc-&gt;name);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        p.netdev-&gt;getMac48Addr()-&gt;CopyTo (desc-&gt;hw_addr);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        desc-&gt;config = htonl (p.config);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        desc-&gt;state = htonl (p.state);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="comment">// TODO: This should probably be fixed eventually to specify different available features.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        desc-&gt;curr = 0; <span class="comment">// htonl(netdev_get_features(p-&gt;netdev, NETDEV_FEAT_CURRENT));</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        desc-&gt;supported = 0; <span class="comment">// htonl(netdev_get_features(p-&gt;netdev, NETDEV_FEAT_SUPPORTED));</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        desc-&gt;advertised = 0; <span class="comment">// htonl(netdev_get_features(p-&gt;netdev, NETDEV_FEAT_ADVERTISED));</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        desc-&gt;peer = 0; <span class="comment">// htonl(netdev_get_features(p-&gt;netdev, NETDEV_FEAT_PEER));</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a219a56737476084b1d527b11d0b65bfd"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a219a56737476084b1d527b11d0b65bfd">s3f::s3fnet::OpenFlowSwitchSession::GetSwitchPortIndex</a></div><div class="ttdeci">int GetSwitchPortIndex(Port p)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01514">openflow_switch_session.cc:1514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6f392683db1ffc2adfbb7b9e4b15612"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * s3f::s3fnet::OpenFlowSwitchSession::MakeOpenflowReply </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>openflow_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ofpbuf **&#160;</td>
          <td class="paramname"><em>bufferp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generates an OpenFlow reply message based on the type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">openflow_len</td><td>Length of the reply to make. </td></tr>
    <tr><td class="paramname">type</td><td>Type of reply message to make. </td></tr>
    <tr><td class="paramname">bufferp</td><td><a class="el" href="class_message.html" title="Messages passed between connected OutChannels and InChannels. ">Message</a> buffer; used to make the reply. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The OpenFlow reply message. </dd></dl>

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00681">681</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01003">ReceiveGetConfigRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00840">SendErrorMsg()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00764">SendFeaturesReply()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00823">SendFlowExpired()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00808">SendPortStatus()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00783">SendVPortTableFeatures()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l01311">StatsDump()</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">return</span> make_openflow_xid (openflow_len, type, 0, bufferp);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a267eadc4605f802666d72e737a667355"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveFeaturesRequest </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00991">991</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00764">SendFeaturesReply()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;{</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ac5196213f07ae2cdc49663ca2d7bd14d">SendFeaturesReply</a> ();</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ac5196213f07ae2cdc49663ca2d7bd14d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ac5196213f07ae2cdc49663ca2d7bd14d">s3f::s3fnet::OpenFlowSwitchSession::SendFeaturesReply</a></div><div class="ttdeci">void SendFeaturesReply()</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00764">openflow_switch_session.cc:764</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1282b91735756ca25c222e18661cfa36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveGetConfigRequest </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01003">1003</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00478">m_flags</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00479">m_missSendLen</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00681">MakeOpenflowReply()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;{</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        ofpbuf *buffer;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        ofp_switch_config *osc = (ofp_switch_config*)<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">MakeOpenflowReply</a> (<span class="keyword">sizeof</span> *osc, OFPT_GET_CONFIG_REPLY, &amp;buffer);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        osc-&gt;flags = htons (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">m_flags</a>);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        osc-&gt;miss_send_len = htons (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">m_missSendLen</a>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (buffer);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9b13a94bcdac3f8782f3e56a51f24b3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">s3f::s3fnet::OpenFlowSwitchSession::m_missSendLen</a></div><div class="ttdeci">uint16_t m_missSendLen</div><div class="ttdoc">Flow Table Miss Send Length; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00479">openflow_switch_session.h:479</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab6f392683db1ffc2adfbb7b9e4b15612"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab6f392683db1ffc2adfbb7b9e4b15612">s3f::s3fnet::OpenFlowSwitchSession::MakeOpenflowReply</a></div><div class="ttdeci">void * MakeOpenflowReply(size_t openflow_len, uint8_t type, ofpbuf **bufferp)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00681">openflow_switch_session.cc:681</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9493689671e854cc8402d2d117f6a1ec"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">s3f::s3fnet::OpenFlowSwitchSession::m_flags</a></div><div class="ttdeci">uint16_t m_flags</div><div class="ttdoc">Flags; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00478">openflow_switch_session.h:478</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07bf5b3dc63b1434b5a4aa78849bab2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveSetConfig </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01013">1013</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00478">m_flags</a>, and <a class="el" href="openflow__switch__session_8h_source.html#l00479">m_missSendLen</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;{</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="keyword">const</span> ofp_switch_config *osc = (ofp_switch_config*)msg;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="keywordtype">int</span> n_flags = ntohs (osc-&gt;flags) &amp; (OFPC_SEND_FLOW_EXP | OFPC_FRAG_MASK);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">if</span> ((n_flags &amp; OFPC_FRAG_MASK) != OFPC_FRAG_NORMAL &amp;&amp; (n_flags &amp; OFPC_FRAG_MASK) != OFPC_FRAG_DROP)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                n_flags = (n_flags &amp; ~OFPC_FRAG_MASK) | OFPC_FRAG_DROP;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">m_flags</a> = n_flags;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">m_missSendLen</a> = ntohs (osc-&gt;miss_send_len);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9b13a94bcdac3f8782f3e56a51f24b3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9b13a94bcdac3f8782f3e56a51f24b3a">s3f::s3fnet::OpenFlowSwitchSession::m_missSendLen</a></div><div class="ttdeci">uint16_t m_missSendLen</div><div class="ttdoc">Flow Table Miss Send Length; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00479">openflow_switch_session.h:479</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a9493689671e854cc8402d2d117f6a1ec"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9493689671e854cc8402d2d117f6a1ec">s3f::s3fnet::OpenFlowSwitchSession::m_flags</a></div><div class="ttdeci">uint16_t m_flags</div><div class="ttdoc">Flags; configurable by the controller. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00478">openflow_switch_session.h:478</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5798120157185b04f7a348d3920d608b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceivePacketOut </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01028">1028</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="barrier_8h_source.html#l00009">EINVAL</a>, <a class="el" href="openflow__interface_8cc_source.html#l00623">s3f::s3fnet::ExecuteActions()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00840">SendErrorMsg()</a>, and <a class="el" href="openflow__interface_8cc_source.html#l00687">s3f::s3fnet::ValidateActions()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;{</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keyword">const</span> ofp_packet_out *opo = (ofp_packet_out*)msg;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        ofpbuf *buffer;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordtype">size_t</span> actions_len = ntohs (opo-&gt;actions_len);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keywordflow">if</span> (actions_len &gt; (ntohs (opo-&gt;header.length) - <span class="keyword">sizeof</span> *opo))</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> (cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], message too short for number of actions&quot;</span> &lt;&lt; endl);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                <span class="keywordflow">return</span> -<a class="code" href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keywordflow">if</span> (ntohl (opo-&gt;buffer_id) == (uint32_t) -1)</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                <span class="comment">// FIXME: can we avoid copying data here?</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <span class="keywordtype">int</span> data_len = ntohs (opo-&gt;header.length) - <span class="keyword">sizeof</span> *opo - actions_len;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                buffer = ofpbuf_new (data_len);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                ofpbuf_put (buffer, (uint8_t *)opo-&gt;actions + actions_len, data_len);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                <span class="comment">//pthread_mutex_lock(&amp;(inHost()-&gt;getTopNet()-&gt;of_buf_mutex));</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                buffer = <a class="code" href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer</a> (ntohl (opo-&gt;buffer_id));</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                <span class="comment">//pthread_mutex_unlock(&amp;(inHost()-&gt;getTopNet()-&gt;of_buf_mutex));</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                <span class="keywordflow">if</span> (buffer == 0)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                        <span class="keywordflow">return</span> -ESRCH;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        sw_flow_key key;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        flow_extract (buffer, opo-&gt;in_port, &amp;key.flow); <span class="comment">// ntohs(opo-&gt;in_port)</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        uint16_t v_code = <a class="code" href="namespaces3f_1_1s3fnet.html#a33ca616d53bb83a1e30fb10d039e0c11">ValidateActions</a> (&amp;key, opo-&gt;actions, actions_len);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="keywordflow">if</span> (v_code != ACT_VALIDATION_OK)</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> (OFPET_BAD_ACTION, v_code, msg, ntohs (opo-&gt;header.length));</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                pthread_mutex_lock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                ofpbuf_delete (buffer);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                pthread_mutex_unlock(&amp;(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getTopNet()-&gt;of_buf_mutex));</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                <span class="keywordflow">return</span> -<a class="code" href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <a class="code" href="namespaces3f_1_1s3fnet.html#aaf1689566f07d475404dc63564fe8ca5">ExecuteActions</a> (<span class="keyword">this</span>, opo-&gt;buffer_id, buffer, &amp;key, opo-&gt;actions, actions_len, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aaf1689566f07d475404dc63564fe8ca5"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aaf1689566f07d475404dc63564fe8ca5">s3f::s3fnet::ExecuteActions</a></div><div class="ttdeci">void ExecuteActions(OpenFlowSwitchSession *swtch, uint64_t packet_uid, ofpbuf *buffer, sw_flow_key *key, const ofp_action_header *actions, size_t actions_len, int ignore_no_fwd)</div><div class="ttdoc">Executes a list of flow table actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00623">openflow_interface.cc:623</a></div></div>
<div class="ttc" id="barrier_8h_html_a2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdef"><b>Definition:</b> <a href="barrier_8h_source.html#l00009">barrier.h:9</a></div></div>
<div class="ttc" id="openflow__interface_8h_html_a00e216d333db54fcd04cedff5db4cf73"><div class="ttname"><a href="openflow__interface_8h.html#a00e216d333db54fcd04cedff5db4cf73">retrieve_buffer</a></div><div class="ttdeci">ofpbuf * retrieve_buffer(uint32_t id)</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_adc68fc3ef3260dafaf02f62ea4632787"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">s3f::s3fnet::OpenFlowSwitchSession::SendErrorMsg</a></div><div class="ttdeci">void SendErrorMsg(uint16_t type, uint16_t code, const void *data, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00840">openflow_switch_session.cc:840</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a33ca616d53bb83a1e30fb10d039e0c11"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a33ca616d53bb83a1e30fb10d039e0c11">s3f::s3fnet::ValidateActions</a></div><div class="ttdeci">uint16_t ValidateActions(const sw_flow_key *key, const ofp_action_header *actions, size_t actions_len)</div><div class="ttdoc">Validates a list of flow table actions. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__interface_8cc_source.html#l00687">openflow_interface.cc:687</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa307f181b07b3b6c99d2d08bd1b93d06"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveFlow </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01278">1278</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l01140">AddFlow()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00481">m_chain</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l01227">ModFlow()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;{</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="keyword">const</span> ofp_flow_mod *ofm = (ofp_flow_mod*)msg;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        uint16_t command = ntohs (ofm-&gt;command);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <span class="keywordflow">if</span> (command == OFPFC_ADD)</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa030de04449f6deaf8c7d7c427ac484b">AddFlow</a> (ofm);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((command == OFPFC_MODIFY) || (command == OFPFC_MODIFY_STRICT))</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a750aaa05e7486b26ba0a3645a9f8dc3a">ModFlow</a> (ofm);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == OFPFC_DELETE)</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                sw_flow_key key;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                flow_extract_match (&amp;key, &amp;ofm-&gt;match);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                <span class="keywordflow">return</span> chain_delete (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>, &amp;key, ofm-&gt;out_port, 0, 0) ? 0 : -ESRCH;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        }</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == OFPFC_DELETE_STRICT)</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                sw_flow_key key;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                uint16_t priority;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                flow_extract_match (&amp;key, &amp;ofm-&gt;match);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                priority = key.wildcards ? ntohs (ofm-&gt;priority) : -1;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                <span class="keywordflow">return</span> chain_delete (<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">m_chain</a>, &amp;key, ofm-&gt;out_port, priority, 1) ? 0 : -ESRCH;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                <span class="keywordflow">return</span> -ENODEV;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af35a64ef5599990709776b3741b8ff0a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af35a64ef5599990709776b3741b8ff0a">s3f::s3fnet::OpenFlowSwitchSession::m_chain</a></div><div class="ttdeci">sw_chain * m_chain</div><div class="ttdoc">Flow Table; forwarding rules. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00481">openflow_switch_session.h:481</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa030de04449f6deaf8c7d7c427ac484b"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa030de04449f6deaf8c7d7c427ac484b">s3f::s3fnet::OpenFlowSwitchSession::AddFlow</a></div><div class="ttdeci">int AddFlow(const ofp_flow_mod *ofm)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01140">openflow_switch_session.cc:1140</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a750aaa05e7486b26ba0a3645a9f8dc3a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a750aaa05e7486b26ba0a3645a9f8dc3a">s3f::s3fnet::OpenFlowSwitchSession::ModFlow</a></div><div class="ttdeci">int ModFlow(const ofp_flow_mod *ofm)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l01227">openflow_switch_session.cc:1227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a634957ae413ca4d1e39b9319f1b26fd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceivePortMod </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01076">1076</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__interface_8h_source.html#l00122">s3f::s3fnet::Port::config</a>, <a class="el" href="mac48__address_8cc_source.html#l00078">s3f::s3fnet::Mac48Address::CopyFrom()</a>, <a class="el" href="network__interface_8h_source.html#l00072">s3f::s3fnet::NetworkInterface::getMac48Addr()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00470">m_ports</a>, <a class="el" href="openflow__interface_8h_source.html#l00124">s3f::s3fnet::Port::netdev</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;{</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        ofp_port_mod* opm = (ofp_port_mod*)msg;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordtype">int</span> port = opm-&gt;port_no; <span class="comment">// ntohs(opm-&gt;port_no);</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">if</span> (port &lt; DP_MAX_PORTS)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                Port&amp; p = <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">m_ports</a>[port];</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                <span class="comment">// Make sure the port id hasn&#39;t changed since this was sent</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                Mac48Address hw_addr = Mac48Address ();</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                hw_addr.CopyFrom (opm-&gt;hw_addr);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                <span class="keywordflow">if</span> (*(p.netdev-&gt;getMac48Addr()) != hw_addr)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a>(cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], OpenFlowSwitchSession::ReceivePortMod(), hw_addr != p.netdev-&gt;getMac48Addr()&quot;</span> &lt;&lt; endl);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                <span class="keywordflow">if</span> (opm-&gt;mask)</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                        uint32_t config_mask = ntohl (opm-&gt;mask);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                        p.config &amp;= ~config_mask;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                        p.config |= ntohl (opm-&gt;config) &amp; config_mask;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                <span class="keywordflow">if</span> (opm-&gt;mask &amp; htonl (OFPPC_PORT_DOWN))</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                        <span class="keywordflow">if</span> ((opm-&gt;config &amp; htonl (OFPPC_PORT_DOWN)) &amp;&amp; (p.config &amp; OFPPC_PORT_DOWN) == 0)</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                        {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                p.config |= OFPPC_PORT_DOWN;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                                <span class="comment">// TODO: Possibly disable the Port&#39;s Net Device via the appropriate interface.</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                        }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((opm-&gt;config &amp; htonl (OFPPC_PORT_DOWN)) == 0 &amp;&amp; (p.config &amp; OFPPC_PORT_DOWN))</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                        {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                p.config &amp;= ~OFPPC_PORT_DOWN;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                                <span class="comment">// TODO: Possibly enable the Port&#39;s Net Device via the appropriate interface.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                        }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_aa887bedf3d45bb6986458cb7a79b0c2a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#aa887bedf3d45bb6986458cb7a79b0c2a">s3f::s3fnet::OpenFlowSwitchSession::m_ports</a></div><div class="ttdeci">Ports_t m_ports</div><div class="ttdoc">Switch&#39;s ports. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00470">openflow_switch_session.h:470</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ba44cf3084df59b5286e21b0a42bc81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveStatsRequest </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>oh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01360">1360</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8h_source.html#l00209">ctrl_sess</a>, <a class="el" href="openflow__interface_8cc_source.html#l00057">s3f::s3fnet::Stats::DoInit()</a>, <a class="el" href="openflow__interface_8h_source.html#l00308">s3f::s3fnet::StatsDumpCallback::done</a>, <a class="el" href="barrier_8h_source.html#l00009">EINVAL</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00206">is_ctrl_sess</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00472">np_controller</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00030">OF_SWITCH_DUMP</a>, <a class="el" href="openflow__interface_8h_source.html#l00309">s3f::s3fnet::StatsDumpCallback::rq</a>, <a class="el" href="openflow__interface_8h_source.html#l00310">s3f::s3fnet::StatsDumpCallback::s</a>, <a class="el" href="openflow__controller_8cc_source.html#l00087">s3f::s3fnet::Controller::StartDump()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00146">s3f::s3fnet::OpenFlowControllerSession::StartDump()</a>, <a class="el" href="openflow__interface_8h_source.html#l00311">s3f::s3fnet::StatsDumpCallback::state</a>, and <a class="el" href="openflow__interface_8h_source.html#l00312">s3f::s3fnet::StatsDumpCallback::swtch</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;{</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="keyword">const</span> ofp_stats_request *rq = (ofp_stats_request*)oh;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordtype">size_t</span> rq_len = ntohs (rq-&gt;header.length);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="keywordtype">int</span> type = ntohs (rq-&gt;type);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="keywordtype">int</span> body_len = rq_len - offsetof (ofp_stats_request, body);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        Stats* st = <span class="keyword">new</span> Stats ((ofp_stats_types)type, (<span class="keywordtype">unsigned</span>)body_len);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span> (st == 0)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                <span class="keywordflow">return</span> -<a class="code" href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        StatsDumpCallback cb;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        cb.done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        cb.rq = (ofp_stats_request*)xmemdup (rq, rq_len);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        cb.s = st;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        cb.state = 0;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        cb.swtch = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordflow">if</span> (cb.s)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <span class="keywordtype">int</span> err = cb.s-&gt;DoInit (rq-&gt;body, body_len, &amp;cb.state);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                <span class="keywordflow">if</span> (err)</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                        <a class="code" href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a> ( cout &lt;&lt; <span class="stringliteral">&quot;Switch[&quot;</span> &lt;&lt; <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()&lt;&lt; <span class="stringliteral">&quot;], failed initialization of stats request type &quot;</span> &lt;&lt; type &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; strerror (-err) &lt;&lt; endl );</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                        free (cb.rq);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">is_ctrl_sess</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a> != 0) <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">np_controller</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_controller.html#a80ff7d93c33f95df9f2144d0ff4bf446">StartDump</a> (&amp;cb);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                <span class="keywordflow">else</span> <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a> (<span class="stringliteral">&quot;Switch needs to be registered to a passive controller in order to start the stats reply.&quot;</span>);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a> != 0) <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">ctrl_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html#a927654a0da193c70a17c504c1a8d9012">StartDump</a>(&amp;cb);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                <span class="keywordflow">else</span> <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a> (<span class="stringliteral">&quot;Switch needs to be registered to an active controller in order to start the stats reply.&quot;</span>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_controller_html_a80ff7d93c33f95df9f2144d0ff4bf446"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_controller.html#a80ff7d93c33f95df9f2144d0ff4bf446">s3f::s3fnet::Controller::StartDump</a></div><div class="ttdeci">void StartDump(StatsDumpCallback *cb)</div><div class="ttdoc">Starts a callback-based, reliable, possibly multi-message reply to a request made by the controller...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__controller_8cc_source.html#l00087">openflow_controller.cc:87</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_controller_session_html_a927654a0da193c70a17c504c1a8d9012"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html#a927654a0da193c70a17c504c1a8d9012">s3f::s3fnet::OpenFlowControllerSession::StartDump</a></div><div class="ttdeci">void StartDump(StatsDumpCallback *cb)</div><div class="ttdoc">Starts a callback-based, reliable, possibly multi-message reply to a request made by the controller...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__controller__session_8cc_source.html#l00146">openflow_controller_session.cc:146</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_acea008b911d95513dfd3b348226b7942"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#acea008b911d95513dfd3b348226b7942">s3f::s3fnet::OpenFlowSwitchSession::ctrl_sess</a></div><div class="ttdeci">OpenFlowControllerSession * ctrl_sess</div><div class="ttdoc">pointer of the controller protocol session </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00209">openflow_switch_session.h:209</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_af361d2abf6de39eec236783931ab3ffb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#af361d2abf6de39eec236783931ab3ffb">s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</a></div><div class="ttdeci">bool is_ctrl_sess</div><div class="ttdoc">whether it connects to an entity-based controller instead of non-entity controller ...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00206">openflow_switch_session.h:206</a></div></div>
<div class="ttc" id="barrier_8h_html_a2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="barrier_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdef"><b>Definition:</b> <a href="barrier_8h_source.html#l00009">barrier.h:9</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a28edeb169b10405f1ef9f092f5c8bfa5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a28edeb169b10405f1ef9f092f5c8bfa5">s3f::s3fnet::OpenFlowSwitchSession::np_controller</a></div><div class="ttdeci">Controller * np_controller</div><div class="ttdoc">Connection to the non-entity controller; controller is not implemented as a protocol session...</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00472">openflow_switch_session.h:472</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="openflow__switch__session_8cc_html_ad57ed178fd90a39a034908fb2ea26297"><div class="ttname"><a href="openflow__switch__session_8cc.html#ad57ed178fd90a39a034908fb2ea26297">OF_SWITCH_DUMP</a></div><div class="ttdeci">#define OF_SWITCH_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00030">openflow_switch_session.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2a2c67cc7c080b058b8d9c4d6afaa402"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveEchoRequest </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>oh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01405">1405</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;{</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">SendOpenflowBuffer</a> (make_echo_reply ((ofp_header*)oh));</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a75fdf7e8c2068447da42454fd033bb81"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a75fdf7e8c2068447da42454fd033bb81">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer</a></div><div class="ttdeci">int SendOpenflowBuffer(ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00686">openflow_switch_session.cc:686</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab904956a394df4f066828b22949784b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveEchoReply </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>oh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01410">1410</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;{</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f91521942437725b92830889f297eba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveVPortMod </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l01120">1120</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00376">AddVPort()</a>, <a class="el" href="openflow__switch__session_8h_source.html#l00482">m_vportTable</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00840">SendErrorMsg()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="keyword">const</span> ofp_vport_mod *ovpm = (ofp_vport_mod*)msg;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        uint16_t command = ntohs (ovpm-&gt;command);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="keywordflow">if</span> (command == OFPVP_ADD)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab2444a76c14a2e42b6c80b7d37150758">AddVPort</a> (ovpm);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == OFPVP_DELETE)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                <span class="keywordflow">if</span> (remove_vport_table_entry (&amp;<a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">m_vportTable</a>, ntohl (ovpm-&gt;vport)))</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">SendErrorMsg</a> (OFPET_BAD_ACTION, OFPET_VPORT_MOD_FAILED, ovpm, ntohs (ovpm-&gt;header.length));</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_ab2444a76c14a2e42b6c80b7d37150758"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ab2444a76c14a2e42b6c80b7d37150758">s3f::s3fnet::OpenFlowSwitchSession::AddVPort</a></div><div class="ttdeci">int AddVPort(const ofp_vport_mod *ovpm)</div><div class="ttdoc">Add a virtual port to a switch device. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00376">openflow_switch_session.cc:376</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a005cd632cc511a17a25ec2d82b448e8c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a005cd632cc511a17a25ec2d82b448e8c">s3f::s3fnet::OpenFlowSwitchSession::m_vportTable</a></div><div class="ttdeci">vport_table_t m_vportTable</div><div class="ttdoc">Virtual Port Table. </div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8h_source.html#l00482">openflow_switch_session.h:482</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_adc68fc3ef3260dafaf02f62ea4632787"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#adc68fc3ef3260dafaf02f62ea4632787">s3f::s3fnet::OpenFlowSwitchSession::SendErrorMsg</a></div><div class="ttdeci">void SendErrorMsg(uint16_t type, uint16_t code, const void *data, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00840">openflow_switch_session.cc:840</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa8a3a53865210bf2f74b2cf1eebbc01c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::OpenFlowSwitchSession::ReceiveVPortTableFeaturesRequest </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8cc_source.html#l00997">997</a> of file <a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a>.</p>

<p>References <a class="el" href="openflow__switch__session_8cc_source.html#l00783">SendVPortTableFeatures()</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01438">ForwardControlInput()</a>.</p>
<div class="fragment"><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;{</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a44609628c8662639365806866b3563cd">SendVPortTableFeatures</a> ();</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_open_flow_switch_session_html_a44609628c8662639365806866b3563cd"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a44609628c8662639365806866b3563cd">s3f::s3fnet::OpenFlowSwitchSession::SendVPortTableFeatures</a></div><div class="ttdeci">void SendVPortTableFeatures()</div><div class="ttdef"><b>Definition:</b> <a href="openflow__switch__session_8cc_source.html#l00783">openflow_switch_session.cc:783</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79b1d48edbb1aec6b740de60666414f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::ProtocolSession::wrapup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method is used to wrap up the protocol session. </p>
<p>It is called when the simulation finishes. It is designed to give user a chance to report simulation statistics. The default behavior is doing nothing. Subclass may override this method for protocol specific dealings. Note that there is no specific order in which wrapup is called for protocol sessions in a protocol graph. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00059">59</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="protocol__session_8h_source.html#l00233">s3f::s3fnet::ProtocolSession::initialized()</a>, <a class="el" href="protocol__session_8h_source.html#l00063">s3f::s3fnet::ProtocolSession::name</a>, <a class="el" href="protocol__session_8h_source.html#l00055">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a>, <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>, and <a class="el" href="protocol__session_8h_source.html#l00245">s3f::s3fnet::ProtocolSession::wrapped_up()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// Make sure this init function at the base class should be called</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// by the derived function!</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">initialized</a>()) </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: ProtocolSession \&quot;%s\&quot; wrapup() called before init(), &quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;               <span class="stringliteral">&quot;forgot to call base class&#39;s init() in your derived class?\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">wrapped_up</a>())</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: duplicate calls to ProtocolSession::wrapup(): &quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;               <span class="stringliteral">&quot;session name is \&quot;%s\&quot;.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ac934416dd1e279568a3bef2e8a6b045d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">s3f::s3fnet::ProtocolSession::wrapped_up</a></div><div class="ttdeci">int wrapped_up()</div><div class="ttdoc">This method returns true if the protocol session has been wrapped up. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00245">protocol_session.h:245</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_aca7233711f9c8c606c611ec97ee29cdb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">s3f::s3fnet::ProtocolSession::initialized</a></div><div class="ttdeci">int initialized()</div><div class="ttdoc">This method returns true if the protocol session has been initialized. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00233">protocol_session.h:233</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a7eedcbe4da39cba727d26f1339ac7c47"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">s3f::s3fnet::ProtocolSession::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Symbolic name of the protocol this session implements. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00063">protocol_session.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a9fa5693373188218eba85c782583e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::pushdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>hi_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The original push method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7" title="The original push method is divided into pushdown() and push(). ">pushdown()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">push()</a>. </p>
<p>The pushdown method is the generic part of the code, which is reserved for modeling the handling of messages transferred between protocol layers. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">ProtocolSession::push</a> method for details. </dd></dl>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00072">72</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00082">s3f::s3fnet::ProtocolSession::push()</a>.</p>

<p>Referenced by <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="ip__session_8cc_source.html#l00148">s3f::s3fnet::IPSession::control()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">s3f::s3fnet::IPSession::handle_pop_pkt()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00297">s3f::s3fnet::LearningControllerSession::HandleInquiryMessageFromOFSwitch()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">OutputPacket()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, and <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767">push</a>(msg, hi_sess, extinfo, extinfo_size);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a802569fda5b2814f662ea5b4d39ce767"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767">s3f::s3fnet::ProtocolSession::push</a></div><div class="ttdeci">virtual int push(Activation msg, ProtocolSession *hi_sess, void *extinfo=0, size_t extinfo_size=0)</div><div class="ttdoc">The method is called when a message is pushed down to this protocol session from the protocol session...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00082">protocol_session.cc:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3f962741a6c055135d2cab28ea0b9c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::popup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lo_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The original pop method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8" title="The original pop method is divided into popup() and pop(). ">popup()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">pop()</a>. </p>
<p>The popup method is the generic part of the code, which is reserved for modeling the handling of messages transferred between protocol layers. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">ProtocolSession::pop</a> method for details. </dd></dl>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00077">77</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00087">s3f::s3fnet::ProtocolSession::pop()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00567">s3f::s3fnet::IPSession::handle_pop_local_pkt()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>, and <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">pop</a>(msg, lo_sess, extinfo, extinfo_size);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ad30fc9c677829b84f849716df872fe11"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">s3f::s3fnet::ProtocolSession::pop</a></div><div class="ttdeci">virtual int pop(Activation msg, ProtocolSession *lo_sess, void *extinfo=0, size_t extinfo_size=0)</div><div class="ttdoc">The method is called when a message is popped up to this protocol session from the protocol session b...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00087">protocol_session.cc:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a383bfb5d8385ab3ddbabaeba2e4a38aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a>* s3f::s3fnet::ProtocolSession::inGraph </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns the protocol graph in which this protocol session resides. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00178">178</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00335">s3f::s3fnet::ProtocolSession::ingraph</a>.</p>

<p>Referenced by <a class="el" href="simple__phy_8cc_source.html#l00040">s3f::s3fnet::SimplePhy::config()</a>, <a class="el" href="simple__phy_8cc_source.html#l00183">s3f::s3fnet::SimplePhy::control()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00036">s3f::s3fnet::DroptailQueue::enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="simple__mac_8cc_source.html#l00041">s3f::s3fnet::SimpleMac::init()</a>, <a class="el" href="simple__phy_8cc_source.html#l00130">s3f::s3fnet::SimplePhy::init()</a>, <a class="el" href="red__queue_8cc_source.html#l00121">s3f::s3fnet::RedQueue::init()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00145">s3f::s3fnet::SimplePhy::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>, <a class="el" href="simple__phy_8cc_source.html#l00158">s3f::s3fnet::SimplePhy::sendPacket()</a>, <a class="el" href="simple__mac_8cc_source.html#l00031">s3f::s3fnet::SimpleMac::SimpleMac()</a>, <a class="el" href="simple__phy_8cc_source.html#l00028">s3f::s3fnet::SimplePhy::SimplePhy()</a>, <a class="el" href="simple__mac_8cc_source.html#l00036">s3f::s3fnet::SimpleMac::~SimpleMac()</a>, and <a class="el" href="simple__phy_8cc_source.html#l00034">s3f::s3fnet::SimplePhy::~SimplePhy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a9e93967a56c673f625b486d2fe389067"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">s3f::s3fnet::ProtocolSession::ingraph</a></div><div class="ttdeci">ProtocolGraph * ingraph</div><div class="ttdoc">Points to the protocol graph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00335">protocol_session.h:335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afadb38bfa4c4daa1049b229d7abce81c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_host.html">Host</a> * s3f::s3fnet::ProtocolSession::inHost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a pointer to the host owning this protocol session. </p>

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">s3f::s3fnet::NicProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00118">118</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00335">s3f::s3fnet::ProtocolSession::ingraph</a>.</p>

<p>Referenced by <a class="el" href="udp__session_8cc_source.html#l00095">s3f::s3fnet::UDPSession::abort()</a>, <a class="el" href="socket__master_8cc_source.html#l00283">s3f::s3fnet::SocketMaster::abort()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00294">s3f::s3fnet::NBSocketMaster::abort()</a>, <a class="el" href="socket__master_8cc_source.html#l00403">s3f::s3fnet::SocketMaster::accept()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00435">s3f::s3fnet::NBSocketMaster::accept()</a>, <a class="el" href="socket__master_8cc_source.html#l00443">s3f::s3fnet::SocketMaster::accept1a()</a>, <a class="el" href="socket__master_8cc_source.html#l00489">s3f::s3fnet::SocketMaster::accept1b()</a>, <a class="el" href="socket__master_8cc_source.html#l00535">s3f::s3fnet::SocketMaster::accept2a()</a>, <a class="el" href="socket__master_8cc_source.html#l00600">s3f::s3fnet::SocketMaster::accept2b()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01140">AddFlow()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00163">s3f::s3fnet::TCPSession::backoff_timeout()</a>, <a class="el" href="socket__master_8cc_source.html#l00183">s3f::s3fnet::SocketMaster::bind()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00194">s3f::s3fnet::NBSocketMaster::bind()</a>, <a class="el" href="socket__master_8cc_source.html#l00306">s3f::s3fnet::SocketMaster::block_till()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00317">s3f::s3fnet::NBSocketMaster::block_till()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00161">s3f::s3fnet::BTCPClientSession::BTCPClientSession()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00423">BufferFromPacket()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="udp__session_8cc_source.html#l00134">s3f::s3fnet::UDPSession::clear_app_state()</a>, <a class="el" href="udp__server_8cc_source.html#l00326">s3f::s3fnet::UDPServerSession::client_connected()</a>, <a class="el" href="socket__master_8cc_source.html#l00802">s3f::s3fnet::SocketMaster::close()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00808">s3f::s3fnet::NBSocketMaster::close()</a>, <a class="el" href="socket__master_8cc_source.html#l00846">s3f::s3fnet::SocketMaster::close1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00867">s3f::s3fnet::NBSocketMaster::close1()</a>, <a class="el" href="udp__master_8cc_source.html#l00043">s3f::s3fnet::UDPMaster::config()</a>, <a class="el" href="dummy__session_8cc_source.html#l00042">s3f::s3fnet::DummySession::config()</a>, <a class="el" href="tcp__client_8cc_source.html#l00159">s3f::s3fnet::TCPClientSession::config()</a>, <a class="el" href="udp__server_8cc_source.html#l00158">s3f::s3fnet::UDPServerSession::config()</a>, <a class="el" href="udp__client_8cc_source.html#l00156">s3f::s3fnet::UDPClientSession::config()</a>, <a class="el" href="tcp__server_8cc_source.html#l00150">s3f::s3fnet::TCPServerSession::config()</a>, <a class="el" href="tcp__master_8cc_source.html#l00106">s3f::s3fnet::TCPMaster::config()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00237">s3f::s3fnet::NBTCPClientSession::config()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00169">s3f::s3fnet::BTCPClientSession::config()</a>, <a class="el" href="ip__session_8cc_source.html#l00060">s3f::s3fnet::IPSession::config()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00279">s3f::s3fnet::NBTCPServerSession::config()</a>, <a class="el" href="udp__session_8cc_source.html#l00041">s3f::s3fnet::UDPSession::connect()</a>, <a class="el" href="socket__master_8cc_source.html#l00333">s3f::s3fnet::SocketMaster::connect()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00346">s3f::s3fnet::NBSocketMaster::connect()</a>, <a class="el" href="socket__master_8cc_source.html#l00365">s3f::s3fnet::SocketMaster::connect1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00396">s3f::s3fnet::NBSocketMaster::connect1()</a>, <a class="el" href="socket__master_8cc_source.html#l00240">s3f::s3fnet::SocketMaster::connected()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00251">s3f::s3fnet::NBSocketMaster::connected()</a>, <a class="el" href="udp__master_8cc_source.html#l00086">s3f::s3fnet::UDPMaster::control()</a>, <a class="el" href="socket__master_8cc_source.html#l00052">s3f::s3fnet::SocketMaster::control()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00052">s3f::s3fnet::NBSocketMaster::control()</a>, <a class="el" href="ip__session_8cc_source.html#l00148">s3f::s3fnet::IPSession::control()</a>, <a class="el" href="tcp__master_8cc_source.html#l00472">s3f::s3fnet::TCPMaster::createSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="udp__server_8cc_source.html#l00348">s3f::s3fnet::UDPServerSession::data_sent()</a>, <a class="el" href="tcp__server_8cc_source.html#l00299">s3f::s3fnet::TCPServerSession::data_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00058">s3f::s3fnet::UDPSession::disconnect()</a>, <a class="el" href="tcp__master_8cc_source.html#l00547">s3f::s3fnet::TCPMaster::enableFastTimeout()</a>, <a class="el" href="socket__master_8cc_source.html#l00262">s3f::s3fnet::SocketMaster::eof()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00273">s3f::s3fnet::NBSocketMaster::eof()</a>, <a class="el" href="udp__client_8cc_source.html#l00077">s3f::s3fnet::UDPClientSessionContinuation::failure()</a>, <a class="el" href="udp__server_8cc_source.html#l00078">s3f::s3fnet::UDPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__server_8cc_source.html#l00081">s3f::s3fnet::TCPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__client_8cc_source.html#l00081">s3f::s3fnet::TCPClientSessionContinuation::failure()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00093">s3f::s3fnet::BTCPClientSessionContinuation::failure()</a>, <a class="el" href="tcp__master_8cc_source.html#l00579">s3f::s3fnet::TCPMaster::fast_timer_callback_body()</a>, <a class="el" href="openflow__interface_8cc_source.html#l00184">s3f::s3fnet::Stats::FlowStatsDump()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00850">FlowTableLookup()</a>, <a class="el" href="ip__session_8cc_source.html#l00489">s3f::s3fnet::IPSession::get_parent_by_protocol()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="protocol__session_8cc_source.html#l00123">s3f::s3fnet::ProtocolSession::getNow()</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="ip__session_8cc_source.html#l00567">s3f::s3fnet::IPSession::handle_pop_local_pkt()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">s3f::s3fnet::IPSession::handle_pop_pkt()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01415">HandleControlInput()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00297">s3f::s3fnet::LearningControllerSession::HandleInquiryMessageFromOFSwitch()</a>, <a class="el" href="dummy__session_8cc_source.html#l00116">s3f::s3fnet::DummySession::init()</a>, <a class="el" href="udp__master_8cc_source.html#l00067">s3f::s3fnet::UDPMaster::init()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00048">s3f::s3fnet::OpenFlowControllerSession::init()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00060">s3f::s3fnet::OpenVZEventSession::init()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__server_8cc_source.html#l00229">s3f::s3fnet::UDPServerSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="tcp__server_8cc_source.html#l00201">s3f::s3fnet::TCPServerSession::init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00112">init()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00282">s3f::s3fnet::NBTCPClientSession::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="socket__master_8cc_source.html#l00042">s3f::s3fnet::SocketMaster::init()</a>, <a class="el" href="ip__session_8cc_source.html#l00076">s3f::s3fnet::IPSession::init()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00042">s3f::s3fnet::NBSocketMaster::init()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00330">s3f::s3fnet::NBTCPServerSession::init()</a>, <a class="el" href="tcp__state_8cc_source.html#l00020">s3f::s3fnet::TCPSession::init_state_closed()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="ip__session_8cc_source.html#l00030">s3f::s3fnet::IPSession::IPSession()</a>, <a class="el" href="udp__session_8cc_source.html#l00068">s3f::s3fnet::UDPSession::listen()</a>, <a class="el" href="socket__master_8cc_source.html#l00228">s3f::s3fnet::SocketMaster::listen()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00239">s3f::s3fnet::NBSocketMaster::listen()</a>, <a class="el" href="ip__session_8cc_source.html#l00437">s3f::s3fnet::IPSession::load_forwarding_table()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01227">ModFlow()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00025">s3f::s3fnet::NBSocketMaster::NBSocketMaster()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00124">s3f::s3fnet::NBTCPClientSession::NBTCPClientSession()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00204">s3f::s3fnet::NBTCPServerSession::NBTCPServerSession()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00199">s3f::s3fnet::NBTCPClientSession::non_blocking_loop()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00244">s3f::s3fnet::NBTCPServerSession::non_blocking_loop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">OutputPacket()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00636">OutputPort()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00078">s3f::s3fnet::OpenFlowControllerSession::pop()</a>, <a class="el" href="udp__master_8cc_source.html#l00109">s3f::s3fnet::UDPMaster::pop()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00416">s3f::s3fnet::TCPMaster::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00410">s3f::s3fnet::IPSession::pop()</a>, <a class="el" href="openflow__controller_8cc_source.html#l00175">s3f::s3fnet::LearningController::process_recv_packet()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>, <a class="el" href="udp__session_8cc_source.html#l00189">s3f::s3fnet::UDPSession::receive()</a>, <a class="el" href="tcp__receiver_8cc_source.html#l00040">s3f::s3fnet::TCPSession::receive()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00193">s3f::s3fnet::LearningControllerSession::ReceiveFromSwitch()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01028">ReceivePacketOut()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01076">ReceivePortMod()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01360">ReceiveStatsRequest()</a>, <a class="el" href="socket__master_8cc_source.html#l00717">s3f::s3fnet::SocketMaster::recv()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00706">s3f::s3fnet::NBSocketMaster::recv()</a>, <a class="el" href="socket__master_8cc_source.html#l00759">s3f::s3fnet::SocketMaster::recv1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00764">s3f::s3fnet::NBSocketMaster::recv1()</a>, <a class="el" href="udp__server_8cc_source.html#l00283">s3f::s3fnet::UDPServerSession::request_received()</a>, <a class="el" href="tcp__server_8cc_source.html#l00272">s3f::s3fnet::TCPServerSession::request_received()</a>, <a class="el" href="udp__client_8cc_source.html#l00408">s3f::s3fnet::UDPClientSession::request_sent()</a>, <a class="el" href="tcp__client_8cc_source.html#l00412">s3f::s3fnet::TCPClientSession::request_sent()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00093">s3f::s3fnet::NBTCPClientSessionContinuation::resume()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00104">s3f::s3fnet::NBTCPServerSessionContinuation::resume()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00893">RunThroughFlowTable()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, <a class="el" href="socket__master_8cc_source.html#l00637">s3f::s3fnet::SocketMaster::send()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00609">s3f::s3fnet::NBSocketMaster::send()</a>, <a class="el" href="socket__master_8cc_source.html#l00679">s3f::s3fnet::SocketMaster::send1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00667">s3f::s3fnet::NBSocketMaster::send1()</a>, <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00823">SendFlowExpired()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00808">SendPortStatus()</a>, <a class="el" href="udp__client_8cc_source.html#l00390">s3f::s3fnet::UDPClientSession::server_connected()</a>, <a class="el" href="tcp__client_8cc_source.html#l00394">s3f::s3fnet::TCPClientSession::server_connected()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00395">s3f::s3fnet::BTCPClientSession::server_connected()</a>, <a class="el" href="udp__server_8cc_source.html#l00371">s3f::s3fnet::UDPServerSession::session_closed()</a>, <a class="el" href="udp__client_8cc_source.html#l00465">s3f::s3fnet::UDPClientSession::session_closed()</a>, <a class="el" href="tcp__client_8cc_source.html#l00469">s3f::s3fnet::TCPClientSession::session_closed()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">s3f::s3fnet::TCPServerSession::session_closed()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00452">s3f::s3fnet::BTCPClientSession::session_closed()</a>, <a class="el" href="tcp__master_8cc_source.html#l00520">s3f::s3fnet::TCPMaster::setConnected()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00270">SetController()</a>, <a class="el" href="tcp__master_8cc_source.html#l00538">s3f::s3fnet::TCPMaster::setIdle()</a>, <a class="el" href="tcp__master_8cc_source.html#l00529">s3f::s3fnet::TCPMaster::setListening()</a>, <a class="el" href="udp__session_8cc_source.html#l00084">s3f::s3fnet::UDPSession::setSource()</a>, <a class="el" href="tcp__master_8cc_source.html#l00610">s3f::s3fnet::TCPMaster::slow_timer_callback_body()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00029">s3f::s3fnet::TCPSession::slowTimeoutHandling()</a>, <a class="el" href="socket__master_8cc_source.html#l00162">s3f::s3fnet::SocketMaster::socket()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00173">s3f::s3fnet::NBSocketMaster::socket()</a>, <a class="el" href="socket__master_8cc_source.html#l00025">s3f::s3fnet::SocketMaster::SocketMaster()</a>, <a class="el" href="udp__server_8cc_source.html#l00253">s3f::s3fnet::UDPServerSession::start_on()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__server_8cc_source.html#l00224">s3f::s3fnet::TCPServerSession::start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00173">s3f::s3fnet::NBTCPClientSession::start_on()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00215">s3f::s3fnet::NBTCPServerSession::start_on()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00074">s3f::s3fnet::NBTCPServerSessionContinuation::success()</a>, <a class="el" href="tcp__client_8cc_source.html#l00151">s3f::s3fnet::TCPClientSession::TCPClientSession()</a>, <a class="el" href="tcp__master_8cc_source.html#l00052">s3f::s3fnet::TCPMaster::TCPMaster()</a>, <a class="el" href="tcp__server_8cc_source.html#l00142">s3f::s3fnet::TCPServerSession::TCPServerSession()</a>, <a class="el" href="tcp__session_8cc_source.html#l00029">s3f::s3fnet::TCPSession::TCPSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00521">s3f::s3fnet::UDPClientSession::timeout()</a>, <a class="el" href="tcp__client_8cc_source.html#l00528">s3f::s3fnet::TCPClientSession::timeout()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00512">s3f::s3fnet::BTCPClientSession::timeout()</a>, <a class="el" href="udp__client_8cc_source.html#l00148">s3f::s3fnet::UDPClientSession::UDPClientSession()</a>, <a class="el" href="udp__master_8cc_source.html#l00030">s3f::s3fnet::UDPMaster::UDPMaster()</a>, <a class="el" href="udp__server_8cc_source.html#l00150">s3f::s3fnet::UDPServerSession::UDPServerSession()</a>, <a class="el" href="udp__session_8cc_source.html#l00024">s3f::s3fnet::UDPSession::UDPSession()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00134">s3f::s3fnet::TCPSession::update_timeout()</a>, <a class="el" href="ip__session_8cc_source.html#l00423">s3f::s3fnet::IPSession::verify_local_ip_address()</a>, and <a class="el" href="udp__session_8cc_source.html#l00118">s3f::s3fnet::UDPSession::wake_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">Host</a>*<span class="keyword">&gt;</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a9e93967a56c673f625b486d2fe389067"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">s3f::s3fnet::ProtocolSession::ingraph</a></div><div class="ttdeci">ProtocolGraph * ingraph</div><div class="ttdoc">Points to the protocol graph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00335">protocol_session.h:335</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a912b690126957a1ad90d0c373a4ad4d0"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">s3f::s3fnet::ProtocolSession::Host</a></div><div class="ttdeci">friend class Host</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00040">protocol_session.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ffe57c5dfd8cc847d566acf4581b968"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a>* s3f::s3fnet::ProtocolSession::getRandom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns a pointer to the random number generator. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00200">200</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00338">s3f::s3fnet::ProtocolSession::sess_rng</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">s3f::s3fnet::DroptailQueue::calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="dummy__session_8cc_source.html#l00116">s3f::s3fnet::DummySession::init()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, and <a class="el" href="network__interface_8cc_source.html#l00216">s3f::s3fnet::NetworkInterface::receivePacket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">sess_rng</a>;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a41caeb7af8ef9b2d1b3ead0bedfe63c9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">s3f::s3fnet::ProtocolSession::sess_rng</a></div><div class="ttdeci">Random::RNG * sess_rng</div><div class="ttdoc">Pointer to a random number generator. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00338">protocol_session.h:338</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a8fc3b0c62b09c82b72268b56abb58c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::ProtocolSession::getNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns the current simulation time. </p>
<p>To be safe, please do NOT call this function after initialization and before wrapup phase. That is, it is unsafe to call this method in the constructor, destructor, config, init, and wrapup methods. The time service is carried out by the host's owner community. This method just directs the call to the community. It's given here for convenience. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00123">123</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, and <a class="el" href="entity_8cc_source.html#l00111">Entity::now()</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">s3f::s3fnet::DroptailQueue::calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="tcp__master_8cc_source.html#l00547">s3f::s3fnet::TCPMaster::enableFastTimeout()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00036">s3f::s3fnet::DroptailQueue::enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="tcp__master_8cc_source.html#l00579">s3f::s3fnet::TCPMaster::fast_timer_callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="tcp__session_8h_source.html#l00385">s3f::s3fnet::TCPSession::now()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00610">s3f::s3fnet::TCPMaster::slow_timer_callback_body()</a>, <a class="el" href="socket__master_8cc_source.html#l00162">s3f::s3fnet::SocketMaster::socket()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00173">s3f::s3fnet::NBSocketMaster::socket()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, and <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">now</a>();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="ttc" id="class_entity_html_a303433dc2088519a44e8a56922ec1f0c"><div class="ttname"><a href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">Entity::now</a></div><div class="ttdeci">ltime_t now()</div><div class="ttdoc">Time on Entity&#39;s Timeline, either the time at which the current (or most recent) event on the timelin...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00111">entity.cc:111</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0250c97bad17f18ef7037fd76f7e5083"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For printing the current simulation time in a better readable format. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00128">128</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="host_8cc_source.html#l00316">s3f::s3fnet::Host::getNowWithThousandSeparator()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>.</p>

<p>Referenced by <a class="el" href="udp__session_8cc_source.html#l00095">s3f::s3fnet::UDPSession::abort()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="udp__session_8cc_source.html#l00134">s3f::s3fnet::UDPSession::clear_app_state()</a>, <a class="el" href="udp__session_8cc_source.html#l00041">s3f::s3fnet::UDPSession::connect()</a>, <a class="el" href="tcp__master_8cc_source.html#l00472">s3f::s3fnet::TCPMaster::createSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="udp__server_8cc_source.html#l00348">s3f::s3fnet::UDPServerSession::data_sent()</a>, <a class="el" href="tcp__server_8cc_source.html#l00299">s3f::s3fnet::TCPServerSession::data_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00058">s3f::s3fnet::UDPSession::disconnect()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="ip__session_8cc_source.html#l00567">s3f::s3fnet::IPSession::handle_pop_local_pkt()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">s3f::s3fnet::IPSession::handle_pop_pkt()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="udp__session_8cc_source.html#l00068">s3f::s3fnet::UDPSession::listen()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, <a class="el" href="dummy__session_8cc_source.html#l00200">s3f::s3fnet::DummySession::pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="udp__master_8cc_source.html#l00109">s3f::s3fnet::UDPMaster::pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00416">s3f::s3fnet::TCPMaster::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00410">s3f::s3fnet::IPSession::pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00145">s3f::s3fnet::SimplePhy::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>, <a class="el" href="udp__session_8cc_source.html#l00189">s3f::s3fnet::UDPSession::receive()</a>, <a class="el" href="tcp__receiver_8cc_source.html#l00040">s3f::s3fnet::TCPSession::receive()</a>, <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>, <a class="el" href="udp__server_8cc_source.html#l00283">s3f::s3fnet::UDPServerSession::request_received()</a>, <a class="el" href="tcp__server_8cc_source.html#l00272">s3f::s3fnet::TCPServerSession::request_received()</a>, <a class="el" href="udp__client_8cc_source.html#l00408">s3f::s3fnet::UDPClientSession::request_sent()</a>, <a class="el" href="tcp__client_8cc_source.html#l00412">s3f::s3fnet::TCPClientSession::request_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>, <a class="el" href="simple__phy_8cc_source.html#l00158">s3f::s3fnet::SimplePhy::sendPacket()</a>, <a class="el" href="udp__client_8cc_source.html#l00390">s3f::s3fnet::UDPClientSession::server_connected()</a>, <a class="el" href="tcp__client_8cc_source.html#l00394">s3f::s3fnet::TCPClientSession::server_connected()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00395">s3f::s3fnet::BTCPClientSession::server_connected()</a>, <a class="el" href="udp__server_8cc_source.html#l00371">s3f::s3fnet::UDPServerSession::session_closed()</a>, <a class="el" href="udp__client_8cc_source.html#l00465">s3f::s3fnet::UDPClientSession::session_closed()</a>, <a class="el" href="tcp__client_8cc_source.html#l00469">s3f::s3fnet::TCPClientSession::session_closed()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">s3f::s3fnet::TCPServerSession::session_closed()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00452">s3f::s3fnet::BTCPClientSession::session_closed()</a>, <a class="el" href="tcp__master_8cc_source.html#l00520">s3f::s3fnet::TCPMaster::setConnected()</a>, <a class="el" href="tcp__master_8cc_source.html#l00538">s3f::s3fnet::TCPMaster::setIdle()</a>, <a class="el" href="tcp__master_8cc_source.html#l00529">s3f::s3fnet::TCPMaster::setListening()</a>, <a class="el" href="udp__session_8cc_source.html#l00084">s3f::s3fnet::UDPSession::setSource()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00029">s3f::s3fnet::TCPSession::slowTimeoutHandling()</a>, <a class="el" href="udp__server_8cc_source.html#l00253">s3f::s3fnet::UDPServerSession::start_on()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__server_8cc_source.html#l00224">s3f::s3fnet::TCPServerSession::start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>, <a class="el" href="tcp__session_8cc_source.html#l00029">s3f::s3fnet::TCPSession::TCPSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00521">s3f::s3fnet::UDPClientSession::timeout()</a>, <a class="el" href="tcp__client_8cc_source.html#l00528">s3f::s3fnet::TCPClientSession::timeout()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00512">s3f::s3fnet::BTCPClientSession::timeout()</a>, <a class="el" href="udp__session_8cc_source.html#l00024">s3f::s3fnet::UDPSession::UDPSession()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00134">s3f::s3fnet::TCPSession::update_timeout()</a>, and <a class="el" href="udp__session_8cc_source.html#l00118">s3f::s3fnet::UDPSession::wake_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#ad4e79d11c09dc928b370fbfc5e9c1296">getNowWithThousandSeparator</a>();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_ad4e79d11c09dc928b370fbfc5e9c1296"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#ad4e79d11c09dc928b370fbfc5e9c1296">s3f::s3fnet::Host::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">print out the current simulation time with thousand separator </div><div class="ttdef"><b>Definition:</b> <a href="host_8cc_source.html#l00316">host.cc:316</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a422a77ab55edab25263965f7eaf5458e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::configured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been configured. </p>
<p>This method is used to make sure we configure the protocol session before initializing it. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00221">221</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00053">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a></div><div class="ttdoc">the config method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00053">protocol_session.h:53</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca7233711f9c8c606c611ec97ee29cdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been initialized. </p>
<p>This can be used to sequence calls to the init method of protocol sessions. For example, if protocol session A requires protocol session B to be initialized before A can be initialized, A's init method can call B's init method as long as B's <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb" title="This method returns true if the protocol session has been initialized. ">initialized()</a> returns true. The system does not enforce any ordering in its calls the init methods of all protocol sessions declared in the dml configuration. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00233">233</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00054">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a></div><div class="ttdoc">the init method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00054">protocol_session.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac934416dd1e279568a3bef2e8a6b045d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::wrapped_up </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been wrapped up. </p>
<p>This can be used to sequence calls to the wrapup method of protocol sessions. For example, if protocol session A requires protocol session B to be wrapped up before A can be wrapped up, A's wrapup method can call B's wrapup method as long as B's <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d" title="This method returns true if the protocol session has been wrapped up. ">wrapped_up()</a> returns true. The system does not enforce any ordering in its calls the wrapup methods of all protocol sessions declared in the dml configuration. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00245">245</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00055">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7089cc1e64ae5238d584e140a54ac046"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* s3f::s3fnet::ProtocolSession::psesstype </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_n_b_socket_master.html#a512b27418a69718e5816695ff6180526">s3f::s3fnet::NBSocketMaster</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_socket_master.html#aa9aaee72acf7f9fae2d07551a44f799c">s3f::s3fnet::SocketMaster</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00247">247</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;GENERIC&quot;</span>; } <span class="comment">// DEBUG</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a399f44fe5680907c95aff451e414c98e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::ProtocolSession::instantiation_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method controls how protocol instances can coexist with one another. </p>
<p>It returns one of the following: </p>
<ul>
<li>
PROT_UNIQUE_INSTANCE (default): allows only one instance for each type of protocol per protocol stack; </li>
<li>
PROT_MULTIPLE_INSTANCES: allows multiple instances of the same implementation for each type of protocol per protocol stack; </li>
<li>
PROT_MULTIPLE_IMPLEMENTATIONS: allows multiple instances from different implementations of the same protocol to exist on the protocol stack. </li>
</ul>

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_b_t_c_p_client_session.html#a534c623ca099aabc030db725429acec2">s3f::s3fnet::BTCPClientSession</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_client_session.html#a4f991d67621b12fb8b807813ce750487">s3f::s3fnet::TCPClientSession</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00269">269</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00045">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a>.</p>

<p>Referenced by <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00045">protocol_session.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8ce27a50c5f4c3c1d0ba66d58f514e2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html">NetworkInterface</a>* s3f::s3fnet::OpenFlowSwitchSession::ofctrl_port</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the <a class="el" href="classs3f_1_1s3fnet_1_1_network_interface.html" title="A network interface. ">NetworkInterface</a> of the OpenFlow controller </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00205">205</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="network__interface_8cc_source.html#l00170">s3f::s3fnet::NetworkInterface::init()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>.</p>

</div>
</div>
<a class="anchor" id="af361d2abf6de39eec236783931ab3ffb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool s3f::s3fnet::OpenFlowSwitchSession::is_ctrl_sess</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>whether it connects to an entity-based controller instead of non-entity controller </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00206">206</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00250">DoDispose()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00850">FlowTableLookup()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00112">init()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01360">ReceiveStatsRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00270">SetController()</a>.</p>

</div>
</div>
<a class="anchor" id="a7da7820e442345f5d8f23054ab57540d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaces3f_1_1s3fnet.html#a5c7274abe61228e95befb88dd71eacd1">S3FNET_STRING</a> s3f::s3fnet::OpenFlowSwitchSession::ctrl_nhi</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the nhi of the controller entity </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00207">207</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00096">config()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00270">SetController()</a>.</p>

</div>
</div>
<a class="anchor" id="ad205321d1d08e25c60787d0141cbf66d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_host.html">Host</a>* s3f::s3fnet::OpenFlowSwitchSession::ctrl_host</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the Host* of the active controller </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00208">208</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00270">SetController()</a>.</p>

</div>
</div>
<a class="anchor" id="acea008b911d95513dfd3b348226b7942"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html">OpenFlowControllerSession</a>* s3f::s3fnet::OpenFlowSwitchSession::ctrl_sess</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>pointer of the controller protocol session </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00209">209</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01360">ReceiveStatsRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00270">SetController()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d1e429d8ca72e55e0bb0935da6af9d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_mac48_address.html">Mac48Address</a>* s3f::s3fnet::OpenFlowSwitchSession::m_address</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Address of this device. (the base MAC address, should not be used as for now) </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00463">463</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00321">AddSwitchPort()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>.</p>

</div>
</div>
<a class="anchor" id="a69eadf40c8ebe547b3aafa0face538f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t s3f::s3fnet::OpenFlowSwitchSession::m_mtu</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum Transmission Unit. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00464">464</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00352">GetMtu()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00346">SetMtu()</a>.</p>

</div>
</div>
<a class="anchor" id="af4b5918bd37cb03afe76888e14918af8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#ae9822a8a6f40982dfabd05a9806e7c33">PacketData_t</a> s3f::s3fnet::OpenFlowSwitchSession::m_packetData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Packet data. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00467">467</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00850">FlowTableLookup()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01415">HandleControlInput()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">OutputPacket()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00893">RunThroughFlowTable()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00942">RunThroughVPortTable()</a>.</p>

</div>
</div>
<a class="anchor" id="aa887bedf3d45bb6986458cb7a79b0c2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a9d052e93c22fa356d9b3709058ae542a">Ports_t</a> s3f::s3fnet::OpenFlowSwitchSession::m_ports</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch's ports. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00470">470</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00321">AddSwitchPort()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00250">DoDispose()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01504">GetNSwitchPorts()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01509">GetSwitchPort()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01514">GetSwitchPortIndex()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00066">OpenFlowSwitchSession()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00574">OutputAll()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">OutputPacket()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01076">ReceivePortMod()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00893">RunThroughFlowTable()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00764">SendFeaturesReply()</a>.</p>

</div>
</div>
<a class="anchor" id="a28edeb169b10405f1ef9f092f5c8bfa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_controller.html">Controller</a>* s3f::s3fnet::OpenFlowSwitchSession::np_controller</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection to the non-entity controller; controller is not implemented as a protocol session, but as direct function calls. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00472">472</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00250">DoDispose()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01360">ReceiveStatsRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00686">SendOpenflowBuffer()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00270">SetController()</a>.</p>

</div>
</div>
<a class="anchor" id="a84817dc3e1470e2a78bedb03122afb4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t s3f::s3fnet::OpenFlowSwitchSession::m_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unique identifier for this switch, needed for OpenFlow. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00474">474</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00066">OpenFlowSwitchSession()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00764">SendFeaturesReply()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ab0513cdd57008a35c253aef8e2f02a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::OpenFlowSwitchSession::m_lastExecute</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last time the periodic execution occurred. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00477">477</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>.</p>

</div>
</div>
<a class="anchor" id="a9493689671e854cc8402d2d117f6a1ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t s3f::s3fnet::OpenFlowSwitchSession::m_flags</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flags; configurable by the controller. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00478">478</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01003">ReceiveGetConfigRequest()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01013">ReceiveSetConfig()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00893">RunThroughFlowTable()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00942">RunThroughVPortTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b13a94bcdac3f8782f3e56a51f24b3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t s3f::s3fnet::OpenFlowSwitchSession::m_missSendLen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flow Table Miss Send Length; configurable by the controller. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00479">479</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00850">FlowTableLookup()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01003">ReceiveGetConfigRequest()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l01013">ReceiveSetConfig()</a>.</p>

</div>
</div>
<a class="anchor" id="af35a64ef5599990709776b3741b8ff0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sw_chain* s3f::s3fnet::OpenFlowSwitchSession::m_chain</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flow Table; forwarding rules. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00481">481</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l01140">AddFlow()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00250">DoDispose()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00850">FlowTableLookup()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01499">GetChain()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01227">ModFlow()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00066">OpenFlowSwitchSession()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00161">pop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01278">ReceiveFlow()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00764">SendFeaturesReply()</a>.</p>

</div>
</div>
<a class="anchor" id="a005cd632cc511a17a25ec2d82b448e8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vport_table_t s3f::s3fnet::OpenFlowSwitchSession::m_vportTable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Virtual <a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> Table. </p>

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00482">482</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00376">AddVPort()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00250">DoDispose()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01527">GetVPortTable()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00066">OpenFlowSwitchSession()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01120">ReceiveVPortMod()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00942">RunThroughVPortTable()</a>, and <a class="el" href="openflow__switch__session_8cc_source.html#l00783">SendVPortTableFeatures()</a>.</p>

</div>
</div>
<a class="anchor" id="a692126190f9924e5033fcfbafcdbf002"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t s3f::s3fnet::OpenFlowSwitchSession::DEFAULT_MTU = 1500</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="openflow__switch__session_8h_source.html#l00484">484</a> of file <a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a>.</p>

<p>Referenced by <a class="el" href="openflow__switch__session_8cc_source.html#l00112">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7eedcbe4da39cba727d26f1339ac7c47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* s3f::s3fnet::ProtocolSession::name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Symbolic name of the protocol this session implements. </p>
<p>The name of the protocol is derived from the DML 'name' attribute. It must not be NULL once the protocol session is configured. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00063">63</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="network__interface_8cc_source.html#l00055">s3f::s3fnet::NetworkInterface::config()</a>, <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="simple__mac_8cc_source.html#l00041">s3f::s3fnet::SimpleMac::init()</a>, <a class="el" href="udp__master_8cc_source.html#l00067">s3f::s3fnet::UDPMaster::init()</a>, <a class="el" href="simple__phy_8cc_source.html#l00130">s3f::s3fnet::SimplePhy::init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="socket__master_8cc_source.html#l00042">s3f::s3fnet::SocketMaster::init()</a>, <a class="el" href="ip__session_8cc_source.html#l00076">s3f::s3fnet::IPSession::init()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00042">s3f::s3fnet::NBSocketMaster::init()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>, <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00140">s3f::s3fnet::ProtocolSession::~ProtocolSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a4bb8b1c69b73b59173827f60dc2cacd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float s3f::s3fnet::ProtocolSession::version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Version number of this protocol implemenntation, represented as a floating point number (e.g., 1.23). </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00069">69</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6085e2d490de56b7feec0941b37cf8fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* s3f::s3fnet::ProtocolSession::use</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the protocol class from which this protocol session is instantiated. </p>
<p>The protocol class must be registered with the <a class="el" href="classs3f_1_1s3fnet_1_1_protocols.html" title="Managing protocols. ">Protocols</a> class so that we will be able to instantiate an object from the class. (C++ does not support self-reflection). The class name must not be NULL once the protocol session is configured. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00079">79</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="network__interface_8cc_source.html#l00055">s3f::s3fnet::NetworkInterface::config()</a>, <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00140">s3f::s3fnet::ProtocolSession::~ProtocolSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e93967a56c673f625b486d2fe389067"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a>* s3f::s3fnet::ProtocolSession::ingraph</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Points to the protocol graph. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00335">335</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="nic__protocol__session_8cc_source.html#l00037">s3f::s3fnet::NicProtocolSession::getNetworkInterface()</a>, <a class="el" href="protocol__session_8h_source.html#l00178">s3f::s3fnet::ProtocolSession::inGraph()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>.</p>

</div>
</div>
<a class="anchor" id="a41caeb7af8ef9b2d1b3ead0bedfe63c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a>* s3f::s3fnet::ProtocolSession::sess_rng</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to a random number generator. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00338">338</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8h_source.html#l00200">s3f::s3fnet::ProtocolSession::getRandom()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a446b7857e72ac901402821230f5bcd60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::stage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This variable indicates the current stage of this protocol session. </p>
<p>Each protocol session will go through four staged: PSESS_CREATED, PSESS_CONFIGURED, PSESS_INITIALIZED, and then PSESS_WRAPPED_UP. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00346">346</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="protocol__session_8h_source.html#l00221">s3f::s3fnet::ProtocolSession::configured()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="protocol__session_8h_source.html#l00233">s3f::s3fnet::ProtocolSession::initialized()</a>, <a class="el" href="protocol__session_8h_source.html#l00245">s3f::s3fnet::ProtocolSession::wrapped_up()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="openflow__switch__session_8h_source.html">openflow_switch_session.h</a></li>
<li><a class="el" href="openflow__switch__session_8cc_source.html">openflow_switch_session.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaces3f.html">s3f</a></li><li class="navelem"><a class="el" href="namespaces3f_1_1s3fnet.html">s3fnet</a></li><li class="navelem"><a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html">OpenFlowSwitchSession</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 00:36:02 for S3F by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
