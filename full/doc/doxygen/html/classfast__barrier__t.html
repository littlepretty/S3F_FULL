<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>S3F: fast_barrier_t Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">S3F
   &#160;<span id="projectnumber">2.1.0_full_version</span>
   </div>
   <div id="projectbrief">Simpler Scalable Simulation Framework + S3F-based Network Testbed (Simulation, OpenVZ-based Emulation, and OpenFlow-based SDN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfast__barrier__t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classfast__barrier__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">fast_barrier_t Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Barrier for low-work synchronization.  
 <a href="classfast__barrier__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5cd9ce6b8e327a80185bb5adeed562ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a5cd9ce6b8e327a80185bb5adeed562ef">fast_barrier_t</a> ()</td></tr>
<tr class="memdesc:a5cd9ce6b8e327a80185bb5adeed562ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Barrier constructor.  <a href="#a5cd9ce6b8e327a80185bb5adeed562ef">More...</a><br/></td></tr>
<tr class="separator:a5cd9ce6b8e327a80185bb5adeed562ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a242550466470256aee2ef94469c050a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a242550466470256aee2ef94469c050a1">~fast_barrier_t</a> ()</td></tr>
<tr class="memdesc:a242550466470256aee2ef94469c050a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Barrier destructor.  <a href="#a242550466470256aee2ef94469c050a1">More...</a><br/></td></tr>
<tr class="separator:a242550466470256aee2ef94469c050a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90cf696102703e5cab8fd2a94f8cecec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a90cf696102703e5cab8fd2a94f8cecec">init</a> (int threads)</td></tr>
<tr class="memdesc:a90cf696102703e5cab8fd2a94f8cecec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the barrier to the given number of threads.  <a href="#a90cf696102703e5cab8fd2a94f8cecec">More...</a><br/></td></tr>
<tr class="separator:a90cf696102703e5cab8fd2a94f8cecec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d9f1fffd3c56c70fec68b462e14be2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#af4d9f1fffd3c56c70fec68b462e14be2">destroy</a> ()</td></tr>
<tr class="memdesc:af4d9f1fffd3c56c70fec68b462e14be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the barrier.  <a href="#af4d9f1fffd3c56c70fec68b462e14be2">More...</a><br/></td></tr>
<tr class="separator:af4d9f1fffd3c56c70fec68b462e14be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf195674f6b72bdeffec8293e5b1d192"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#abf195674f6b72bdeffec8293e5b1d192">wait</a> (unsigned tid, <a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> t)</td></tr>
<tr class="memdesc:abf195674f6b72bdeffec8293e5b1d192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for all other threads to arrive at the barrier.  <a href="#abf195674f6b72bdeffec8293e5b1d192">More...</a><br/></td></tr>
<tr class="separator:abf195674f6b72bdeffec8293e5b1d192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d3c5033651ea4774af27082f502348"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#aa0d3c5033651ea4774af27082f502348">get_min_value</a> ()</td></tr>
<tr class="memdesc:aa0d3c5033651ea4774af27082f502348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the minimum reduction value.  <a href="#aa0d3c5033651ea4774af27082f502348">More...</a><br/></td></tr>
<tr class="separator:aa0d3c5033651ea4774af27082f502348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb74880d166c1c8c69e00a8504439502"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#abb74880d166c1c8c69e00a8504439502">get_max_value</a> ()</td></tr>
<tr class="memdesc:abb74880d166c1c8c69e00a8504439502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum reduction value.  <a href="#abb74880d166c1c8c69e00a8504439502">More...</a><br/></td></tr>
<tr class="separator:abb74880d166c1c8c69e00a8504439502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad46b6ca834c4735aeaf07d404c0ac850"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#ad46b6ca834c4735aeaf07d404c0ac850">get_sum_value</a> ()</td></tr>
<tr class="memdesc:ad46b6ca834c4735aeaf07d404c0ac850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the sum of reduction values.  <a href="#ad46b6ca834c4735aeaf07d404c0ac850">More...</a><br/></td></tr>
<tr class="separator:ad46b6ca834c4735aeaf07d404c0ac850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699580a6132a04fb50d825722892372e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a699580a6132a04fb50d825722892372e">lock</a> ()</td></tr>
<tr class="memdesc:a699580a6132a04fb50d825722892372e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the reduction value lock.  <a href="#a699580a6132a04fb50d825722892372e">More...</a><br/></td></tr>
<tr class="separator:a699580a6132a04fb50d825722892372e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947b524219257181ce74b5e7332d7722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a947b524219257181ce74b5e7332d7722">unlock</a> ()</td></tr>
<tr class="memdesc:a947b524219257181ce74b5e7332d7722"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the reduction value lock.  <a href="#a947b524219257181ce74b5e7332d7722">More...</a><br/></td></tr>
<tr class="separator:a947b524219257181ce74b5e7332d7722"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a79125caa4c463b56b9d7ef9e076099be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a79125caa4c463b56b9d7ef9e076099be">update_reduction_values</a> (<a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>)</td></tr>
<tr class="memdesc:a79125caa4c463b56b9d7ef9e076099be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates internal reduction values.  <a href="#a79125caa4c463b56b9d7ef9e076099be">More...</a><br/></td></tr>
<tr class="separator:a79125caa4c463b56b9d7ef9e076099be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac89e69a01d26336637507d07fbb8c759"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#ac89e69a01d26336637507d07fbb8c759">counter</a></td></tr>
<tr class="memdesc:ac89e69a01d26336637507d07fbb8c759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of arrived threads.  <a href="#ac89e69a01d26336637507d07fbb8c759">More...</a><br/></td></tr>
<tr class="separator:ac89e69a01d26336637507d07fbb8c759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07d7d712d4c31ce90d6638338d315b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">min_reduction_value</a></td></tr>
<tr class="memdesc:ac07d7d712d4c31ce90d6638338d315b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum timestamp observed.  <a href="#ac07d7d712d4c31ce90d6638338d315b4">More...</a><br/></td></tr>
<tr class="separator:ac07d7d712d4c31ce90d6638338d315b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f03f28a6ad275eb0cf68b8f11e80dcc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a6f03f28a6ad275eb0cf68b8f11e80dcc">max_reduction_value</a></td></tr>
<tr class="memdesc:a6f03f28a6ad275eb0cf68b8f11e80dcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum timestamp observed.  <a href="#a6f03f28a6ad275eb0cf68b8f11e80dcc">More...</a><br/></td></tr>
<tr class="separator:a6f03f28a6ad275eb0cf68b8f11e80dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795f8104922bfba4dede2fe1ebd08d67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">sum_reduction_value</a> [2]</td></tr>
<tr class="memdesc:a795f8104922bfba4dede2fe1ebd08d67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sum of all reduction values for an iteration.  <a href="#a795f8104922bfba4dede2fe1ebd08d67">More...</a><br/></td></tr>
<tr class="separator:a795f8104922bfba4dede2fe1ebd08d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6789062dbcd870cc4b27404478d219d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a6789062dbcd870cc4b27404478d219d0">count</a></td></tr>
<tr class="memdesc:a6789062dbcd870cc4b27404478d219d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expected number of threads.  <a href="#a6789062dbcd870cc4b27404478d219d0">More...</a><br/></td></tr>
<tr class="separator:a6789062dbcd870cc4b27404478d219d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f510a2badbce26f4ef7d261e2c50e1"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a16f510a2badbce26f4ef7d261e2c50e1">padding</a> [<a class="el" href="fast__tree__barrier_8h.html#af89f60b07247176687889ade776c8e10">CACHE_LINE_SIZE</a>-sizeof(int)]</td></tr>
<tr class="memdesc:a16f510a2badbce26f4ef7d261e2c50e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Padding to keep 'counter' apart from thread data.  <a href="#a16f510a2badbce26f4ef7d261e2c50e1">More...</a><br/></td></tr>
<tr class="separator:a16f510a2badbce26f4ef7d261e2c50e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc09d2e4a212eb1749e7afafa92df977"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">global_sense</a></td></tr>
<tr class="memdesc:afc09d2e4a212eb1749e7afafa92df977"><td class="mdescLeft">&#160;</td><td class="mdescRight">Barrier's global_sense.  <a href="#afc09d2e4a212eb1749e7afafa92df977">More...</a><br/></td></tr>
<tr class="separator:afc09d2e4a212eb1749e7afafa92df977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1732381e3588247869bba91de9f6b25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structthread__data__t.html">thread_data_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a></td></tr>
<tr class="memdesc:ab1732381e3588247869bba91de9f6b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically created array of thread local senses.  <a href="#ab1732381e3588247869bba91de9f6b25">More...</a><br/></td></tr>
<tr class="separator:ab1732381e3588247869bba91de9f6b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c1c908298acee41e6c724e6b7410c3"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">reduction_lock</a></td></tr>
<tr class="memdesc:a62c1c908298acee41e6c724e6b7410c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock for synchronizing reduction values.  <a href="#a62c1c908298acee41e6c724e6b7410c3">More...</a><br/></td></tr>
<tr class="separator:a62c1c908298acee41e6c724e6b7410c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Barrier for low-work synchronization. </p>
<p>Barrier variant designed to get all threads through its lock as quickly as possible (fewest CPU cycles). Can suffer high system time due to sched_yield() for large amounts of work per-thread, particularly when threads are arriving at very different times. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00123">123</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5cd9ce6b8e327a80185bb5adeed562ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fast_barrier_t::fast_barrier_t </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Barrier constructor. </p>
<p>Creates a <a class="el" href="classfast__barrier__t.html" title="Barrier for low-work synchronization. ">fast_barrier_t</a>. Barrier still requires initialization with the number of threads via <a class="el" href="classfast__barrier__t.html#a90cf696102703e5cab8fd2a94f8cecec" title="Initializes the barrier to the given number of threads. ">init()</a>. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classfast__barrier__t.html#a90cf696102703e5cab8fd2a94f8cecec" title="Initializes the barrier to the given number of threads. ">init()</a> </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00131">131</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{};</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a242550466470256aee2ef94469c050a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fast_barrier_t::~fast_barrier_t </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Barrier destructor. </p>
<p>Destroys a <a class="el" href="classfast__barrier__t.html" title="Barrier for low-work synchronization. ">fast_barrier_t</a>. Calls <a class="el" href="classfast__barrier__t.html#af4d9f1fffd3c56c70fec68b462e14be2" title="Destroys the barrier. ">destroy()</a>. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classfast__barrier__t.html#af4d9f1fffd3c56c70fec68b462e14be2" title="Destroys the barrier. ">destroy()</a> </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8cc_source.html#l00030">30</a> of file <a class="el" href="fast__barrier_8cc_source.html">fast_barrier.cc</a>.</p>

<p>References <a class="el" href="fast__barrier_8cc_source.html#l00061">destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                                {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="classfast__barrier__t.html#af4d9f1fffd3c56c70fec68b462e14be2">destroy</a>();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div>
<div class="ttc" id="classfast__barrier__t_html_af4d9f1fffd3c56c70fec68b462e14be2"><div class="ttname"><a href="classfast__barrier__t.html#af4d9f1fffd3c56c70fec68b462e14be2">fast_barrier_t::destroy</a></div><div class="ttdeci">int destroy()</div><div class="ttdoc">Destroys the barrier. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8cc_source.html#l00061">fast_barrier.cc:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a90cf696102703e5cab8fd2a94f8cecec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fast_barrier_t::init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threads</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the barrier to the given number of threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threads</td><td>number of threads that will be synchronized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status (based on pthread_mutex_init's status) </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8cc_source.html#l00037">37</a> of file <a class="el" href="fast__barrier_8cc_source.html">fast_barrier.cc</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00248">count</a>, <a class="el" href="fast__barrier_8h_source.html#l00224">counter</a>, <a class="el" href="fast__barrier_8h_source.html#l00262">global_sense</a>, <a class="el" href="fast__barrier_8h_source.html#l00106">thread_data_t::local_sense</a>, <a class="el" href="fast__barrier_8h_source.html#l00234">max_reduction_value</a>, <a class="el" href="fast__barrier_8h_source.html#l00229">min_reduction_value</a>, <a class="el" href="fast__barrier_8h_source.html#l00275">reduction_lock</a>, <a class="el" href="fast__barrier_8h_source.html#l00241">sum_reduction_value</a>, and <a class="el" href="fast__barrier_8h_source.html#l00267">tdata</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <a class="code" href="classfast__barrier__t.html#ac89e69a01d26336637507d07fbb8c759">counter</a> = 0;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classfast__barrier__t.html#a6789062dbcd870cc4b27404478d219d0">count</a> = threads; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">global_sense</a> = 0;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a> = <span class="keyword">new</span> <a class="code" href="structthread__data__t.html">thread_data_t</a>[threads];</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a>) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i &lt; threads; i++) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a>[i].<a class="code" href="structthread__data__t.html#a2a7d9c6a34f419ce2f6b5545ef340b6f">local_sense</a> = 0;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">min_reduction_value</a> = -1;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classfast__barrier__t.html#a6f03f28a6ad275eb0cf68b8f11e80dcc">max_reduction_value</a> = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">sum_reduction_value</a>[0] = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">sum_reduction_value</a>[1] = 0;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">int</span> err = pthread_mutex_init(&amp;<a class="code" href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">reduction_lock</a>,NULL);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="ttc" id="classfast__barrier__t_html_a795f8104922bfba4dede2fe1ebd08d67"><div class="ttname"><a href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">fast_barrier_t::sum_reduction_value</a></div><div class="ttdeci">ltime_t sum_reduction_value[2]</div><div class="ttdoc">Sum of all reduction values for an iteration. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00241">fast_barrier.h:241</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_a6789062dbcd870cc4b27404478d219d0"><div class="ttname"><a href="classfast__barrier__t.html#a6789062dbcd870cc4b27404478d219d0">fast_barrier_t::count</a></div><div class="ttdeci">int count</div><div class="ttdoc">Expected number of threads. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00248">fast_barrier.h:248</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_a62c1c908298acee41e6c724e6b7410c3"><div class="ttname"><a href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">fast_barrier_t::reduction_lock</a></div><div class="ttdeci">pthread_mutex_t reduction_lock</div><div class="ttdoc">Lock for synchronizing reduction values. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00275">fast_barrier.h:275</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_a6f03f28a6ad275eb0cf68b8f11e80dcc"><div class="ttname"><a href="classfast__barrier__t.html#a6f03f28a6ad275eb0cf68b8f11e80dcc">fast_barrier_t::max_reduction_value</a></div><div class="ttdeci">ltime_t max_reduction_value</div><div class="ttdoc">Maximum timestamp observed. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00234">fast_barrier.h:234</a></div></div>
<div class="ttc" id="structthread__data__t_html_a2a7d9c6a34f419ce2f6b5545ef340b6f"><div class="ttname"><a href="structthread__data__t.html#a2a7d9c6a34f419ce2f6b5545ef340b6f">thread_data_t::local_sense</a></div><div class="ttdeci">int local_sense</div><div class="ttdoc">Thread&#39;s local sense. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00106">fast_barrier.h:106</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_ac07d7d712d4c31ce90d6638338d315b4"><div class="ttname"><a href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">fast_barrier_t::min_reduction_value</a></div><div class="ttdeci">ltime_t min_reduction_value</div><div class="ttdoc">Minimum timestamp observed. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00229">fast_barrier.h:229</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_ab1732381e3588247869bba91de9f6b25"><div class="ttname"><a href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">fast_barrier_t::tdata</a></div><div class="ttdeci">thread_data_t * tdata</div><div class="ttdoc">Dynamically created array of thread local senses. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00267">fast_barrier.h:267</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_ac89e69a01d26336637507d07fbb8c759"><div class="ttname"><a href="classfast__barrier__t.html#ac89e69a01d26336637507d07fbb8c759">fast_barrier_t::counter</a></div><div class="ttdeci">int counter</div><div class="ttdoc">Number of arrived threads. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00224">fast_barrier.h:224</a></div></div>
<div class="ttc" id="structthread__data__t_html"><div class="ttname"><a href="structthread__data__t.html">thread_data_t</a></div><div class="ttdoc">Stores sense of each thread. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00100">fast_barrier.h:100</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_afc09d2e4a212eb1749e7afafa92df977"><div class="ttname"><a href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">fast_barrier_t::global_sense</a></div><div class="ttdeci">volatile int global_sense</div><div class="ttdoc">Barrier&#39;s global_sense. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00262">fast_barrier.h:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4d9f1fffd3c56c70fec68b462e14be2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fast_barrier_t::destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the barrier. </p>
<p>Member function that acts as the destructor and frees the barrier when we're done with it. It may be reinitialized afterwards, for instance to change the number of threads. </p>
<dl class="section return"><dt>Returns</dt><dd>error status (based on pthread_mutex_destroy's status) </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8cc_source.html#l00061">61</a> of file <a class="el" href="fast__barrier_8cc_source.html">fast_barrier.cc</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00275">reduction_lock</a>, and <a class="el" href="fast__barrier_8h_source.html#l00267">tdata</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8cc_source.html#l00030">~fast_barrier_t()</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    printf(<span class="stringliteral">&quot;asked to delete %lx \n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a>) <span class="keyword">delete</span> [] <a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a> = NULL;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">int</span> err = pthread_mutex_destroy(&amp;<a class="code" href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">reduction_lock</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="classfast__barrier__t_html_a62c1c908298acee41e6c724e6b7410c3"><div class="ttname"><a href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">fast_barrier_t::reduction_lock</a></div><div class="ttdeci">pthread_mutex_t reduction_lock</div><div class="ttdoc">Lock for synchronizing reduction values. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00275">fast_barrier.h:275</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_ab1732381e3588247869bba91de9f6b25"><div class="ttname"><a href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">fast_barrier_t::tdata</a></div><div class="ttdeci">thread_data_t * tdata</div><div class="ttdoc">Dynamically created array of thread local senses. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00267">fast_barrier.h:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf195674f6b72bdeffec8293e5b1d192"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fast_barrier_t::wait </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for all other threads to arrive at the barrier. </p>
<p>Wait for all members of a barrier to reach the barrier. Each entry to the barrier offers an ltime_t value. If negative, it is ignored. If non-negative it updates the "min_value", "max_value", and "sum_value" entries of the barrier, replacing it if either the min_value is negative (uninitialized) or greater than the offered time with similiar behaviors for max_value and sum as expected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>the thread id </td></tr>
    <tr><td class="paramname">t</td><td>a reduction value (timestamp) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or -1, -1 indicates final thread </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8cc_source.html#l00078">78</a> of file <a class="el" href="fast__barrier_8cc_source.html">fast_barrier.cc</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00248">count</a>, <a class="el" href="fast__barrier_8h_source.html#l00224">counter</a>, <a class="el" href="fast__barrier_8h_source.html#l00262">global_sense</a>, <a class="el" href="fast__barrier_8h_source.html#l00030">INCREMENT_AND_FETCH</a>, <a class="el" href="fast__barrier_8h_source.html#l00106">thread_data_t::local_sense</a>, <a class="el" href="fast__barrier_8h_source.html#l00043">MY_FUTEX_WAIT</a>, <a class="el" href="fast__barrier_8h_source.html#l00047">MY_FUTEX_WAKE</a>, <a class="el" href="fast__barrier_8h_source.html#l00241">sum_reduction_value</a>, <a class="el" href="fast__barrier_8h_source.html#l00267">tdata</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00097">update_reduction_values()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                 {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classfast__barrier__t.html#a79125caa4c463b56b9d7ef9e076099be">update_reduction_values</a>(t);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// safety mechanism to allow use with subsets of threads</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordtype">unsigned</span> who = tid % <a class="code" href="classfast__barrier__t.html#a6789062dbcd870cc4b27404478d219d0">count</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a>[who].<a class="code" href="structthread__data__t.html#a2a7d9c6a34f419ce2f6b5545ef340b6f">local_sense</a> ^= 1;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="fast__barrier_8h.html#a7c2cdfd87ac586162bba6ec9875a6bde">INCREMENT_AND_FETCH</a>(&amp;<a class="code" href="classfast__barrier__t.html#ac89e69a01d26336637507d07fbb8c759">counter</a>) == <a class="code" href="classfast__barrier__t.html#a6789062dbcd870cc4b27404478d219d0">count</a>) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="classfast__barrier__t.html#ac89e69a01d26336637507d07fbb8c759">counter</a> = 0; <span class="comment">// reset barrier counter</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">sum_reduction_value</a>[<a class="code" href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">tdata</a>[who].<a class="code" href="structthread__data__t.html#a2a7d9c6a34f419ce2f6b5545ef340b6f">local_sense</a>] = 0; <span class="comment">// reset alternate sum for next iteration</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">global_sense</a> = tdata[who].local_sense; <span class="comment">// release other threads</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <a class="code" href="fast__barrier_8h.html#ac05c20e478d6b169f8b20475a2176ada">MY_FUTEX_WAKE</a>()</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        return -1;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    } else {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="fast__barrier_8h.html#a43ed191f3eb42b0c01b23b57aae95d76">MY_FUTEX_WAIT</a>()</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="comment">//while(tdata[who].local_sense != global_sense);</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        return 0;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="ttc" id="classfast__barrier__t_html_a795f8104922bfba4dede2fe1ebd08d67"><div class="ttname"><a href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">fast_barrier_t::sum_reduction_value</a></div><div class="ttdeci">ltime_t sum_reduction_value[2]</div><div class="ttdoc">Sum of all reduction values for an iteration. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00241">fast_barrier.h:241</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_a6789062dbcd870cc4b27404478d219d0"><div class="ttname"><a href="classfast__barrier__t.html#a6789062dbcd870cc4b27404478d219d0">fast_barrier_t::count</a></div><div class="ttdeci">int count</div><div class="ttdoc">Expected number of threads. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00248">fast_barrier.h:248</a></div></div>
<div class="ttc" id="fast__barrier_8h_html_ac05c20e478d6b169f8b20475a2176ada"><div class="ttname"><a href="fast__barrier_8h.html#ac05c20e478d6b169f8b20475a2176ada">MY_FUTEX_WAKE</a></div><div class="ttdeci">#define MY_FUTEX_WAKE()</div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00047">fast_barrier.h:47</a></div></div>
<div class="ttc" id="structthread__data__t_html_a2a7d9c6a34f419ce2f6b5545ef340b6f"><div class="ttname"><a href="structthread__data__t.html#a2a7d9c6a34f419ce2f6b5545ef340b6f">thread_data_t::local_sense</a></div><div class="ttdeci">int local_sense</div><div class="ttdoc">Thread&#39;s local sense. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00106">fast_barrier.h:106</a></div></div>
<div class="ttc" id="fast__barrier_8h_html_a7c2cdfd87ac586162bba6ec9875a6bde"><div class="ttname"><a href="fast__barrier_8h.html#a7c2cdfd87ac586162bba6ec9875a6bde">INCREMENT_AND_FETCH</a></div><div class="ttdeci">#define INCREMENT_AND_FETCH(X)</div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00030">fast_barrier.h:30</a></div></div>
<div class="ttc" id="fast__barrier_8h_html_a43ed191f3eb42b0c01b23b57aae95d76"><div class="ttname"><a href="fast__barrier_8h.html#a43ed191f3eb42b0c01b23b57aae95d76">MY_FUTEX_WAIT</a></div><div class="ttdeci">#define MY_FUTEX_WAIT()</div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00043">fast_barrier.h:43</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_a79125caa4c463b56b9d7ef9e076099be"><div class="ttname"><a href="classfast__barrier__t.html#a79125caa4c463b56b9d7ef9e076099be">fast_barrier_t::update_reduction_values</a></div><div class="ttdeci">void update_reduction_values(ltime_t)</div><div class="ttdoc">Updates internal reduction values. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8cc_source.html#l00097">fast_barrier.cc:97</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_ab1732381e3588247869bba91de9f6b25"><div class="ttname"><a href="classfast__barrier__t.html#ab1732381e3588247869bba91de9f6b25">fast_barrier_t::tdata</a></div><div class="ttdeci">thread_data_t * tdata</div><div class="ttdoc">Dynamically created array of thread local senses. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00267">fast_barrier.h:267</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_ac89e69a01d26336637507d07fbb8c759"><div class="ttname"><a href="classfast__barrier__t.html#ac89e69a01d26336637507d07fbb8c759">fast_barrier_t::counter</a></div><div class="ttdeci">int counter</div><div class="ttdoc">Number of arrived threads. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00224">fast_barrier.h:224</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_afc09d2e4a212eb1749e7afafa92df977"><div class="ttname"><a href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">fast_barrier_t::global_sense</a></div><div class="ttdeci">volatile int global_sense</div><div class="ttdoc">Barrier&#39;s global_sense. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00262">fast_barrier.h:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa0d3c5033651ea4774af27082f502348"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> fast_barrier_t::get_min_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the minimum reduction value. </p>
<p>Returns the minimum time observed for use in calculating the synchronzation window. Warning: The min reduction value may be modified by threads entering the barrier while the barrier is active. If atomic access is needed, use the BARRIER_AUTOLOCK macro. </p>
<dl class="section return"><dt>Returns</dt><dd>min reduction value </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00179">179</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00229">min_reduction_value</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">min_reduction_value</a>; }</div>
<div class="ttc" id="classfast__barrier__t_html_ac07d7d712d4c31ce90d6638338d315b4"><div class="ttname"><a href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">fast_barrier_t::min_reduction_value</a></div><div class="ttdeci">ltime_t min_reduction_value</div><div class="ttdoc">Minimum timestamp observed. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00229">fast_barrier.h:229</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb74880d166c1c8c69e00a8504439502"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> fast_barrier_t::get_max_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the maximum reduction value. </p>
<p>Returns the maximum time observed for use in calculating the synchronzation window. Warning: The max reduction value may be modified by threads entering the barrier while the barrier is active. If atomic access is needed, use the BARRIER_AUTOLOCK macro. </p>
<dl class="section return"><dt>Returns</dt><dd>max reduction value </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00190">190</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00234">max_reduction_value</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfast__barrier__t.html#a6f03f28a6ad275eb0cf68b8f11e80dcc">max_reduction_value</a>; }</div>
<div class="ttc" id="classfast__barrier__t_html_a6f03f28a6ad275eb0cf68b8f11e80dcc"><div class="ttname"><a href="classfast__barrier__t.html#a6f03f28a6ad275eb0cf68b8f11e80dcc">fast_barrier_t::max_reduction_value</a></div><div class="ttdeci">ltime_t max_reduction_value</div><div class="ttdoc">Maximum timestamp observed. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00234">fast_barrier.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad46b6ca834c4735aeaf07d404c0ac850"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> fast_barrier_t::get_sum_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the sum of reduction values. </p>
<p>Returns the sum of all reduction values observed in the previous barrier iteration for use in calculating the synchronzation window. Does not have the same synchronization problems since it gets the sum from the opposite global sense (last iteration). </p>
<dl class="section return"><dt>Returns</dt><dd>previous reduction value sum </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00200">200</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00262">global_sense</a>, and <a class="el" href="fast__barrier_8h_source.html#l00241">sum_reduction_value</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">sum_reduction_value</a>[!<a class="code" href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">global_sense</a>]; }</div>
<div class="ttc" id="classfast__barrier__t_html_a795f8104922bfba4dede2fe1ebd08d67"><div class="ttname"><a href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">fast_barrier_t::sum_reduction_value</a></div><div class="ttdeci">ltime_t sum_reduction_value[2]</div><div class="ttdoc">Sum of all reduction values for an iteration. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00241">fast_barrier.h:241</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_afc09d2e4a212eb1749e7afafa92df977"><div class="ttname"><a href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">fast_barrier_t::global_sense</a></div><div class="ttdeci">volatile int global_sense</div><div class="ttdoc">Barrier&#39;s global_sense. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00262">fast_barrier.h:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a699580a6132a04fb50d825722892372e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fast_barrier_t::lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Locks the reduction value lock. </p>
<p>Acquires exclusive access to read/write reduction values. Warning: <a class="el" href="classfast__barrier__t.html#a699580a6132a04fb50d825722892372e" title="Locks the reduction value lock. ">lock()</a> will freeze barrier progress while active. Use of the BARRIER_AUTOLOCK macro is highly recommended. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classfast__barrier__t.html#a947b524219257181ce74b5e7332d7722" title="Unlocks the reduction value lock. ">unlock()</a> </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00209">209</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00275">reduction_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{ pthread_mutex_lock(&amp;<a class="code" href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">reduction_lock</a>); }</div>
<div class="ttc" id="classfast__barrier__t_html_a62c1c908298acee41e6c724e6b7410c3"><div class="ttname"><a href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">fast_barrier_t::reduction_lock</a></div><div class="ttdeci">pthread_mutex_t reduction_lock</div><div class="ttdoc">Lock for synchronizing reduction values. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00275">fast_barrier.h:275</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a947b524219257181ce74b5e7332d7722"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fast_barrier_t::unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlocks the reduction value lock. </p>
<p>Releases exclusive access of read/write reduction values. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classfast__barrier__t.html#a699580a6132a04fb50d825722892372e" title="Locks the reduction value lock. ">lock()</a> </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00216">216</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00275">reduction_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{ pthread_mutex_unlock(&amp;<a class="code" href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">reduction_lock</a>); }</div>
<div class="ttc" id="classfast__barrier__t_html_a62c1c908298acee41e6c724e6b7410c3"><div class="ttname"><a href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">fast_barrier_t::reduction_lock</a></div><div class="ttdeci">pthread_mutex_t reduction_lock</div><div class="ttdoc">Lock for synchronizing reduction values. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00275">fast_barrier.h:275</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79125caa4c463b56b9d7ef9e076099be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fast_barrier_t::update_reduction_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates internal reduction values. </p>
<p>Called by <a class="el" href="classfast__barrier__t.html#abf195674f6b72bdeffec8293e5b1d192" title="Waits for all other threads to arrive at the barrier. ">wait()</a> to update barrier's internal reduction values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>a thread's reduction value, passed by <a class="el" href="classfast__barrier__t.html#abf195674f6b72bdeffec8293e5b1d192" title="Waits for all other threads to arrive at the barrier. ">wait()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fast__barrier_8cc_source.html#l00097">97</a> of file <a class="el" href="fast__barrier_8cc_source.html">fast_barrier.cc</a>.</p>

<p>References <a class="el" href="fast__barrier_8h_source.html#l00262">global_sense</a>, <a class="el" href="fast__barrier_8h_source.html#l00234">max_reduction_value</a>, <a class="el" href="fast__barrier_8h_source.html#l00229">min_reduction_value</a>, <a class="el" href="fast__barrier_8h_source.html#l00275">reduction_lock</a>, and <a class="el" href="fast__barrier_8h_source.html#l00241">sum_reduction_value</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8cc_source.html#l00078">wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                                             {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// if t is non-negative then use it to update min, max, sum</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span>( t &gt;= 0 ) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        pthread_mutex_lock(&amp;<a class="code" href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">reduction_lock</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">min_reduction_value</a> == -1 || t &lt; <a class="code" href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">min_reduction_value</a> ) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">min_reduction_value</a> = t;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span>( t &gt; <a class="code" href="classfast__barrier__t.html#a6f03f28a6ad275eb0cf68b8f11e80dcc">max_reduction_value</a> ){ </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <a class="code" href="classfast__barrier__t.html#a6f03f28a6ad275eb0cf68b8f11e80dcc">max_reduction_value</a> = t;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">sum_reduction_value</a>[<a class="code" href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">global_sense</a>] += t;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        pthread_mutex_unlock(&amp;<a class="code" href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">reduction_lock</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="ttc" id="classfast__barrier__t_html_a795f8104922bfba4dede2fe1ebd08d67"><div class="ttname"><a href="classfast__barrier__t.html#a795f8104922bfba4dede2fe1ebd08d67">fast_barrier_t::sum_reduction_value</a></div><div class="ttdeci">ltime_t sum_reduction_value[2]</div><div class="ttdoc">Sum of all reduction values for an iteration. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00241">fast_barrier.h:241</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_a62c1c908298acee41e6c724e6b7410c3"><div class="ttname"><a href="classfast__barrier__t.html#a62c1c908298acee41e6c724e6b7410c3">fast_barrier_t::reduction_lock</a></div><div class="ttdeci">pthread_mutex_t reduction_lock</div><div class="ttdoc">Lock for synchronizing reduction values. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00275">fast_barrier.h:275</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_a6f03f28a6ad275eb0cf68b8f11e80dcc"><div class="ttname"><a href="classfast__barrier__t.html#a6f03f28a6ad275eb0cf68b8f11e80dcc">fast_barrier_t::max_reduction_value</a></div><div class="ttdeci">ltime_t max_reduction_value</div><div class="ttdoc">Maximum timestamp observed. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00234">fast_barrier.h:234</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_ac07d7d712d4c31ce90d6638338d315b4"><div class="ttname"><a href="classfast__barrier__t.html#ac07d7d712d4c31ce90d6638338d315b4">fast_barrier_t::min_reduction_value</a></div><div class="ttdeci">ltime_t min_reduction_value</div><div class="ttdoc">Minimum timestamp observed. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00229">fast_barrier.h:229</a></div></div>
<div class="ttc" id="classfast__barrier__t_html_afc09d2e4a212eb1749e7afafa92df977"><div class="ttname"><a href="classfast__barrier__t.html#afc09d2e4a212eb1749e7afafa92df977">fast_barrier_t::global_sense</a></div><div class="ttdeci">volatile int global_sense</div><div class="ttdoc">Barrier&#39;s global_sense. </div><div class="ttdef"><b>Definition:</b> <a href="fast__barrier_8h_source.html#l00262">fast_barrier.h:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac89e69a01d26336637507d07fbb8c759"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int fast_barrier_t::counter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of arrived threads. </p>
<p>Atomic variable that keeps track of the number of threads that have arrived at the barrier. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00224">224</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8cc_source.html#l00037">init()</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00078">wait()</a>.</p>

</div>
</div>
<a class="anchor" id="ac07d7d712d4c31ce90d6638338d315b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> fast_barrier_t::min_reduction_value</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum timestamp observed. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00229">229</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8h_source.html#l00179">get_min_value()</a>, <a class="el" href="fast__barrier_8cc_source.html#l00037">init()</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00097">update_reduction_values()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f03f28a6ad275eb0cf68b8f11e80dcc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> fast_barrier_t::max_reduction_value</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum timestamp observed. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00234">234</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8h_source.html#l00190">get_max_value()</a>, <a class="el" href="fast__barrier_8cc_source.html#l00037">init()</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00097">update_reduction_values()</a>.</p>

</div>
</div>
<a class="anchor" id="a795f8104922bfba4dede2fe1ebd08d67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> fast_barrier_t::sum_reduction_value[2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sum of all reduction values for an iteration. </p>
<p>Indexed by global sense. Always returns previous iteration's sum to avoid contention and unnecessary synchronization. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00241">241</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8h_source.html#l00200">get_sum_value()</a>, <a class="el" href="fast__barrier_8cc_source.html#l00037">init()</a>, <a class="el" href="fast__barrier_8cc_source.html#l00097">update_reduction_values()</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00078">wait()</a>.</p>

</div>
</div>
<a class="anchor" id="a6789062dbcd870cc4b27404478d219d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int fast_barrier_t::count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expected number of threads. </p>
<p>Number of threads the barrier will wait for. Set by <a class="el" href="classfast__barrier__t.html#a90cf696102703e5cab8fd2a94f8cecec" title="Initializes the barrier to the given number of threads. ">init()</a>. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classfast__barrier__t.html#a90cf696102703e5cab8fd2a94f8cecec" title="Initializes the barrier to the given number of threads. ">init()</a> </dd></dl>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00248">248</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8cc_source.html#l00037">init()</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00078">wait()</a>.</p>

</div>
</div>
<a class="anchor" id="a16f510a2badbce26f4ef7d261e2c50e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char fast_barrier_t::padding[<a class="el" href="fast__tree__barrier_8h.html#af89f60b07247176687889ade776c8e10">CACHE_LINE_SIZE</a>-sizeof(int)]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Padding to keep 'counter' apart from thread data. </p>
<p>For best performance, the sense variables MUST NOT be on the same cache line as the atomic barrier counter and reduction values since we spin on them locally and atomic ops will cause a cache line invalidation. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00256">256</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc09d2e4a212eb1749e7afafa92df977"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile int fast_barrier_t::global_sense</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Barrier's global_sense. </p>
<p>Variable for threads to compare their sense to until barrier is released. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00262">262</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8h_source.html#l00200">get_sum_value()</a>, <a class="el" href="fast__barrier_8cc_source.html#l00037">init()</a>, <a class="el" href="fast__barrier_8cc_source.html#l00097">update_reduction_values()</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00078">wait()</a>.</p>

</div>
</div>
<a class="anchor" id="ab1732381e3588247869bba91de9f6b25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structthread__data__t.html">thread_data_t</a>* fast_barrier_t::tdata</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dynamically created array of thread local senses. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00267">267</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8cc_source.html#l00061">destroy()</a>, <a class="el" href="fast__barrier_8cc_source.html#l00037">init()</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00078">wait()</a>.</p>

</div>
</div>
<a class="anchor" id="a62c1c908298acee41e6c724e6b7410c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t fast_barrier_t::reduction_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock for synchronizing reduction values. </p>
<p>While a lock per variable might allow a slight parallel performance gain in some cases, a single lock is easier and avoids the overhead of acquiring and releasing three subsequent locks. </p>

<p>Definition at line <a class="el" href="fast__barrier_8h_source.html#l00275">275</a> of file <a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a>.</p>

<p>Referenced by <a class="el" href="fast__barrier_8cc_source.html#l00061">destroy()</a>, <a class="el" href="fast__barrier_8cc_source.html#l00037">init()</a>, <a class="el" href="fast__barrier_8h_source.html#l00209">lock()</a>, <a class="el" href="fast__barrier_8h_source.html#l00216">unlock()</a>, and <a class="el" href="fast__barrier_8cc_source.html#l00097">update_reduction_values()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="fast__barrier_8h_source.html">fast_barrier.h</a></li>
<li><a class="el" href="fast__barrier_8cc_source.html">fast_barrier.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classfast__barrier__t.html">fast_barrier_t</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 00:36:01 for S3F by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
