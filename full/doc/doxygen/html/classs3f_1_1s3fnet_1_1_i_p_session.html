<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>S3F: s3f::s3fnet::IPSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">S3F
   &#160;<span id="projectnumber">2.1.0_full_version</span>
   </div>
   <div id="projectbrief">Simpler Scalable Simulation Framework + S3F-based Network Testbed (Simulation, OpenVZ-based Emulation, and OpenFlow-based SDN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classs3f_1_1s3fnet_1_1_i_p_session.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classs3f_1_1s3fnet_1_1_i_p_session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">s3f::s3fnet::IPSession Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Internet protocol session.  
 <a href="classs3f_1_1s3fnet_1_1_i_p_session.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ip__session_8h_source.html">ip_session.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for s3f::s3fnet::IPSession:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classs3f_1_1s3fnet_1_1_i_p_session.png" usemap="#s3f::s3fnet::IPSession_map" alt=""/>
  <map id="s3f::s3fnet::IPSession_map" name="s3f::s3fnet::IPSession_map">
<area href="classs3f_1_1s3fnet_1_1_protocol_session.html" title="A protocol layer on the protocol stack. " alt="s3f::s3fnet::ProtocolSession" shape="rect" coords="0,56,166,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a39496fd707502536dbff30988cb01605"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605">IPPushReturn</a> { <br/>
&#160;&#160;<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a67904ac457abba68408ce806186649aa">IPPUSHRET_DOWN_DONE</a> = 0, 
<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a46164ab02542b3ee696ac5f20685518e">IPPUSHRET_TO_LOCAL_DONE</a> = 1, 
<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a41559028ce5629c19e50af3597140803">IPPUSHRET_TO_LOCAL_FAIL</a> = 2, 
<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605ab17a1735a7ab5874018206c731d3f1ce">IPPUSHRET_NO_ROUTE</a> = 3, 
<br/>
&#160;&#160;<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a8d567d0dae05c684cc65260269bb15c7">IPPUSHRET_DROPPED_TTL_LIMIT</a> = 4
<br/>
 }</td></tr>
<tr class="memdesc:a39496fd707502536dbff30988cb01605"><td class="mdescLeft">&#160;</td><td class="mdescRight">All possible return values of IP push operation.  <a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605">More...</a><br/></td></tr>
<tr class="separator:a39496fd707502536dbff30988cb01605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72baff59acaa007993076124adac710c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710c">IPPopReturn</a> { <br/>
&#160;&#160;<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710caf5be2a43077ea34e93eda1418e961ea8">IPPOPRET_UP_DONE</a> = 0, 
<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca38d73a24531ddb2d7e36308d1ea5f2b5">IPPOPRET_FORWARD_DONE</a> = 1, 
<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca2b5d1d101726aab7f317d7a71e23281c">IPPOPRET_DROPPED_BY_FILTER</a> = 2, 
<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710cabde4ffb48268f41a694827460028776d">IPPOPRET_DROPPED_NO_PROTOCOL</a> = 3, 
<br/>
&#160;&#160;<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca0010225ef2f5c611a382512f582cec43">IPPOPRET_DROPPED_NO_ROUTE</a> = 4, 
<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca1a12166f5713b66600747c0470eff3ab">IPPOPRET_DROPPED_TTL_LIMIT</a> = 5, 
<a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca694df602bd3c065cf0c820032ed32811">IPPOPRET_DROPPED_NOT_FOR_ME</a> = 6
<br/>
 }</td></tr>
<tr class="memdesc:a72baff59acaa007993076124adac710c"><td class="mdescLeft">&#160;</td><td class="mdescRight">All possible return values of IP pop operation.  <a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710c">More...</a><br/></td></tr>
<tr class="separator:a72baff59acaa007993076124adac710c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a683dd9bc9c34204838e69790fd82f098"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">InstantiationType</a> { <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a> = 0x00, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">PROT_MULTIPLE_INSTANCES</a> = 0x01, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">PROT_MULTIPLE_IMPLEMENTATIONS</a> = 0x02
 }</td></tr>
<tr class="memdesc:a683dd9bc9c34204838e69790fd82f098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiple protocol session instantiation type.  <a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">More...</a><br/></td></tr>
<tr class="separator:a683dd9bc9c34204838e69790fd82f098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3846269d44f267c44706152b1a78a118"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">ExecutionStage</a> { <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">PSESS_CREATED</a> = 0, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a> = 1, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a> = 2, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a> = 3
 }</td></tr>
<tr class="memdesc:a3846269d44f267c44706152b1a78a118"><td class="mdescLeft">&#160;</td><td class="mdescRight">A normal protocol session must go though the following stages.  <a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">More...</a><br/></td></tr>
<tr class="separator:a3846269d44f267c44706152b1a78a118"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac5e1ccbc93f1fad59146a836b7550877"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#ac5e1ccbc93f1fad59146a836b7550877">IPSession</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *graph)</td></tr>
<tr class="memdesc:ac5e1ccbc93f1fad59146a836b7550877"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor.  <a href="#ac5e1ccbc93f1fad59146a836b7550877">More...</a><br/></td></tr>
<tr class="separator:ac5e1ccbc93f1fad59146a836b7550877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af86ed0d0babc3495538bec281fbd2e49"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#af86ed0d0babc3495538bec281fbd2e49">~IPSession</a> ()</td></tr>
<tr class="memdesc:af86ed0d0babc3495538bec281fbd2e49"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor.  <a href="#af86ed0d0babc3495538bec281fbd2e49">More...</a><br/></td></tr>
<tr class="separator:af86ed0d0babc3495538bec281fbd2e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9691ebb8d38b288d5e5ce5b786276e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a2e9691ebb8d38b288d5e5ce5b786276e">config</a> (s3f::dml::Configuration *cfg)</td></tr>
<tr class="memdesc:a2e9691ebb8d38b288d5e5ce5b786276e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the IP session.  <a href="#a2e9691ebb8d38b288d5e5ce5b786276e">More...</a><br/></td></tr>
<tr class="separator:a2e9691ebb8d38b288d5e5ce5b786276e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9968e984c291766e4c4213a983254b"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a8d9968e984c291766e4c4213a983254b">getProtocolNumber</a> ()</td></tr>
<tr class="memdesc:a8d9968e984c291766e4c4213a983254b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the protocol number.  <a href="#a8d9968e984c291766e4c4213a983254b">More...</a><br/></td></tr>
<tr class="separator:a8d9968e984c291766e4c4213a983254b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5960ba602fa7eb9aab00b9a042a2e972"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a5960ba602fa7eb9aab00b9a042a2e972">init</a> ()</td></tr>
<tr class="memdesc:a5960ba602fa7eb9aab00b9a042a2e972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the IP session.  <a href="#a5960ba602fa7eb9aab00b9a042a2e972">More...</a><br/></td></tr>
<tr class="separator:a5960ba602fa7eb9aab00b9a042a2e972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1704667dd212dc07837efe927ce63b21"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a1704667dd212dc07837efe927ce63b21">control</a> (int ctrltyp, void *ctrlmsg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *sess)</td></tr>
<tr class="memdesc:a1704667dd212dc07837efe927ce63b21"><td class="mdescLeft">&#160;</td><td class="mdescRight">The control method is used by the protocol session to receive control message (or query information) from adjacent protocol sessions both above and below.  <a href="#a1704667dd212dc07837efe927ce63b21">More...</a><br/></td></tr>
<tr class="separator:a1704667dd212dc07837efe927ce63b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca8ed74f33c3dafd45a1b75c3950a36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a2ca8ed74f33c3dafd45a1b75c3950a36">print_payload</a> (const u_char *payload, int len)</td></tr>
<tr class="memdesc:a2ca8ed74f33c3dafd45a1b75c3950a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">print packet payload data (avoid printing binary data)  <a href="#a2ca8ed74f33c3dafd45a1b75c3950a36">More...</a><br/></td></tr>
<tr class="separator:a2ca8ed74f33c3dafd45a1b75c3950a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f426a3140ce4977a05a08c385a1c8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a60f426a3140ce4977a05a08c385a1c8e">print_hex_ascii_line</a> (const u_char *payload, int len, int offset)</td></tr>
<tr class="memdesc:a60f426a3140ce4977a05a08c385a1c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print data in rows of 16 bytes in the format (offset hex ascii).  <a href="#a60f426a3140ce4977a05a08c385a1c8e">More...</a><br/></td></tr>
<tr class="separator:a60f426a3140ce4977a05a08c385a1c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b1d48edbb1aec6b740de60666414f2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a79b1d48edbb1aec6b740de60666414f2">wrapup</a> ()</td></tr>
<tr class="memdesc:a79b1d48edbb1aec6b740de60666414f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method is used to wrap up the protocol session.  <a href="#a79b1d48edbb1aec6b740de60666414f2">More...</a><br/></td></tr>
<tr class="separator:a79b1d48edbb1aec6b740de60666414f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9fa5693373188218eba85c782583e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7">pushdown</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *hi_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:a1a9fa5693373188218eba85c782583e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The original push method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7" title="The original push method is divided into pushdown() and push(). ">pushdown()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">push()</a>.  <a href="#a1a9fa5693373188218eba85c782583e7">More...</a><br/></td></tr>
<tr class="separator:a1a9fa5693373188218eba85c782583e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f962741a6c055135d2cab28ea0b9c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8">popup</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *lo_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:af3f962741a6c055135d2cab28ea0b9c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The original pop method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8" title="The original pop method is divided into popup() and pop(). ">popup()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">pop()</a>.  <a href="#af3f962741a6c055135d2cab28ea0b9c8">More...</a><br/></td></tr>
<tr class="separator:af3f962741a6c055135d2cab28ea0b9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a383bfb5d8385ab3ddbabaeba2e4a38aa">inGraph</a> ()</td></tr>
<tr class="memdesc:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns the protocol graph in which this protocol session resides.  <a href="#a383bfb5d8385ab3ddbabaeba2e4a38aa">More...</a><br/></td></tr>
<tr class="separator:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afadb38bfa4c4daa1049b229d7abce81c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classs3f_1_1s3fnet_1_1_host.html">Host</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a> ()</td></tr>
<tr class="memdesc:afadb38bfa4c4daa1049b229d7abce81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the host owning this protocol session.  <a href="#afadb38bfa4c4daa1049b229d7abce81c">More...</a><br/></td></tr>
<tr class="separator:afadb38bfa4c4daa1049b229d7abce81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffe57c5dfd8cc847d566acf4581b968"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9ffe57c5dfd8cc847d566acf4581b968">getRandom</a> ()</td></tr>
<tr class="memdesc:a9ffe57c5dfd8cc847d566acf4581b968"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns a pointer to the random number generator.  <a href="#a9ffe57c5dfd8cc847d566acf4581b968">More...</a><br/></td></tr>
<tr class="separator:a9ffe57c5dfd8cc847d566acf4581b968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7a8fc3b0c62b09c82b72268b56abb58c">getNow</a> ()</td></tr>
<tr class="memdesc:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns the current simulation time.  <a href="#a7a8fc3b0c62b09c82b72268b56abb58c">More...</a><br/></td></tr>
<tr class="separator:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0250c97bad17f18ef7037fd76f7e5083"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a> ()</td></tr>
<tr class="memdesc:a0250c97bad17f18ef7037fd76f7e5083"><td class="mdescLeft">&#160;</td><td class="mdescRight">For printing the current simulation time in a better readable format.  <a href="#a0250c97bad17f18ef7037fd76f7e5083">More...</a><br/></td></tr>
<tr class="separator:a0250c97bad17f18ef7037fd76f7e5083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422a77ab55edab25263965f7eaf5458e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a422a77ab55edab25263965f7eaf5458e">configured</a> ()</td></tr>
<tr class="memdesc:a422a77ab55edab25263965f7eaf5458e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been configured.  <a href="#a422a77ab55edab25263965f7eaf5458e">More...</a><br/></td></tr>
<tr class="separator:a422a77ab55edab25263965f7eaf5458e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7233711f9c8c606c611ec97ee29cdb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">initialized</a> ()</td></tr>
<tr class="memdesc:aca7233711f9c8c606c611ec97ee29cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been initialized.  <a href="#aca7233711f9c8c606c611ec97ee29cdb">More...</a><br/></td></tr>
<tr class="separator:aca7233711f9c8c606c611ec97ee29cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac934416dd1e279568a3bef2e8a6b045d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">wrapped_up</a> ()</td></tr>
<tr class="memdesc:ac934416dd1e279568a3bef2e8a6b045d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been wrapped up.  <a href="#ac934416dd1e279568a3bef2e8a6b045d">More...</a><br/></td></tr>
<tr class="separator:ac934416dd1e279568a3bef2e8a6b045d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7089cc1e64ae5238d584e140a54ac046"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7089cc1e64ae5238d584e140a54ac046">psesstype</a> ()</td></tr>
<tr class="separator:a7089cc1e64ae5238d584e140a54ac046"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6d6af28c6a27ce3a8dd3b4227855e1eb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a6d6af28c6a27ce3a8dd3b4227855e1eb">strtonum</a> (const char *str)</td></tr>
<tr class="memdesc:a6d6af28c6a27ce3a8dd3b4227855e1eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safe alternative to atoi() if valid numbers could be 0 (which atoi() returns on error).  <a href="#a6d6af28c6a27ce3a8dd3b4227855e1eb">More...</a><br/></td></tr>
<tr class="separator:a6d6af28c6a27ce3a8dd3b4227855e1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7eedcbe4da39cba727d26f1339ac7c47"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a></td></tr>
<tr class="memdesc:a7eedcbe4da39cba727d26f1339ac7c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Symbolic name of the protocol this session implements.  <a href="#a7eedcbe4da39cba727d26f1339ac7c47">More...</a><br/></td></tr>
<tr class="separator:a7eedcbe4da39cba727d26f1339ac7c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a4bb8b1c69b73b59173827f60dc2cacd0">version</a></td></tr>
<tr class="memdesc:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version number of this protocol implemenntation, represented as a floating point number (e.g., 1.23).  <a href="#a4bb8b1c69b73b59173827f60dc2cacd0">More...</a><br/></td></tr>
<tr class="separator:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6085e2d490de56b7feec0941b37cf8fe"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a6085e2d490de56b7feec0941b37cf8fe">use</a></td></tr>
<tr class="memdesc:a6085e2d490de56b7feec0941b37cf8fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the protocol class from which this protocol session is instantiated.  <a href="#a6085e2d490de56b7feec0941b37cf8fe">More...</a><br/></td></tr>
<tr class="separator:a6085e2d490de56b7feec0941b37cf8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afa66f32e3ebc86d154715b965d19994f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#afa66f32e3ebc86d154715b965d19994f">verify_target_ip_address</a> (<a class="el" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a> ipaddr)</td></tr>
<tr class="memdesc:afa66f32e3ebc86d154715b965d19994f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify whether an ip address is acceptable by local ip or not.  <a href="#afa66f32e3ebc86d154715b965d19994f">More...</a><br/></td></tr>
<tr class="separator:afa66f32e3ebc86d154715b965d19994f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474599ddfc68098f161977ce71c11564"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a474599ddfc68098f161977ce71c11564">verify_local_ip_address</a> (<a class="el" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a> ipaddr)</td></tr>
<tr class="memdesc:a474599ddfc68098f161977ce71c11564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify whether an ip address is local or not.  <a href="#a474599ddfc68098f161977ce71c11564">More...</a><br/></td></tr>
<tr class="separator:a474599ddfc68098f161977ce71c11564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78d618a613eeb7d612c352f7f2139241"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a78d618a613eeb7d612c352f7f2139241">load_forwarding_table</a> (s3f::dml::Configuration *cfg)</td></tr>
<tr class="memdesc:a78d618a613eeb7d612c352f7f2139241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load forwarding table.  <a href="#a78d618a613eeb7d612c352f7f2139241">More...</a><br/></td></tr>
<tr class="separator:a78d618a613eeb7d612c352f7f2139241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f29305416d2dffa60f9836cfd05212c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a0f29305416d2dffa60f9836cfd05212c">get_parent_by_protocol</a> (<a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a> protocol)</td></tr>
<tr class="memdesc:a0f29305416d2dffa60f9836cfd05212c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find parent by protocol number.  <a href="#a0f29305416d2dffa60f9836cfd05212c">More...</a><br/></td></tr>
<tr class="separator:a0f29305416d2dffa60f9836cfd05212c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0908838060d870856758906e702bc3cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a0908838060d870856758906e702bc3cf">handle_pop_pkt</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> ip_msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *lo_sess, void *extinfo=NULL, int extinfo_size=0)</td></tr>
<tr class="memdesc:a0908838060d870856758906e702bc3cf"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_handle.html">Handle</a> packets that are popped up.  <a href="#a0908838060d870856758906e702bc3cf">More...</a><br/></td></tr>
<tr class="separator:a0908838060d870856758906e702bc3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527229132cb95fac11aa2bfa14d97de8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a527229132cb95fac11aa2bfa14d97de8">handle_pop_local_pkt</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *lo_sess, void *extinfo=NULL, int extinfo_size=0)</td></tr>
<tr class="memdesc:a527229132cb95fac11aa2bfa14d97de8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_handle.html">Handle</a> packets that are popped up and targetted to this machine.  <a href="#a527229132cb95fac11aa2bfa14d97de8">More...</a><br/></td></tr>
<tr class="separator:a527229132cb95fac11aa2bfa14d97de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399f44fe5680907c95aff451e414c98e"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a399f44fe5680907c95aff451e414c98e">instantiation_type</a> ()</td></tr>
<tr class="memdesc:a399f44fe5680907c95aff451e414c98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method controls how protocol instances can coexist with one another.  <a href="#a399f44fe5680907c95aff451e414c98e">More...</a><br/></td></tr>
<tr class="separator:a399f44fe5680907c95aff451e414c98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9e93967a56c673f625b486d2fe389067"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a></td></tr>
<tr class="memdesc:a9e93967a56c673f625b486d2fe389067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Points to the protocol graph.  <a href="#a9e93967a56c673f625b486d2fe389067">More...</a><br/></td></tr>
<tr class="separator:a9e93967a56c673f625b486d2fe389067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">sess_rng</a></td></tr>
<tr class="memdesc:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a random number generator.  <a href="#a41caeb7af8ef9b2d1b3ead0bedfe63c9">More...</a><br/></td></tr>
<tr class="separator:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446b7857e72ac901402821230f5bcd60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a></td></tr>
<tr class="memdesc:a446b7857e72ac901402821230f5bcd60"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable indicates the current stage of this protocol session.  <a href="#a446b7857e72ac901402821230f5bcd60">More...</a><br/></td></tr>
<tr class="separator:a446b7857e72ac901402821230f5bcd60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7d7df7bd0762bee4a9303f200f394f83"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a7d7df7bd0762bee4a9303f200f394f83">push</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *hi_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:a7d7df7bd0762bee4a9303f200f394f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message down the protocol stack to lower layer.  <a href="#a7d7df7bd0762bee4a9303f200f394f83">More...</a><br/></td></tr>
<tr class="separator:a7d7df7bd0762bee4a9303f200f394f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130a6f149232d55bcf747e991d9c0785"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a130a6f149232d55bcf747e991d9c0785">pop</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *lo_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:a130a6f149232d55bcf747e991d9c0785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data up the protocol stack to the upper layer.  <a href="#a130a6f149232d55bcf747e991d9c0785">More...</a><br/></td></tr>
<tr class="separator:a130a6f149232d55bcf747e991d9c0785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31e721ab7e6d8e0ecc27f3b9974eeb9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#aa31e721ab7e6d8e0ecc27f3b9974eeb9">S3FNET_VECTOR</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> *)*route_vec</td></tr>
<tr class="memdesc:aa31e721ab7e6d8e0ecc27f3b9974eeb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route specified in dml file.  <a href="#aa31e721ab7e6d8e0ecc27f3b9974eeb9">More...</a><br/></td></tr>
<tr class="separator:aa31e721ab7e6d8e0ecc27f3b9974eeb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf438acd1269ce546ff3bf775781543"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a4cf438acd1269ce546ff3bf775781543">S3FNET_VECTOR</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_d_m_l_route_info.html">DMLRouteInfo</a> *)*dml_route_vec</td></tr>
<tr class="separator:a4cf438acd1269ce546ff3bf775781543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac908369efe131f55e842328afe02e9dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#ac908369efe131f55e842328afe02e9dd">S3FNET_VECTOR</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *)*listener_vec</td></tr>
<tr class="separator:ac908369efe131f55e842328afe02e9dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a02c0b0ed8bd28e1f59127229d048d213"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html">ForwardingTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a></td></tr>
<tr class="memdesc:a02c0b0ed8bd28e1f59127229d048d213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forwarding table used to deliver packets.  <a href="#a02c0b0ed8bd28e1f59127229d048d213">More...</a><br/></td></tr>
<tr class="separator:a02c0b0ed8bd28e1f59127229d048d213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85096a1d3fd6310fea4c7f8ae01d3314"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a></td></tr>
<tr class="memdesc:a85096a1d3fd6310fea4c7f8ae01d3314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to print a message when a packet has been dropped.  <a href="#a85096a1d3fd6310fea4c7f8ae01d3314">More...</a><br/></td></tr>
<tr class="separator:a85096a1d3fd6310fea4c7f8ae01d3314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab022a87e3e8a14e9644095ab70e6e476"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#ab022a87e3e8a14e9644095ab70e6e476">pop_intercept_sess</a></td></tr>
<tr class="memdesc:ab022a87e3e8a14e9644095ab70e6e476"><td class="mdescLeft">&#160;</td><td class="mdescRight">session that intercept packet.  <a href="#ab022a87e3e8a14e9644095ab70e6e476">More...</a><br/></td></tr>
<tr class="separator:ab022a87e3e8a14e9644095ab70e6e476"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Internet protocol session. </p>

<p>Definition at line <a class="el" href="ip__session_8h_source.html#l00030">30</a> of file <a class="el" href="ip__session_8h_source.html">ip_session.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a39496fd707502536dbff30988cb01605"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605">s3f::s3fnet::IPSession::IPPushReturn</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All possible return values of IP push operation. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a39496fd707502536dbff30988cb01605a67904ac457abba68408ce806186649aa"></a>IPPUSHRET_DOWN_DONE</em>&#160;</td><td class="fielddoc">
<p>The packet has been pushed down successfully. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a39496fd707502536dbff30988cb01605a46164ab02542b3ee696ac5f20685518e"></a>IPPUSHRET_TO_LOCAL_DONE</em>&#160;</td><td class="fielddoc">
<p>The packet has been dealt with locally by popping up to an upper protocol successfully. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a39496fd707502536dbff30988cb01605a41559028ce5629c19e50af3597140803"></a>IPPUSHRET_TO_LOCAL_FAIL</em>&#160;</td><td class="fielddoc">
<p>The packet cannot be dealt with locally by popping up to an upper protocol successfully. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a39496fd707502536dbff30988cb01605ab17a1735a7ab5874018206c731d3f1ce"></a>IPPUSHRET_NO_ROUTE</em>&#160;</td><td class="fielddoc">
<p>The packet cannot be pushed down due to no route to the destination being found. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a39496fd707502536dbff30988cb01605a8d567d0dae05c684cc65260269bb15c7"></a>IPPUSHRET_DROPPED_TTL_LIMIT</em>&#160;</td><td class="fielddoc">
<p>The packet is dropped due to TTL limit reached. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ip__session_8h_source.html#l00035">35</a> of file <a class="el" href="ip__session_8h_source.html">ip_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                          {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a67904ac457abba68408ce806186649aa">IPPUSHRET_DOWN_DONE</a>         = 0,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a46164ab02542b3ee696ac5f20685518e">IPPUSHRET_TO_LOCAL_DONE</a>     = 1,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a41559028ce5629c19e50af3597140803">IPPUSHRET_TO_LOCAL_FAIL</a>     = 2,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605ab17a1735a7ab5874018206c731d3f1ce">IPPUSHRET_NO_ROUTE</a>          = 3,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a8d567d0dae05c684cc65260269bb15c7">IPPUSHRET_DROPPED_TTL_LIMIT</a> = 4,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605a46164ab02542b3ee696ac5f20685518e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a46164ab02542b3ee696ac5f20685518e">s3f::s3fnet::IPSession::IPPUSHRET_TO_LOCAL_DONE</a></div><div class="ttdoc">The packet has been dealt with locally by popping up to an upper protocol successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00041">ip_session.h:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605a67904ac457abba68408ce806186649aa"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a67904ac457abba68408ce806186649aa">s3f::s3fnet::IPSession::IPPUSHRET_DOWN_DONE</a></div><div class="ttdoc">The packet has been pushed down successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00037">ip_session.h:37</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605ab17a1735a7ab5874018206c731d3f1ce"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605ab17a1735a7ab5874018206c731d3f1ce">s3f::s3fnet::IPSession::IPPUSHRET_NO_ROUTE</a></div><div class="ttdoc">The packet cannot be pushed down due to no route to the destination being found. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00049">ip_session.h:49</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605a41559028ce5629c19e50af3597140803"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a41559028ce5629c19e50af3597140803">s3f::s3fnet::IPSession::IPPUSHRET_TO_LOCAL_FAIL</a></div><div class="ttdoc">The packet cannot be dealt with locally by popping up to an upper protocol successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00045">ip_session.h:45</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605a8d567d0dae05c684cc65260269bb15c7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a8d567d0dae05c684cc65260269bb15c7">s3f::s3fnet::IPSession::IPPUSHRET_DROPPED_TTL_LIMIT</a></div><div class="ttdoc">The packet is dropped due to TTL limit reached. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00052">ip_session.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72baff59acaa007993076124adac710c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710c">s3f::s3fnet::IPSession::IPPopReturn</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All possible return values of IP pop operation. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a72baff59acaa007993076124adac710caf5be2a43077ea34e93eda1418e961ea8"></a>IPPOPRET_UP_DONE</em>&#160;</td><td class="fielddoc">
<p>The packet has been popped up to an upper layer successfully. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a72baff59acaa007993076124adac710ca38d73a24531ddb2d7e36308d1ea5f2b5"></a>IPPOPRET_FORWARD_DONE</em>&#160;</td><td class="fielddoc">
<p>The packet has been forwarded successfully. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a72baff59acaa007993076124adac710ca2b5d1d101726aab7f317d7a71e23281c"></a>IPPOPRET_DROPPED_BY_FILTER</em>&#160;</td><td class="fielddoc">
<p>The packet is dropped by the filter (i.e., the intercept session). </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a72baff59acaa007993076124adac710cabde4ffb48268f41a694827460028776d"></a>IPPOPRET_DROPPED_NO_PROTOCOL</em>&#160;</td><td class="fielddoc">
<p>The packet is dropped due to no matching protocol on this host. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a72baff59acaa007993076124adac710ca0010225ef2f5c611a382512f582cec43"></a>IPPOPRET_DROPPED_NO_ROUTE</em>&#160;</td><td class="fielddoc">
<p>The packet is dropped due to no route found. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a72baff59acaa007993076124adac710ca1a12166f5713b66600747c0470eff3ab"></a>IPPOPRET_DROPPED_TTL_LIMIT</em>&#160;</td><td class="fielddoc">
<p>The packet is dropped due to TTL limit reached. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a72baff59acaa007993076124adac710ca694df602bd3c065cf0c820032ed32811"></a>IPPOPRET_DROPPED_NOT_FOR_ME</em>&#160;</td><td class="fielddoc">
<p>The packet is dropped because it is not for this end host. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ip__session_8h_source.html#l00058">58</a> of file <a class="el" href="ip__session_8h_source.html">ip_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                         {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710caf5be2a43077ea34e93eda1418e961ea8">IPPOPRET_UP_DONE</a> = 0,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca38d73a24531ddb2d7e36308d1ea5f2b5">IPPOPRET_FORWARD_DONE</a>        = 1,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca2b5d1d101726aab7f317d7a71e23281c">IPPOPRET_DROPPED_BY_FILTER</a>   = 2,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710cabde4ffb48268f41a694827460028776d">IPPOPRET_DROPPED_NO_PROTOCOL</a> = 3,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca0010225ef2f5c611a382512f582cec43">IPPOPRET_DROPPED_NO_ROUTE</a>    = 4,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca1a12166f5713b66600747c0470eff3ab">IPPOPRET_DROPPED_TTL_LIMIT</a>   = 5,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca694df602bd3c065cf0c820032ed32811">IPPOPRET_DROPPED_NOT_FOR_ME</a>   = 6,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710ca2b5d1d101726aab7f317d7a71e23281c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca2b5d1d101726aab7f317d7a71e23281c">s3f::s3fnet::IPSession::IPPOPRET_DROPPED_BY_FILTER</a></div><div class="ttdoc">The packet is dropped by the filter (i.e., the intercept session). </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00068">ip_session.h:68</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710cabde4ffb48268f41a694827460028776d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710cabde4ffb48268f41a694827460028776d">s3f::s3fnet::IPSession::IPPOPRET_DROPPED_NO_PROTOCOL</a></div><div class="ttdoc">The packet is dropped due to no matching protocol on this host. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00072">ip_session.h:72</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710ca1a12166f5713b66600747c0470eff3ab"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca1a12166f5713b66600747c0470eff3ab">s3f::s3fnet::IPSession::IPPOPRET_DROPPED_TTL_LIMIT</a></div><div class="ttdoc">The packet is dropped due to TTL limit reached. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00078">ip_session.h:78</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710ca0010225ef2f5c611a382512f582cec43"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca0010225ef2f5c611a382512f582cec43">s3f::s3fnet::IPSession::IPPOPRET_DROPPED_NO_ROUTE</a></div><div class="ttdoc">The packet is dropped due to no route found. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00075">ip_session.h:75</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710ca38d73a24531ddb2d7e36308d1ea5f2b5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca38d73a24531ddb2d7e36308d1ea5f2b5">s3f::s3fnet::IPSession::IPPOPRET_FORWARD_DONE</a></div><div class="ttdoc">The packet has been forwarded successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00064">ip_session.h:64</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710ca694df602bd3c065cf0c820032ed32811"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca694df602bd3c065cf0c820032ed32811">s3f::s3fnet::IPSession::IPPOPRET_DROPPED_NOT_FOR_ME</a></div><div class="ttdoc">The packet is dropped because it is not for this end host. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00081">ip_session.h:81</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710caf5be2a43077ea34e93eda1418e961ea8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710caf5be2a43077ea34e93eda1418e961ea8">s3f::s3fnet::IPSession::IPPOPRET_UP_DONE</a></div><div class="ttdoc">The packet has been popped up to an upper layer successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00061">ip_session.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a683dd9bc9c34204838e69790fd82f098"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">s3f::s3fnet::ProtocolSession::InstantiationType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Multiple protocol session instantiation type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"></a>PROT_UNIQUE_INSTANCE</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4"></a>PROT_MULTIPLE_INSTANCES</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3"></a>PROT_MULTIPLE_IMPLEMENTATIONS</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00044">44</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                         {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a>                = 0x00,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">PROT_MULTIPLE_INSTANCES</a>             = 0x01,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">PROT_MULTIPLE_IMPLEMENTATIONS</a>       = 0x02</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00045">protocol_session.h:45</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">s3f::s3fnet::ProtocolSession::PROT_MULTIPLE_INSTANCES</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00046">protocol_session.h:46</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">s3f::s3fnet::ProtocolSession::PROT_MULTIPLE_IMPLEMENTATIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00047">protocol_session.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3846269d44f267c44706152b1a78a118"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">s3f::s3fnet::ProtocolSession::ExecutionStage</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A normal protocol session must go though the following stages. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798"></a>PSESS_CREATED</em>&#160;</td><td class="fielddoc">
<p>this protocol session has just been created </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"></a>PSESS_CONFIGURED</em>&#160;</td><td class="fielddoc">
<p>the config method of this protocol session has been called </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"></a>PSESS_INITIALIZED</em>&#160;</td><td class="fielddoc">
<p>the init method of this protocol session has been called </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"></a>PSESS_WRAPPED_UP</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00051">51</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                      {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">PSESS_CREATED</a>       = 0, </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a>    = 1, </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a>   = 2, </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>    = 3 </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a></div><div class="ttdoc">the config method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00053">protocol_session.h:53</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a></div><div class="ttdoc">the init method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00054">protocol_session.h:54</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">s3f::s3fnet::ProtocolSession::PSESS_CREATED</a></div><div class="ttdoc">this protocol session has just been created </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00052">protocol_session.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac5e1ccbc93f1fad59146a836b7550877"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::IPSession::IPSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td>
          <td class="paramname"><em>graph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The constructor. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00030">30</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, and <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                                         : </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">ProtocolSession</a>(graph),</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>(0), <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  route_vec(0), dml_route_vec(0), listener_vec(0),</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#ab022a87e3e8a14e9644095ab70e6e476">pop_intercept_sess</a>(0)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] new ip session.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()));</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a02c0b0ed8bd28e1f59127229d048d213"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">s3f::s3fnet::IPSession::forwarding_table</a></div><div class="ttdeci">ForwardingTable * forwarding_table</div><div class="ttdoc">Forwarding table used to deliver packets. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00216">ip_session.h:216</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a85096a1d3fd6310fea4c7f8ae01d3314"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">s3f::s3fnet::IPSession::show_drop</a></div><div class="ttdeci">bool show_drop</div><div class="ttdoc">Whether to print a message when a packet has been dropped. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00219">ip_session.h:219</a></div></div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a191ad0501ff266c035a8bc46da1a01a1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">s3f::s3fnet::ProtocolSession::ProtocolSession</a></div><div class="ttdeci">ProtocolSession(ProtocolGraph *graph)</div><div class="ttdoc">The constructor is protected; only called from ProtocolGraph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00134">protocol_session.cc:134</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_ab022a87e3e8a14e9644095ab70e6e476"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#ab022a87e3e8a14e9644095ab70e6e476">s3f::s3fnet::IPSession::pop_intercept_sess</a></div><div class="ttdeci">ProtocolSession * pop_intercept_sess</div><div class="ttdoc">session that intercept packet. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00227">ip_session.h:227</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af86ed0d0babc3495538bec281fbd2e49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::IPSession::~IPSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00039">39</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="ip__session_8h_source.html#l00216">forwarding_table</a>, and <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(printf(<span class="stringliteral">&quot;delete ip session.\n&quot;</span>));</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordflow">if</span>(route_vec)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i=0; i&lt;route_vec-&gt;size(); i++)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <span class="keyword">delete</span> (*route_vec)[i];</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keyword">delete</span> route_vec;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span>(dml_route_vec)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i=0; i&lt;dml_route_vec-&gt;size(); i++)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keyword">delete</span> (*dml_route_vec)[i];</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">delete</span> dml_route_vec;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">if</span>(listener_vec) <span class="keyword">delete</span> listener_vec;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>) <span class="keyword">delete</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a02c0b0ed8bd28e1f59127229d048d213"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">s3f::s3fnet::IPSession::forwarding_table</a></div><div class="ttdeci">ForwardingTable * forwarding_table</div><div class="ttdoc">Forwarding table used to deliver packets. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00216">ip_session.h:216</a></div></div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2e9691ebb8d38b288d5e5ce5b786276e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::IPSession::config </td>
          <td>(</td>
          <td class="paramtype">s3f::dml::Configuration *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the IP session. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00060">60</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>, and <a class="el" href="ip__session_8h_source.html#l00219">show_drop</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{   </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] config().\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">ProtocolSession::config</a>(cfg);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">char</span>* str = (<span class="keywordtype">char</span>*) cfg-&gt;findSingle(<span class="stringliteral">&quot;show_drop&quot;</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span>(str)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">if</span>(s3f::dml::dmlConfig::isConf(str))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: IPSession::config(), invalid SHOW_DROP attribute.\n&quot;</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">if</span>(!strcasecmp(str, <span class="stringliteral">&quot;true&quot;</span>)) <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcasecmp(str, <span class="stringliteral">&quot;false&quot;</span>)) <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: IPSession::config(), invalid SHOW_DROP: %s.\n&quot;</span>, str);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a85096a1d3fd6310fea4c7f8ae01d3314"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">s3f::s3fnet::IPSession::show_drop</a></div><div class="ttdeci">bool show_drop</div><div class="ttdoc">Whether to print a message when a packet has been dropped. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00219">ip_session.h:219</a></div></div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a5de6e730825a580093d46aa930341768"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">s3f::s3fnet::ProtocolSession::config</a></div><div class="ttdeci">virtual void config(s3f::dml::Configuration *cfg)</div><div class="ttdoc">The config method is used to configure the protocol session from DML description. ...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00021">protocol_session.cc:21</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d9968e984c291766e4c4213a983254b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::IPSession::getProtocolNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the protocol number. </p>
<p>This specifies the relationship between this protocol and the other protocols defined in the same protocol stack. </p>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad429740335f45371f2bce23c753dfa6f">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="ip__session_8h_source.html#l00099">99</a> of file <a class="el" href="ip__session_8h_source.html">ip_session.h</a>.</p>

<p>References <a class="el" href="s3fnet_8h_source.html#l00120">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_IPV4</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a10fb24fea3af18598d73c9795b9d88ee">S3FNET_PROTOCOL_TYPE_IPV4</a>; }</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a2d885d995be52ebf39a06e881ec67919a10fb24fea3af18598d73c9795b9d88ee"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919a10fb24fea3af18598d73c9795b9d88ee">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_IPV4</a></div><div class="ttdoc">The Internet Protocol (IP) version 4. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00120">s3fnet.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5960ba602fa7eb9aab00b9a042a2e972"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::IPSession::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the IP session. </p>
<p>This function will be called after the entire network is read in and configured and all the links are connected, but before the simulation starts running. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00076">76</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="forwardingtable_8cc_source.html#l00422">s3f::s3fnet::ForwardingTable::addListener()</a>, <a class="el" href="ip__prefix_8h_source.html#l00132">s3f::s3fnet::IPPrefix::addr</a>, <a class="el" href="forwardingtable_8cc_source.html#l00288">s3f::s3fnet::ForwardingTable::addRoute()</a>, <a class="el" href="forwardingtable_8h_source.html#l00099">s3f::s3fnet::RouteInfo::destination</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="ip__session_8h_source.html#l00216">forwarding_table</a>, <a class="el" href="forwardingtable_8h_source.html#l00026">FT_ROUTE_SUCCESS</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>, <a class="el" href="s3fnet_8h_source.html#l00074">IP_PROTOCOL_NAME</a>, <a class="el" href="protocol__session_8h_source.html#l00063">s3f::s3fnet::ProtocolSession::name</a>, <a class="el" href="s3fnet_8h_source.html#l00073">NET_PROTOCOL_NAME</a>, and <a class="el" href="forwardingtable_8cc_source.html#l00152">s3f::s3fnet::RouteInfo::resolve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{ </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] init().\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()));</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">ProtocolSession::init</a>();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span>(strcasecmp(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>, <a class="code" href="s3fnet_8h.html#a10ec224c07a50e6e68e972907096f36d">NET_PROTOCOL_NAME</a>) &amp;&amp; strcasecmp(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>, <a class="code" href="s3fnet_8h.html#a6f73b4e16e59edf432427a55e2618be3">IP_PROTOCOL_NAME</a>))</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: IpSession::init(), unmatched protocol name: \&quot;%s\&quot;, expecting \&quot;NET\&quot; or \&quot;IP\&quot;.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// create a forwarding table for this machine</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a> = <span class="keyword">new</span> ForwardingTable(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// we need to add those routes specified in DML file.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span>(route_vec)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordtype">int</span> size = route_vec-&gt;size();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        RouteInfo* route = (*route_vec)[i]-&gt;resolve(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">if</span>(route)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;              <span class="keywordtype">int</span> ret = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">addRoute</a>(route);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;              <span class="keywordflow">if</span>(ret != <a class="code" href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a>)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;              {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                        fprintf(stderr, <span class="stringliteral">&quot;IPSession::init(), duplicate route to \&quot;%s\&quot; on host nhi=\&quot;%s\&quot;.\n&quot;</span>,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                    <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(route-&gt;destination.addr), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString());</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;              }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="comment">// finally, remove the vector.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keyword">delete</span> route_vec;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      route_vec = 0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span>(dml_route_vec)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordtype">int</span> size = dml_route_vec-&gt;size();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="comment">// route type is static by default (ML)</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            RouteInfo* route = (*dml_route_vec)[i]-&gt;resolve(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>());</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">if</span>(route)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;              <span class="keywordtype">int</span> ret = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">addRoute</a>(route);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;              <span class="keywordflow">if</span>(ret != <a class="code" href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;              {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        fprintf(stderr, <span class="stringliteral">&quot;IPSession::init(), duplicate route to \&quot;%s\&quot; on host nhi=\&quot;%s\&quot;.\n&quot;</span>,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(route-&gt;destination.addr), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString());</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;              }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="comment">// finally, remove the vector.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++) <span class="keyword">delete</span> (*dml_route_vec)[i];</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keyword">delete</span> dml_route_vec;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      dml_route_vec = 0;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span>(listener_vec)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keywordtype">int</span> size = listener_vec-&gt;size();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">ProtocolSession</a>* sess = (*listener_vec)[i];</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aee3427ecece113aadafc0b7b7652274f">addListener</a>(sess);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keyword">delete</span> listener_vec;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      listener_vec = 0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a02c0b0ed8bd28e1f59127229d048d213"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">s3f::s3fnet::IPSession::forwarding_table</a></div><div class="ttdeci">ForwardingTable * forwarding_table</div><div class="ttdoc">Forwarding table used to deliver packets. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00216">ip_session.h:216</a></div></div>
<div class="ttc" id="s3fnet_8h_html_a10ec224c07a50e6e68e972907096f36d"><div class="ttname"><a href="s3fnet_8h.html#a10ec224c07a50e6e68e972907096f36d">NET_PROTOCOL_NAME</a></div><div class="ttdeci">#define NET_PROTOCOL_NAME</div><div class="ttdoc">Network layer session name. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00073">s3fnet.h:73</a></div></div>
<div class="ttc" id="s3fnet_8h_html_a6f73b4e16e59edf432427a55e2618be3"><div class="ttname"><a href="s3fnet_8h.html#a6f73b4e16e59edf432427a55e2618be3">IP_PROTOCOL_NAME</a></div><div class="ttdeci">#define IP_PROTOCOL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00074">s3fnet.h:74</a></div></div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a191ad0501ff266c035a8bc46da1a01a1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">s3f::s3fnet::ProtocolSession::ProtocolSession</a></div><div class="ttdeci">ProtocolSession(ProtocolGraph *graph)</div><div class="ttdoc">The constructor is protected; only called from ProtocolGraph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00134">protocol_session.cc:134</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a4a0c4c144848f3a8ae761653053b0897"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">s3f::s3fnet::ForwardingTable::addRoute</a></div><div class="ttdeci">int addRoute(RouteInfo *route, bool replace=true)</div><div class="ttdoc">Add the preferred route to a given ip prefix. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00288">forwardingtable.cc:288</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ac21a50a19e7b326bd8b97f7844f45856"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">s3f::s3fnet::ProtocolSession::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdoc">The method is used to initialize the protocol session once the protocol session has been created and ...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00041">protocol_session.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="forwardingtable_8h_html_afc97b904215bfa9cec978167172d6c25"><div class="ttname"><a href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a></div><div class="ttdeci">#define FT_ROUTE_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00026">forwardingtable.h:26</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a7eedcbe4da39cba727d26f1339ac7c47"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">s3f::s3fnet::ProtocolSession::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Symbolic name of the protocol this session implements. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00063">protocol_session.h:63</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_aee3427ecece113aadafc0b7b7652274f"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aee3427ecece113aadafc0b7b7652274f">s3f::s3fnet::ForwardingTable::addListener</a></div><div class="ttdeci">void addListener(ProtocolSession *sess)</div><div class="ttdoc">Add a listener protocol session, who wish to be notified of the changes to the forwarding table...</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00422">forwardingtable.cc:422</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1704667dd212dc07837efe927ce63b21"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::IPSession::control </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ctrltyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctrlmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>sess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The control method is used by the protocol session to receive control message (or query information) from adjacent protocol sessions both above and below. </p>
<p>The protocol session invoking this method will have a reference to itself in the third argument. The control messages are distinguished by types. The message type is an integer; its meaning is specified by the particular protocol. The control message is of type void* and should be cast to the appropriate types accordingly. Note that the caller is responsible to reclaim the control message once the method returns. The method returns an integer, indicating whether the control message is successfully processed. Unless specified otherwise, a zero means success. Nonzero means trouble and the returned value can be used as the error number, the meaning of which is specified by each particular protocol. The default behavior does nothing except returning zero. </p>
<pre>
[ctrltyp = IP_CTRL_VERIFY_LOCAL_ADDRESS]:
   ctrlmsg should be a pointer to a 32-bit destination address.
   if the returned value is 1, it means that it is a local ip address;
   if the returned value is 0, it means that it is not a local ip address.
   NOTE THIS METHOD DOES NOT CONFIRM TO THE ORIGINAL DESIGN PHYLOSOPHY;
   THE RETURN VALUE INDICATES WHETHER THE ADDRESS IS LOCAL, RATHER
   THAN WHETHER THE CONTROL CALL IS SUCCESSFUL.</pre><pre>[ctrltyp = IP_CTRL_GET_FORWARDING_TABLE]:
   ctrlmsg should be a pointer to a pointer to a forwarding table. The forwarding
   table of the host will be assigned to that point.
   0 is always returned.</pre><pre>[ctrltype = IP_CTRL_LOAD_FORWARDING_TABLE]:
   ctrlmsg is a pointer to the configuration. It forces the IP to create a forwarding table and
   read in the entries from the the configuraion. 0 is always returned.</pre><pre>[ctrltyp = IP_CTRL_INSERT_ROUTE]:
   ctrlmsg should be a pointer to a <a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html" title="A route entry of a forwarding table. ">RouteInfo</a> object. Insert the <a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html" title="A route entry of a forwarding table. ">RouteInfo</a> object
   to the forwarding table.
   0 is always returned.</pre><pre>[ctrltyp = IP_CTRL_DELETE_ROUTE]:
   ctrlmsg should be a pointer to a <a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html" title="A route entry of a forwarding table. ">RouteInfo</a> object. Delete the <a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html" title="A route entry of a forwarding table. ">RouteInfo</a> object
   from the forwarding table.
   0 is always returned.</pre><pre>[ctrltyp = IP_CTRL_INSERT_DMLROUTE]:
   ctrlmsg should be a pointer to a <a class="el" href="classs3f_1_1s3fnet_1_1_d_m_l_route_info.html" title="ROUTE and NHI_ROUTE attributes from DML. ">DMLRouteInfo</a> object. Convert and insert the <a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html" title="A route entry of a forwarding table. ">RouteInfo</a> object
   to the forwarding table.
   0 is always returned.</pre><pre>[ctrltype = IP_CTRL_ADD_INTERCEPT_SESSION]:
   the caller will be set as the intercept session; there can be at most
   only one session that intercepts all pop up IP packets.
   return 0 if succeeded; abort on error.</pre><pre>[ctrltyp = IP_CTRL_PUSH_REQUEST]:
   ctrlmsg should be a pointer to an <a class="el" href="classs3f_1_1s3fnet_1_1_i_p_push_request.html" title="Push request received from lower layers. ">IPPushRequest</a> object. The
   push method is called as if the message is pushed from the
   protocol session above IP.</pre><pre>[ctrltyp = IP_CTRL_ADD_FIB_LISTENTER]:
   set the caller to be the protocol session who wish to receive a
   notification upon changes to the forwarding table.
   0 is always returned.
</pre> 
<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a806b5f5786984f8bc40421e92d19fe3e">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00148">148</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="forwardingtable_8cc_source.html#l00422">s3f::s3fnet::ForwardingTable::addListener()</a>, <a class="el" href="ip__prefix_8h_source.html#l00132">s3f::s3fnet::IPPrefix::addr</a>, <a class="el" href="forwardingtable_8cc_source.html#l00288">s3f::s3fnet::ForwardingTable::addRoute()</a>, <a class="el" href="protocol__session_8cc_source.html#l00092">s3f::s3fnet::ProtocolSession::control()</a>, <a class="el" href="forwardingtable_8h_source.html#l00099">s3f::s3fnet::RouteInfo::destination</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="ip__session_8h_source.html#l00216">forwarding_table</a>, <a class="el" href="forwardingtable_8h_source.html#l00029">FT_ROUTE_NOT_FOUND</a>, <a class="el" href="forwardingtable_8h_source.html#l00026">FT_ROUTE_SUCCESS</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, <a class="el" href="s3fnet_8h_source.html#l00333">s3f::s3fnet::IP_CTRL_ADD_FIB_LISTENER</a>, <a class="el" href="s3fnet_8h_source.html#l00326">s3f::s3fnet::IP_CTRL_ADD_INTERCEPT_SESSION</a>, <a class="el" href="s3fnet_8h_source.html#l00320">s3f::s3fnet::IP_CTRL_DELETE_ROUTE</a>, <a class="el" href="s3fnet_8h_source.html#l00311">s3f::s3fnet::IP_CTRL_GET_FORWARDING_TABLE</a>, <a class="el" href="s3fnet_8h_source.html#l00323">s3f::s3fnet::IP_CTRL_INSERT_DMLROUTE</a>, <a class="el" href="s3fnet_8h_source.html#l00317">s3f::s3fnet::IP_CTRL_INSERT_ROUTE</a>, <a class="el" href="s3fnet_8h_source.html#l00314">s3f::s3fnet::IP_CTRL_LOAD_FORWARDING_TABLE</a>, <a class="el" href="s3fnet_8h_source.html#l00330">s3f::s3fnet::IP_CTRL_PUSH_REQUEST</a>, <a class="el" href="s3fnet_8h_source.html#l00308">s3f::s3fnet::IP_CTRL_VERIFY_LOCAL_IP_ADDRESS</a>, <a class="el" href="s3fnet_8h_source.html#l00305">s3f::s3fnet::IP_CTRL_VERIFY_TARGET_IP_ADDRESS</a>, <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>, <a class="el" href="ip__session_8cc_source.html#l00437">load_forwarding_table()</a>, <a class="el" href="ip__interface_8h_source.html#l00129">s3f::s3fnet::IPPushRequest::msg</a>, <a class="el" href="ip__interface_8h_source.html#l00126">s3f::s3fnet::IPPushRequest::options</a>, <a class="el" href="ip__session_8h_source.html#l00227">pop_intercept_sess</a>, <a class="el" href="protocol__session_8cc_source.html#l00072">s3f::s3fnet::ProtocolSession::pushdown()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00321">s3f::s3fnet::ForwardingTable::removeRoute()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00152">s3f::s3fnet::RouteInfo::resolve()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00495">s3f::s3fnet::DMLRouteInfo::resolve()</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#aa31e721ab7e6d8e0ecc27f3b9974eeb9">S3FNET_VECTOR()</a>, <a class="el" href="ip__session_8cc_source.html#l00423">verify_local_ip_address()</a>, and <a class="el" href="ip__session_8cc_source.html#l00429">verify_target_ip_address()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00437">load_forwarding_table()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] control(): type=%d.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), ctrltyp));</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">switch</span>(ctrltyp) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ab660724d9f5e45f494cb70ba17869ff6">IP_CTRL_VERIFY_TARGET_IP_ADDRESS</a>: {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// ctrlmsg should be a pointer to a 32-bit destination address.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#afa66f32e3ebc86d154715b965d19994f">verify_target_ip_address</a>(*((<a class="code" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>*)ctrlmsg));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a5f21b3abdb4be35a2b3ec9c1c8733707">IP_CTRL_VERIFY_LOCAL_IP_ADDRESS</a>: {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// ctrlmsg should be a pointer to a 32-bit destination address.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a474599ddfc68098f161977ce71c11564">verify_local_ip_address</a>(*((<a class="code" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>*)ctrlmsg));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a133452a8ef300d8539505e5a030cc3d4">IP_CTRL_GET_FORWARDING_TABLE</a>: {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// ctrlmsg should be a pointer to a pointer to a forwarding table.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    *((ForwardingTable**)ctrlmsg) = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ae7c45d4899550d648013f038dcb5d48d">IP_CTRL_LOAD_FORWARDING_TABLE</a>: {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a78d618a613eeb7d612c352f7f2139241">load_forwarding_table</a>((s3f::dml::Configuration*)ctrlmsg);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ac81aafee957c6a07f6070dd7fa25acdf">IP_CTRL_INSERT_ROUTE</a>: {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// ctrlmsg should be a pointer to a RouteInfo object.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    RouteInfo* route = (RouteInfo*)ctrlmsg;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">if</span>(route-&gt;resolve(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()))</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      { <span class="comment">// if resolved, it&#39;ll return itself</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordtype">int</span> ret = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">addRoute</a>(route);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span>(ret != <a class="code" href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a>)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                  fprintf(stderr, <span class="stringliteral">&quot;IPSession::control(IP_CTRL_INSERT_ROUTE), duplicate route to \&quot;%s\&quot;.\n&quot;</span>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(route-&gt;destination.addr));</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span>(!route_vec) route_vec = <span class="keyword">new</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#aa31e721ab7e6d8e0ecc27f3b9974eeb9">S3FNET_VECTOR</a>(RouteInfo*);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      route_vec-&gt;push_back(route);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223aca593a7415c4d33879f45c75c60c1098">IP_CTRL_DELETE_ROUTE</a>: {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// ctrlmsg should be a pointer to a prefix.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    RouteInfo* route = (RouteInfo*)ctrlmsg;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">if</span>(route-&gt;resolve(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()))</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      { <span class="comment">// if resolved, it&#39;ll return itself</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordtype">int</span> ret = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a5393e68dec7441c36305d4af1d3f6c5c">removeRoute</a>(route);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">if</span>(ret == <a class="code" href="forwardingtable_8h.html#a86a482d5e64eac35d97d9ba832cdbb92">FT_ROUTE_NOT_FOUND</a>)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;              fprintf(stderr, <span class="stringliteral">&quot;IPSession::control(IP_CTRL_DELETE_ROUTE), delete route to \&quot;%s\&quot; not found.\n&quot;</span>,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(route-&gt;destination.addr));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;IPSession::control(IP_CTRL_DELETE_ROUTE), delete route to \&quot;%s\&quot; from empty table.\n&quot;</span>,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(route-&gt;destination.addr));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a90616937b76444fae8700e256ddd6e4c">IP_CTRL_INSERT_DMLROUTE</a>: {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// ctrlmsg should be a pointer to a DMLRouteInfo object.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    DMLRouteInfo* dml_route = (DMLRouteInfo*)ctrlmsg;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      RouteInfo* route = dml_route-&gt;resolve(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>());</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span>(route)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordtype">int</span> ret = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">addRoute</a>(route);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">if</span>(ret != <a class="code" href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a>)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                  fprintf(stderr, <span class="stringliteral">&quot;IPSession::control(IP_CTRL_INSERT_DMLROUTE), duplicate route to \&quot;%s\&quot;.\n&quot;</span>,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(route-&gt;destination.addr));</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keyword">delete</span> dml_route;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">if</span>(!dml_route_vec) dml_route_vec = <span class="keyword">new</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#aa31e721ab7e6d8e0ecc27f3b9974eeb9">S3FNET_VECTOR</a>(DMLRouteInfo*);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      dml_route_vec-&gt;push_back(dml_route);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a6cdf4960a75559e5c462a5fa7b64a22d">IP_CTRL_ADD_INTERCEPT_SESSION</a>: {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#ab022a87e3e8a14e9644095ab70e6e476">pop_intercept_sess</a>)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: IPSession::control(), duplicate intercept session; only one allowed.\n&quot;</span>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#ab022a87e3e8a14e9644095ab70e6e476">pop_intercept_sess</a> = sess;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a7d8164ceca67f416de34c8410cc369f7">IP_CTRL_PUSH_REQUEST</a>: {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    IPPushRequest* req = (IPPushRequest*)ctrlmsg;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    assert(req &amp;&amp; req-&gt;options &amp;&amp; req-&gt;msg);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7">pushdown</a>(req-&gt;msg, 0, req-&gt;options, <span class="keyword">sizeof</span>(IPPushOption)); </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a2b3ba49ec2bc7433825f417e7ec8840c">IP_CTRL_ADD_FIB_LISTENER</a>: {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>) <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aee3427ecece113aadafc0b7b7652274f">addListener</a>(sess);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">if</span>(!listener_vec) listener_vec = <span class="keyword">new</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#aa31e721ab7e6d8e0ecc27f3b9974eeb9">S3FNET_VECTOR</a>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">ProtocolSession</a>*);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      listener_vec-&gt;push_back(sess);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a806b5f5786984f8bc40421e92d19fe3e">ProtocolSession::control</a>(ctrltyp, ctrlmsg, sess); </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  } </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a7d8164ceca67f416de34c8410cc369f7"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a7d8164ceca67f416de34c8410cc369f7">s3f::s3fnet::IP_CTRL_PUSH_REQUEST</a></div><div class="ttdoc">Push a protocol message down through IP (same as through the pushdown() method). </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00330">s3fnet.h:330</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223aca593a7415c4d33879f45c75c60c1098"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223aca593a7415c4d33879f45c75c60c1098">s3f::s3fnet::IP_CTRL_DELETE_ROUTE</a></div><div class="ttdoc">Insert a new route. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00320">s3fnet.h:320</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a133452a8ef300d8539505e5a030cc3d4"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a133452a8ef300d8539505e5a030cc3d4">s3f::s3fnet::IP_CTRL_GET_FORWARDING_TABLE</a></div><div class="ttdoc">Get the forwarding table on the host. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00311">s3fnet.h:311</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a806b5f5786984f8bc40421e92d19fe3e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a806b5f5786984f8bc40421e92d19fe3e">s3f::s3fnet::ProtocolSession::control</a></div><div class="ttdeci">virtual int control(int ctrltyp, void *ctrlmsg, ProtocolSession *sess)</div><div class="ttdoc">The control method is used by the protocol session to receive control messages (or information querie...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00092">protocol_session.cc:92</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a1a9fa5693373188218eba85c782583e7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7">s3f::s3fnet::ProtocolSession::pushdown</a></div><div class="ttdeci">int pushdown(Activation msg, ProtocolSession *hi_sess, void *extinfo=0, size_t extinfo_size=0)</div><div class="ttdoc">The original push method is divided into pushdown() and push(). </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00072">protocol_session.cc:72</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223ae7c45d4899550d648013f038dcb5d48d"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ae7c45d4899550d648013f038dcb5d48d">s3f::s3fnet::IP_CTRL_LOAD_FORWARDING_TABLE</a></div><div class="ttdoc">Load forwarding table from DML. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00314">s3fnet.h:314</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a02c0b0ed8bd28e1f59127229d048d213"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">s3f::s3fnet::IPSession::forwarding_table</a></div><div class="ttdeci">ForwardingTable * forwarding_table</div><div class="ttdoc">Forwarding table used to deliver packets. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00216">ip_session.h:216</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223ac81aafee957c6a07f6070dd7fa25acdf"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ac81aafee957c6a07f6070dd7fa25acdf">s3f::s3fnet::IP_CTRL_INSERT_ROUTE</a></div><div class="ttdoc">Insert a new route. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00317">s3fnet.h:317</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_af9913b509c50836bbe30b0a16b2500b9"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">s3f::s3fnet::uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdoc">32-bit unsigned integer type </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00035">s3fnet.h:35</a></div></div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a5393e68dec7441c36305d4af1d3f6c5c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a5393e68dec7441c36305d4af1d3f6c5c">s3f::s3fnet::ForwardingTable::removeRoute</a></div><div class="ttdeci">int removeRoute(RouteInfo *route)</div><div class="ttdoc">Remove a route from the forwarding table to a given ip prefix. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00321">forwardingtable.cc:321</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a191ad0501ff266c035a8bc46da1a01a1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">s3f::s3fnet::ProtocolSession::ProtocolSession</a></div><div class="ttdeci">ProtocolSession(ProtocolGraph *graph)</div><div class="ttdoc">The constructor is protected; only called from ProtocolGraph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00134">protocol_session.cc:134</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a5f21b3abdb4be35a2b3ec9c1c8733707"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a5f21b3abdb4be35a2b3ec9c1c8733707">s3f::s3fnet::IP_CTRL_VERIFY_LOCAL_IP_ADDRESS</a></div><div class="ttdoc">Check whether a given ip address is local. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00308">s3fnet.h:308</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_afa66f32e3ebc86d154715b965d19994f"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#afa66f32e3ebc86d154715b965d19994f">s3f::s3fnet::IPSession::verify_target_ip_address</a></div><div class="ttdeci">bool verify_target_ip_address(IPADDR ipaddr)</div><div class="ttdoc">Verify whether an ip address is acceptable by local ip or not. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00429">ip_session.cc:429</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223ab660724d9f5e45f494cb70ba17869ff6"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ab660724d9f5e45f494cb70ba17869ff6">s3f::s3fnet::IP_CTRL_VERIFY_TARGET_IP_ADDRESS</a></div><div class="ttdoc">Check whether a given ip address is acceptable by local ip. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00305">s3fnet.h:305</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a4a0c4c144848f3a8ae761653053b0897"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">s3f::s3fnet::ForwardingTable::addRoute</a></div><div class="ttdeci">int addRoute(RouteInfo *route, bool replace=true)</div><div class="ttdoc">Add the preferred route to a given ip prefix. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00288">forwardingtable.cc:288</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a90616937b76444fae8700e256ddd6e4c"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a90616937b76444fae8700e256ddd6e4c">s3f::s3fnet::IP_CTRL_INSERT_DMLROUTE</a></div><div class="ttdoc">Insert a new dml route. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00323">s3fnet.h:323</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_ab022a87e3e8a14e9644095ab70e6e476"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#ab022a87e3e8a14e9644095ab70e6e476">s3f::s3fnet::IPSession::pop_intercept_sess</a></div><div class="ttdeci">ProtocolSession * pop_intercept_sess</div><div class="ttdoc">session that intercept packet. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00227">ip_session.h:227</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a6cdf4960a75559e5c462a5fa7b64a22d"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a6cdf4960a75559e5c462a5fa7b64a22d">s3f::s3fnet::IP_CTRL_ADD_INTERCEPT_SESSION</a></div><div class="ttdoc">Add an intercepting session to support packet capturing. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00326">s3fnet.h:326</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="forwardingtable_8h_html_a86a482d5e64eac35d97d9ba832cdbb92"><div class="ttname"><a href="forwardingtable_8h.html#a86a482d5e64eac35d97d9ba832cdbb92">FT_ROUTE_NOT_FOUND</a></div><div class="ttdeci">#define FT_ROUTE_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00029">forwardingtable.h:29</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_aa31e721ab7e6d8e0ecc27f3b9974eeb9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#aa31e721ab7e6d8e0ecc27f3b9974eeb9">s3f::s3fnet::IPSession::S3FNET_VECTOR</a></div><div class="ttdeci">S3FNET_VECTOR(RouteInfo *)*route_vec</div><div class="ttdoc">Route specified in dml file. </div></div>
<div class="ttc" id="forwardingtable_8h_html_afc97b904215bfa9cec978167172d6c25"><div class="ttname"><a href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a></div><div class="ttdeci">#define FT_ROUTE_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00026">forwardingtable.h:26</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a474599ddfc68098f161977ce71c11564"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a474599ddfc68098f161977ce71c11564">s3f::s3fnet::IPSession::verify_local_ip_address</a></div><div class="ttdeci">bool verify_local_ip_address(IPADDR ipaddr)</div><div class="ttdoc">Verify whether an ip address is local or not. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00423">ip_session.cc:423</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a78d618a613eeb7d612c352f7f2139241"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a78d618a613eeb7d612c352f7f2139241">s3f::s3fnet::IPSession::load_forwarding_table</a></div><div class="ttdeci">void load_forwarding_table(s3f::dml::Configuration *cfg)</div><div class="ttdoc">Load forwarding table. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00437">ip_session.cc:437</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a2b3ba49ec2bc7433825f417e7ec8840c"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a2b3ba49ec2bc7433825f417e7ec8840c">s3f::s3fnet::IP_CTRL_ADD_FIB_LISTENER</a></div><div class="ttdoc">Inform FIB listener protocol sessions of routes being added. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00333">s3fnet.h:333</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_aee3427ecece113aadafc0b7b7652274f"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aee3427ecece113aadafc0b7b7652274f">s3f::s3fnet::ForwardingTable::addListener</a></div><div class="ttdeci">void addListener(ProtocolSession *sess)</div><div class="ttdoc">Add a listener protocol session, who wish to be notified of the changes to the forwarding table...</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00422">forwardingtable.cc:422</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d6af28c6a27ce3a8dd3b4227855e1eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::IPSession::strtonum </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Safe alternative to atoi() if valid numbers could be 0 (which atoi() returns on error). </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00611">611</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00437">load_forwarding_table()</a>.</p>
<div class="fragment"><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                                       {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    std::istringstream iss(str);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordtype">int</span> res;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    iss &gt;&gt; std::ws &gt;&gt; res &gt;&gt; std::ws;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span>(!iss.eof()) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> res; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ca8ed74f33c3dafd45a1b75c3950a36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::IPSession::print_payload </td>
          <td>(</td>
          <td class="paramtype">const u_char *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print packet payload data (avoid printing binary data) </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00668">668</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="ip__session_8cc_source.html#l00624">print_hex_ascii_line()</a>.</p>
<div class="fragment"><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;{</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordtype">int</span> len_rem = len;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordtype">int</span> line_width = 16;                    <span class="comment">/* number of bytes per line */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordtype">int</span> line_len;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordtype">int</span> offset = 0;                                 <span class="comment">/* zero-based offset counter */</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keyword">const</span> u_char *ch = payload;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">if</span> (len &lt;= 0)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="comment">/* data fits on one line */</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">if</span> (len &lt;= line_width) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a60f426a3140ce4977a05a08c385a1c8e">print_hex_ascii_line</a>(ch, len, offset);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="comment">/* data spans multiple lines */</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">for</span> ( ;; ) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                <span class="comment">/* compute current line length */</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                line_len = line_width % len_rem;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                <span class="comment">/* print line */</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a60f426a3140ce4977a05a08c385a1c8e">print_hex_ascii_line</a>(ch, line_len, offset);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                <span class="comment">/* compute total remaining */</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                len_rem = len_rem - line_len;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                <span class="comment">/* shift pointer to remaining bytes to print */</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                ch = ch + line_len;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                <span class="comment">/* add offset */</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                offset = offset + line_width;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <span class="comment">/* check if we have line width chars or less */</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">if</span> (len_rem &lt;= line_width) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                        <span class="comment">/* print last line and get out */</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a60f426a3140ce4977a05a08c385a1c8e">print_hex_ascii_line</a>(ch, len_rem, offset);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a60f426a3140ce4977a05a08c385a1c8e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a60f426a3140ce4977a05a08c385a1c8e">s3f::s3fnet::IPSession::print_hex_ascii_line</a></div><div class="ttdeci">void print_hex_ascii_line(const u_char *payload, int len, int offset)</div><div class="ttdoc">Print data in rows of 16 bytes in the format (offset hex ascii). </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00624">ip_session.cc:624</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60f426a3140ce4977a05a08c385a1c8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::IPSession::print_hex_ascii_line </td>
          <td>(</td>
          <td class="paramtype">const u_char *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print data in rows of 16 bytes in the format (offset hex ascii). </p>
<p>00000 47 45 54 20 2f 20 48 54 54 50 2f 31 2e 31 0d 0a GET / HTTP/1.1.. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00624">624</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00668">print_payload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;{</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordtype">int</span> gap;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keyword">const</span> u_char *ch;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="comment">/* offset */</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        printf(<span class="stringliteral">&quot;%05d   &quot;</span>, offset);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">/* hex */</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        ch = payload;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; len; i++) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                printf(<span class="stringliteral">&quot;%02x &quot;</span>, *ch);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                ch++;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="comment">/* print extra space after 8th byte for visual aid */</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <span class="keywordflow">if</span> (i == 7)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                        printf(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="comment">/* print space to handle line less than 8 bytes */</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">if</span> (len &lt; 8)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                printf(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="comment">/* fill hex gap with spaces if not full line */</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">if</span> (len &lt; 16) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                gap = 16 - len;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">for</span> (i = 0; i &lt; gap; i++) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                        printf(<span class="stringliteral">&quot;   &quot;</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        printf(<span class="stringliteral">&quot;   &quot;</span>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="comment">/* ascii (if printable) */</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        ch = payload;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; len; i++) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                <span class="keywordflow">if</span> (isprint(*ch))</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                        printf(<span class="stringliteral">&quot;%c&quot;</span>, *ch);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                        printf(<span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                ch++;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7d7df7bd0762bee4a9303f200f394f83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::IPSession::push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>hi_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a message down the protocol stack to lower layer. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00282">282</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="protocol__message_8cc_source.html#l00027">s3f::s3fnet::ProtocolMessage::carryPayload()</a>, <a class="el" href="ip__interface_8h_source.html#l00020">DEFAULT_IP_TIMETOLIVE</a>, <a class="el" href="ip__interface_8h_source.html#l00042">s3f::s3fnet::IPPushOption::dst_ip</a>, <a class="el" href="ip__message_8h_source.html#l00065">s3f::s3fnet::IPMessage::dst_ip</a>, <a class="el" href="ip__interface_8h_source.html#l00089">s3f::s3fnet::IPOptionToAbove::dst_ip</a>, <a class="el" href="message_8h_source.html#l00026">Message::erase_all()</a>, <a class="el" href="ip__session_8h_source.html#l00216">forwarding_table</a>, <a class="el" href="network__interface_8h_source.html#l00081">s3f::s3fnet::NetworkInterface::getHighestProtocolSession()</a>, <a class="el" href="network__interface_8h_source.html#l00062">s3f::s3fnet::NetworkInterface::getIP()</a>, <a class="el" href="host_8cc_source.html#l00259">s3f::s3fnet::Host::getNetworkInterface()</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00348">s3f::s3fnet::ForwardingTable::getRoute()</a>, <a class="el" href="ip__interface_8h_source.html#l00051">s3f::s3fnet::IPPushOption::iface_id</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>, <a class="el" href="ip__prefix_8h_source.html#l00073">s3f::s3fnet::IPADDR_INADDR_ANY</a>, <a class="el" href="ip__session_8h_source.html#l00037">IPPUSHRET_DOWN_DONE</a>, <a class="el" href="ip__session_8h_source.html#l00052">IPPUSHRET_DROPPED_TTL_LIMIT</a>, <a class="el" href="ip__session_8h_source.html#l00049">IPPUSHRET_NO_ROUTE</a>, <a class="el" href="ip__session_8h_source.html#l00041">IPPUSHRET_TO_LOCAL_DONE</a>, <a class="el" href="ip__session_8h_source.html#l00045">IPPUSHRET_TO_LOCAL_FAIL</a>, <a class="el" href="forwardingtable_8h_source.html#l00105">s3f::s3fnet::RouteInfo::nic</a>, <a class="el" href="protocol__session_8cc_source.html#l00077">s3f::s3fnet::ProtocolSession::popup()</a>, <a class="el" href="ip__interface_8h_source.html#l00045">s3f::s3fnet::IPPushOption::prot_id</a>, <a class="el" href="protocol__session_8cc_source.html#l00072">s3f::s3fnet::ProtocolSession::pushdown()</a>, <a class="el" href="ip__session_8h_source.html#l00219">show_drop</a>, <a class="el" href="ip__interface_8h_source.html#l00039">s3f::s3fnet::IPPushOption::src_ip</a>, <a class="el" href="ip__message_8h_source.html#l00062">s3f::s3fnet::IPMessage::src_ip</a>, <a class="el" href="ip__interface_8h_source.html#l00086">s3f::s3fnet::IPOptionToAbove::src_ip</a>, <a class="el" href="protocol__message_8cc_source.html#l00074">s3f::s3fnet::ProtocolMessage::totalRealBytes()</a>, <a class="el" href="ip__interface_8h_source.html#l00048">s3f::s3fnet::IPPushOption::ttl</a>, <a class="el" href="ip__interface_8h_source.html#l00092">s3f::s3fnet::IPOptionToAbove::ttl</a>, and <a class="el" href="ip__session_8cc_source.html#l00423">verify_local_ip_address()</a>.</p>
<div class="fragment"><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        assert(msg);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        assert(extinfo_size == <span class="keyword">sizeof</span>(IPPushOption));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        IPPushOption* pushopt = (IPPushOption*)extinfo;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="comment">// handle the case that the packet is sent to itself</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a474599ddfc68098f161977ce71c11564">verify_local_ip_address</a>(pushopt-&gt;dst_ip))</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <span class="keywordflow">if</span>(hi_sess)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        <span class="comment">// if the protocol is found on local stack</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: send itself a packet for protocol %u.\n&quot;</span>,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                        <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(), pushopt-&gt;prot_id));</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        <span class="comment">// extended information for ip address information</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        IPOptionToAbove ipupopt;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                        ipupopt.src_ip = pushopt-&gt;src_ip;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                        ipupopt.dst_ip = pushopt-&gt;dst_ip;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                        ipupopt.ttl = <a class="code" href="ip__interface_8h.html#ac6469e7d24a82b82ca1a0ca5179fdd7f">DEFAULT_IP_TIMETOLIVE</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                        <span class="comment">// if the upper layer has not set the source ip address, reset</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <span class="comment">// it to the same as the destination.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="namespaces3f_1_1s3fnet.html#a5a54af4b5c7ef7d6ad0dc93b735a95bfaa59dff1fcc920469318372b6ecce2718">IPADDR_INADDR_ANY</a> == ipupopt.src_ip) ipupopt.src_ip = ipupopt.dst_ip;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        hi_sess-&gt;popup(msg, <span class="keyword">this</span>, (<span class="keywordtype">void</span>*)&amp;ipupopt, <span class="keyword">sizeof</span>(IPOptionToAbove));</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a46164ab02542b3ee696ac5f20685518e">IPPUSHRET_TO_LOCAL_DONE</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        <span class="comment">// no such protocol, drop the packet directly (no need for icmp)</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a>)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                        {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: drop a local packet of missing protocol %u.\n&quot;</span>,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                                <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(), pushopt-&gt;prot_id);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                        }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        msg-&gt;<a class="code" href="class_message.html#af97c9fcc0e56fd93c742cf0946c3793e">erase_all</a>();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a41559028ce5629c19e50af3597140803">IPPUSHRET_TO_LOCAL_FAIL</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        } <span class="comment">// end of the send-to-self case</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">if</span>(pushopt-&gt;ttl == 0) <span class="comment">//Reach TTL limit</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a>)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                        printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: drop packet due to ttl.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>());</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                msg-&gt;<a class="code" href="class_message.html#af97c9fcc0e56fd93c742cf0946c3793e">erase_all</a>();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a8d567d0dae05c684cc65260269bb15c7">IPPUSHRET_DROPPED_TTL_LIMIT</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="comment">// figure out the outgoing interface in case it&#39;s not specified</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">NetworkInterface</a>* outgoing_nic = 0;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordtype">void</span>* route_info = 0;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;isOpenVZEmu() == <span class="keyword">true</span>) <span class="comment">// outgoing_nic is obtained from the interface id info in EmuPacket</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="comment">//default iface_id is 0</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                outgoing_nic = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#a5bf2b1dffed50d5eda07083f6810c21c">getNetworkInterface</a>(pushopt-&gt;iface_id);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                assert(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                RouteInfo* pRoute = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a01a8a1d09de4df61a7a1c5e5119809a8">getRoute</a>(pushopt-&gt;dst_ip);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">if</span>(0 == pRoute)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a>)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                        {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: no route to \&quot;%s\&quot;, dropping Packet.\n&quot;</span>,</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                                <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(), <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(pushopt-&gt;dst_ip));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        msg-&gt;<a class="code" href="class_message.html#af97c9fcc0e56fd93c742cf0946c3793e">erase_all</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605ab17a1735a7ab5874018206c731d3f1ce">IPPUSHRET_NO_ROUTE</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                outgoing_nic = pRoute-&gt;nic;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                route_info = (<span class="keywordtype">void</span>*)pRoute;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        assert(outgoing_nic);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="comment">/* Figure out the source ip address and destination ip address.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">         * If the src ip address designated by the upper layer is INADDR_ANY,</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">         * it will be changed as the network interface&#39;s ip address.*/</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a> src_ip;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="namespaces3f_1_1s3fnet.html#a5a54af4b5c7ef7d6ad0dc93b735a95bfaa59dff1fcc920469318372b6ecce2718">IPADDR_INADDR_ANY</a> == pushopt-&gt;src_ip) src_ip = outgoing_nic-&gt;getIP();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">else</span> src_ip = pushopt-&gt;src_ip;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="comment">// create ip_msg (ip header and upper layer msg as payload)</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="comment">// note: IP header is not needed for pure emulation case (i.e., every host/switch/router entity is attached to an openVZ-based VE), but it is needed for mixed sim/emu case</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        IPMessage* ip_message = <span class="keyword">new</span> IPMessage(src_ip, pushopt-&gt;dst_ip, pushopt-&gt;prot_id, pushopt-&gt;ttl);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        ip_message-&gt;carryPayload((ProtocolMessage*)msg);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="class_message.html">Activation</a> ip_msg (ip_message);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="comment">// send the packet to the outgoing_mac</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">ProtocolSession</a>* outgoing_mac = outgoing_nic-&gt;getHighestProtocolSession();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;isOpenVZEmu() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(<span class="keywordtype">char</span> s1[50]; <span class="keywordtype">char</span> s2[50];</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                printf(<span class="stringliteral">&quot;IPSession::push(), [host=\&quot;%s\&quot;] %s: send packet from \&quot;%s\&quot; [interface %d] to \&quot;%s\&quot; (%d real bytes) .\n&quot;</span>,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(src_ip, s1),</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                pushopt-&gt;iface_id,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(pushopt-&gt;dst_ip, s2),</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                ((OpenVZMessage*)msg)-&gt;totalRealBytes()););</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                outgoing_mac-&gt;pushdown(ip_msg, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(<span class="keywordtype">char</span> s1[50]; <span class="keywordtype">char</span> s2[50];</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: send packet from \&quot;%s\&quot; to \&quot;%s\&quot; (%d real bytes).\n&quot;</span>,</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;src_ip, s1),</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;dst_ip, s2),</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                ip_message-&gt;totalRealBytes()););</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                IPOptionToBelow mac_ext_info(route_info, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                outgoing_mac-&gt;pushdown(ip_msg, <span class="keyword">this</span>, (<span class="keywordtype">void</span>*)&amp;mac_ext_info, <span class="keyword">sizeof</span>(IPOptionToBelow));</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a67904ac457abba68408ce806186649aa">IPPUSHRET_DOWN_DONE</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a02c0b0ed8bd28e1f59127229d048d213"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">s3f::s3fnet::IPSession::forwarding_table</a></div><div class="ttdeci">ForwardingTable * forwarding_table</div><div class="ttdoc">Forwarding table used to deliver packets. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00216">ip_session.h:216</a></div></div>
<div class="ttc" id="ip__interface_8h_html_ac6469e7d24a82b82ca1a0ca5179fdd7f"><div class="ttname"><a href="ip__interface_8h.html#ac6469e7d24a82b82ca1a0ca5179fdd7f">DEFAULT_IP_TIMETOLIVE</a></div><div class="ttdeci">#define DEFAULT_IP_TIMETOLIVE</div><div class="ttdef"><b>Definition:</b> <a href="ip__interface_8h_source.html#l00020">ip_interface.h:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a85096a1d3fd6310fea4c7f8ae01d3314"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">s3f::s3fnet::IPSession::show_drop</a></div><div class="ttdeci">bool show_drop</div><div class="ttdoc">Whether to print a message when a packet has been dropped. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00219">ip_session.h:219</a></div></div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605a46164ab02542b3ee696ac5f20685518e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a46164ab02542b3ee696ac5f20685518e">s3f::s3fnet::IPSession::IPPUSHRET_TO_LOCAL_DONE</a></div><div class="ttdoc">The packet has been dealt with locally by popping up to an upper protocol successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00041">ip_session.h:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a191ad0501ff266c035a8bc46da1a01a1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">s3f::s3fnet::ProtocolSession::ProtocolSession</a></div><div class="ttdeci">ProtocolSession(ProtocolGraph *graph)</div><div class="ttdoc">The constructor is protected; only called from ProtocolGraph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00134">protocol_session.cc:134</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605a67904ac457abba68408ce806186649aa"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a67904ac457abba68408ce806186649aa">s3f::s3fnet::IPSession::IPPUSHRET_DOWN_DONE</a></div><div class="ttdoc">The packet has been pushed down successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00037">ip_session.h:37</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_adb6ef126f30d476c9b658aa224769652"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">s3f::s3fnet::IPADDR</a></div><div class="ttdeci">unsigned int IPADDR</div><div class="ttdoc">IP address should be a 32-bit unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8h_source.html#l00020">ip_prefix.h:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_a5bf2b1dffed50d5eda07083f6810c21c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#a5bf2b1dffed50d5eda07083f6810c21c">s3f::s3fnet::Host::getNetworkInterface</a></div><div class="ttdeci">NetworkInterface * getNetworkInterface(int id)</div><div class="ttdoc">Return network interface of the given id. </div><div class="ttdef"><b>Definition:</b> <a href="host_8cc_source.html#l00259">host.cc:259</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605ab17a1735a7ab5874018206c731d3f1ce"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605ab17a1735a7ab5874018206c731d3f1ce">s3f::s3fnet::IPSession::IPPUSHRET_NO_ROUTE</a></div><div class="ttdoc">The packet cannot be pushed down due to no route to the destination being found. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00049">ip_session.h:49</a></div></div>
<div class="ttc" id="class_message_html"><div class="ttname"><a href="class_message.html">Message</a></div><div class="ttdoc">Messages passed between connected OutChannels and InChannels. </div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00017">message.h:17</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ab35230e6cee8f196334bff4237ada67c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">s3f::s3fnet::ProtocolSession::NetworkInterface</a></div><div class="ttdeci">friend class NetworkInterface</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00039">protocol_session.h:39</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a01a8a1d09de4df61a7a1c5e5119809a8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a01a8a1d09de4df61a7a1c5e5119809a8">s3f::s3fnet::ForwardingTable::getRoute</a></div><div class="ttdeci">RouteInfo * getRoute(IPADDR ipaddr)</div><div class="ttdoc">Find a route to a given ip address. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00348">forwardingtable.cc:348</a></div></div>
<div class="ttc" id="class_message_html_af97c9fcc0e56fd93c742cf0946c3793e"><div class="ttname"><a href="class_message.html#af97c9fcc0e56fd93c742cf0946c3793e">Message::erase_all</a></div><div class="ttdeci">virtual void erase_all()</div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00026">message.h:26</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a0250c97bad17f18ef7037fd76f7e5083"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">For printing the current simulation time in a better readable format. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00128">protocol_session.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605a41559028ce5629c19e50af3597140803"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a41559028ce5629c19e50af3597140803">s3f::s3fnet::IPSession::IPPUSHRET_TO_LOCAL_FAIL</a></div><div class="ttdoc">The packet cannot be dealt with locally by popping up to an upper protocol successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00045">ip_session.h:45</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a474599ddfc68098f161977ce71c11564"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a474599ddfc68098f161977ce71c11564">s3f::s3fnet::IPSession::verify_local_ip_address</a></div><div class="ttdeci">bool verify_local_ip_address(IPADDR ipaddr)</div><div class="ttdoc">Verify whether an ip address is local or not. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00423">ip_session.cc:423</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a5a54af4b5c7ef7d6ad0dc93b735a95bfaa59dff1fcc920469318372b6ecce2718"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a5a54af4b5c7ef7d6ad0dc93b735a95bfaa59dff1fcc920469318372b6ecce2718">s3f::s3fnet::IPADDR_INADDR_ANY</a></div><div class="ttdoc">When the upper layer wants to send a packet out, it may ignore the source IP address. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8h_source.html#l00073">ip_prefix.h:73</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a39496fd707502536dbff30988cb01605a8d567d0dae05c684cc65260269bb15c7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a39496fd707502536dbff30988cb01605a8d567d0dae05c684cc65260269bb15c7">s3f::s3fnet::IPSession::IPPUSHRET_DROPPED_TTL_LIMIT</a></div><div class="ttdoc">The packet is dropped due to TTL limit reached. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00052">ip_session.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a130a6f149232d55bcf747e991d9c0785"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::IPSession::pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lo_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receive data up the protocol stack to the upper layer. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00410">410</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">handle_pop_pkt()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, and <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>.</p>
<div class="fragment"><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  assert(lo_sess);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(<span class="keywordtype">char</span> buf1[50]; <span class="keywordtype">char</span> buf2[50];</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                  printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: pop() receive packet from \&quot;%s\&quot; to \&quot;%s\&quot;.\n&quot;</span>,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                  <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(((IPMessage*)msg)-&gt;src_ip, buf1),</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                  <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(((IPMessage*)msg)-&gt;dst_ip, buf2)));</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// perform checksum -- add later</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a0908838060d870856758906e702bc3cf">handle_pop_pkt</a>(msg, lo_sess, extinfo, extinfo_size);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a0250c97bad17f18ef7037fd76f7e5083"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">For printing the current simulation time in a better readable format. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00128">protocol_session.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a0908838060d870856758906e702bc3cf"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a0908838060d870856758906e702bc3cf">s3f::s3fnet::IPSession::handle_pop_pkt</a></div><div class="ttdeci">int handle_pop_pkt(Activation ip_msg, ProtocolSession *lo_sess, void *extinfo=NULL, int extinfo_size=0)</div><div class="ttdoc">Handle packets that are popped up. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00494">ip_session.cc:494</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa66f32e3ebc86d154715b965d19994f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool s3f::s3fnet::IPSession::verify_target_ip_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a>&#160;</td>
          <td class="paramname"><em>ipaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verify whether an ip address is acceptable by local ip or not. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00429">429</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="ip__prefix_8h_source.html#l00038">IPADDR_ANYDEST</a>, and <a class="el" href="ip__session_8cc_source.html#l00423">verify_local_ip_address()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>, and <a class="el" href="ip__session_8cc_source.html#l00494">handle_pop_pkt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span>(ipaddr == <a class="code" href="ip__prefix_8h.html#a763762a2edad5a8d349f3c687f16ddca">IPADDR_ANYDEST</a> || (ipaddr &amp; 0xe0000000) || <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a474599ddfc68098f161977ce71c11564">verify_local_ip_address</a>(ipaddr))</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div>
<div class="ttc" id="ip__prefix_8h_html_a763762a2edad5a8d349f3c687f16ddca"><div class="ttname"><a href="ip__prefix_8h.html#a763762a2edad5a8d349f3c687f16ddca">IPADDR_ANYDEST</a></div><div class="ttdeci">#define IPADDR_ANYDEST</div><div class="ttdoc">IP broadcast address (255.255.255.255). </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8h_source.html#l00038">ip_prefix.h:38</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a474599ddfc68098f161977ce71c11564"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a474599ddfc68098f161977ce71c11564">s3f::s3fnet::IPSession::verify_local_ip_address</a></div><div class="ttdeci">bool verify_local_ip_address(IPADDR ipaddr)</div><div class="ttdoc">Verify whether an ip address is local or not. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00423">ip_session.cc:423</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a474599ddfc68098f161977ce71c11564"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool s3f::s3fnet::IPSession::verify_local_ip_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a>&#160;</td>
          <td class="paramname"><em>ipaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verify whether an ip address is local or not. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00423">423</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">push()</a>, and <a class="el" href="ip__session_8cc_source.html#l00429">verify_target_ip_address()</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;getNetworkInterfaceByIP(ipaddr)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78d618a613eeb7d612c352f7f2139241"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::IPSession::load_forwarding_table </td>
          <td>(</td>
          <td class="paramtype">s3f::dml::Configuration *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load forwarding table. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00437">437</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="forwardingtable_8cc_source.html#l00081">s3f::s3fnet::RouteInfo::config()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00427">s3f::s3fnet::DMLRouteInfo::config()</a>, <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="ip__session_8h_source.html#l00216">forwarding_table</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="s3fnet_8h_source.html#l00323">s3f::s3fnet::IP_CTRL_INSERT_DMLROUTE</a>, <a class="el" href="s3fnet_8h_source.html#l00317">s3f::s3fnet::IP_CTRL_INSERT_ROUTE</a>, and <a class="el" href="ip__session_8cc_source.html#l00611">strtonum()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>.</p>
<div class="fragment"><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="keywordtype">int</span> trie_version = -1;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="keywordtype">char</span>* str = (<span class="keywordtype">char</span>*)cfg-&gt;findSingle(<span class="stringliteral">&quot;trie_version&quot;</span>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                <span class="keywordflow">if</span> (str &amp;&amp; !(s3f::dml::dmlConfig::isConf(str))) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        trie_version = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a6d6af28c6a27ce3a8dd3b4227855e1eb">strtonum</a>(str);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        <span class="keywordflow">if</span>(trie_version &lt; 0) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                                <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: trie_version attribute must be &gt;= 0.\n&quot;</span>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                        }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="keywordtype">int</span> cache_version = -1;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                str = (<span class="keywordtype">char</span>*)cfg-&gt;findSingle(<span class="stringliteral">&quot;cache_version&quot;</span>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <span class="keywordflow">if</span> (str &amp;&amp; !(s3f::dml::dmlConfig::isConf(str))) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                        cache_version = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a6d6af28c6a27ce3a8dd3b4227855e1eb">strtonum</a>(str);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                        <span class="keywordflow">if</span>(cache_version &lt; 0) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: cache_version attribute must be &gt;= 0.\n&quot;</span>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a> = <span class="keyword">new</span> ForwardingTable(<span class="keyword">this</span>,trie_version,cache_version);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                assert(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">Host</a>* h = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  s3f::dml::Enumeration* renum = cfg-&gt;find(<span class="stringliteral">&quot;route&quot;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">while</span> (renum-&gt;hasMoreElements())</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    s3f::dml::Configuration* rcfg = (s3f::dml::Configuration*)renum-&gt;nextElement();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span>(!s3f::dml::dmlConfig::isConf(rcfg))</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: IPSession::load_forwarding_table(), invalid ROUTE attribute.\n&quot;</span>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    RouteInfo* route = <span class="keyword">new</span> RouteInfo();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    route-&gt;config(h, rcfg);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a1704667dd212dc07837efe927ce63b21">control</a>(<a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ac81aafee957c6a07f6070dd7fa25acdf">IP_CTRL_INSERT_ROUTE</a>, route, NULL);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keyword">delete</span> renum;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  s3f::dml::Enumeration* denum = cfg-&gt;find(<span class="stringliteral">&quot;nhi_route&quot;</span>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">while</span>(denum-&gt;hasMoreElements())</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    s3f::dml::Configuration* rcfg = (s3f::dml::Configuration*)denum-&gt;nextElement();</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span>(!s3f::dml::dmlConfig::isConf(rcfg))</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: IPSession::load_forwarding_table(), invalid DML_ROUTE attribute.\n&quot;</span>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    DMLRouteInfo* dml_route = <span class="keyword">new</span> DMLRouteInfo;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    dml_route-&gt;config(rcfg);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a1704667dd212dc07837efe927ce63b21">control</a>(<a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a90616937b76444fae8700e256ddd6e4c">IP_CTRL_INSERT_DMLROUTE</a>, dml_route, NULL);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keyword">delete</span> denum;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a02c0b0ed8bd28e1f59127229d048d213"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">s3f::s3fnet::IPSession::forwarding_table</a></div><div class="ttdeci">ForwardingTable * forwarding_table</div><div class="ttdoc">Forwarding table used to deliver packets. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00216">ip_session.h:216</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223ac81aafee957c6a07f6070dd7fa25acdf"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ac81aafee957c6a07f6070dd7fa25acdf">s3f::s3fnet::IP_CTRL_INSERT_ROUTE</a></div><div class="ttdoc">Insert a new route. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00317">s3fnet.h:317</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a1704667dd212dc07837efe927ce63b21"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a1704667dd212dc07837efe927ce63b21">s3f::s3fnet::IPSession::control</a></div><div class="ttdeci">virtual int control(int ctrltyp, void *ctrlmsg, ProtocolSession *sess)</div><div class="ttdoc">The control method is used by the protocol session to receive control message (or query information) ...</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00148">ip_session.cc:148</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a90616937b76444fae8700e256ddd6e4c"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a90616937b76444fae8700e256ddd6e4c">s3f::s3fnet::IP_CTRL_INSERT_DMLROUTE</a></div><div class="ttdoc">Insert a new dml route. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00323">s3fnet.h:323</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a6d6af28c6a27ce3a8dd3b4227855e1eb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a6d6af28c6a27ce3a8dd3b4227855e1eb">s3f::s3fnet::IPSession::strtonum</a></div><div class="ttdeci">static int strtonum(const char *str)</div><div class="ttdoc">Safe alternative to atoi() if valid numbers could be 0 (which atoi() returns on error). </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00611">ip_session.cc:611</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a912b690126957a1ad90d0c373a4ad4d0"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">s3f::s3fnet::ProtocolSession::Host</a></div><div class="ttdeci">friend class Host</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00040">protocol_session.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f29305416d2dffa60f9836cfd05212c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> * s3f::s3fnet::IPSession::get_parent_by_protocol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>&#160;</td>
          <td class="paramname"><em>protocol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find parent by protocol number. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00489">489</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, and <a class="el" href="protocol__graph_8cc_source.html#l00084">s3f::s3fnet::ProtocolGraph::sessionForNumber()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00567">handle_pop_local_pkt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;{</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_graph.html#a9eccecaaf7b96de8279b1e3c4c88d079">sessionForNumber</a>(protocol_no);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_graph_html_a9eccecaaf7b96de8279b1e3c4c88d079"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_graph.html#a9eccecaaf7b96de8279b1e3c4c88d079">s3f::s3fnet::ProtocolGraph::sessionForNumber</a></div><div class="ttdeci">ProtocolSession * sessionForNumber(int pno)</div><div class="ttdoc">If a protocol session has been created and registered under the given protocol number, the method returns the protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__graph_8cc_source.html#l00084">protocol_graph.cc:84</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0908838060d870856758906e702bc3cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::IPSession::handle_pop_pkt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>ip_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lo_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_handle.html">Handle</a> packets that are popped up. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00494">494</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="ip__message_8h_source.html#l00065">s3f::s3fnet::IPMessage::dst_ip</a>, <a class="el" href="protocol__message_8cc_source.html#l00052">s3f::s3fnet::ProtocolMessage::erase_all()</a>, <a class="el" href="ip__session_8h_source.html#l00216">forwarding_table</a>, <a class="el" href="network__interface_8h_source.html#l00081">s3f::s3fnet::NetworkInterface::getHighestProtocolSession()</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00348">s3f::s3fnet::ForwardingTable::getRoute()</a>, <a class="el" href="ip__session_8cc_source.html#l00567">handle_pop_local_pkt()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>, <a class="el" href="ip__session_8h_source.html#l00075">IPPOPRET_DROPPED_NO_ROUTE</a>, <a class="el" href="ip__session_8h_source.html#l00078">IPPOPRET_DROPPED_TTL_LIMIT</a>, <a class="el" href="ip__session_8h_source.html#l00064">IPPOPRET_FORWARD_DONE</a>, <a class="el" href="host_8h_source.html#l00096">s3f::s3fnet::Host::isOpenVZEmu()</a>, <a class="el" href="forwardingtable_8h_source.html#l00105">s3f::s3fnet::RouteInfo::nic</a>, <a class="el" href="ip__message_8h_source.html#l00068">s3f::s3fnet::IPMessage::protocol_no</a>, <a class="el" href="protocol__session_8cc_source.html#l00072">s3f::s3fnet::ProtocolSession::pushdown()</a>, <a class="el" href="ip__session_8h_source.html#l00219">show_drop</a>, <a class="el" href="ip__message_8h_source.html#l00062">s3f::s3fnet::IPMessage::src_ip</a>, <a class="el" href="ip__message_8h_source.html#l00071">s3f::s3fnet::IPMessage::time_to_live</a>, and <a class="el" href="ip__session_8cc_source.html#l00429">verify_target_ip_address()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00410">pop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;{</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  IPMessage* ip_message = (IPMessage*)ip_msg;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">// decrement the time-to-live field of the packet</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  ip_message-&gt;time_to_live--;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">// if packet is for me deliver it to proper protocol</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#afa66f32e3ebc86d154715b965d19994f">verify_target_ip_address</a>(ip_message-&gt;dst_ip) || <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#a3e6462d94e0802a21c6bd3a240191940">isOpenVZEmu</a>() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a527229132cb95fac11aa2bfa14d97de8">handle_pop_local_pkt</a>(ip_msg, lo_sess);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// otherwise just send the packet on its way further</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: received a packet but not for me.\n&quot;</span>,</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>()));</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span>(ip_message-&gt;time_to_live &gt; 0)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="comment">// figure out the outgoing interface</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">NetworkInterface</a>* outgoing_nic = 0;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordtype">void</span>* carried_route_info = 0;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;          <span class="comment">// on_demand_routing is turned off, find the route for the destination</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;          RouteInfo* pRoute = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">forwarding_table</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a01a8a1d09de4df61a7a1c5e5119809a8">getRoute</a>(ip_message-&gt;dst_ip);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;          <span class="keywordflow">if</span>(0 == pRoute)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;          {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;              <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a>)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;              {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                <span class="keywordtype">char</span> s1[50]; <span class="keywordtype">char</span> s2[50];</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: drop packet from \&quot;%s\&quot; to \&quot;%s\&quot; (no route).\n&quot;</span>,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                     <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                     <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;src_ip, s1),</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                     <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;dst_ip, s2));</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;              }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;              ip_message-&gt;erase_all();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca0010225ef2f5c611a382512f582cec43">IPPOPRET_DROPPED_NO_ROUTE</a>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(<span class="keywordtype">char</span> s1[50]; <span class="keywordtype">char</span> s2[50];</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: forward packet from \&quot;%s\&quot; to \&quot;%s\&quot; for protocol %d.\n&quot;</span>,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                       <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                       <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;src_ip, s1),</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                       <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;dst_ip, s2), ip_message-&gt;protocol_no));</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;          outgoing_nic = pRoute-&gt;nic;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;          carried_route_info = (<span class="keywordtype">void</span>*)pRoute;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      assert(outgoing_nic);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      IPOptionToBelow mac_ext_info(carried_route_info, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      outgoing_nic-&gt;getHighestProtocolSession()-&gt;pushdown(ip_msg, <span class="keyword">this</span>, (<span class="keywordtype">void</span>*)&amp;mac_ext_info, <span class="keyword">sizeof</span>(IPOptionToBelow));</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca38d73a24531ddb2d7e36308d1ea5f2b5">IPPOPRET_FORWARD_DONE</a>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a>)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;              <span class="keywordtype">char</span> s1[50]; <span class="keywordtype">char</span> s2[50];</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;              printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: drop packet from \&quot;%s\&quot; to \&quot;%s\&quot; (ttl expires).\n&quot;</span>,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                          <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                          <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;src_ip, s1),</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                          <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;dst_ip, s2));</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      ip_message-&gt;erase_all();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca1a12166f5713b66600747c0470eff3ab">IPPOPRET_DROPPED_TTL_LIMIT</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a02c0b0ed8bd28e1f59127229d048d213"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a02c0b0ed8bd28e1f59127229d048d213">s3f::s3fnet::IPSession::forwarding_table</a></div><div class="ttdeci">ForwardingTable * forwarding_table</div><div class="ttdoc">Forwarding table used to deliver packets. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00216">ip_session.h:216</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a85096a1d3fd6310fea4c7f8ae01d3314"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">s3f::s3fnet::IPSession::show_drop</a></div><div class="ttdeci">bool show_drop</div><div class="ttdoc">Whether to print a message when a packet has been dropped. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00219">ip_session.h:219</a></div></div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710ca1a12166f5713b66600747c0470eff3ab"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca1a12166f5713b66600747c0470eff3ab">s3f::s3fnet::IPSession::IPPOPRET_DROPPED_TTL_LIMIT</a></div><div class="ttdoc">The packet is dropped due to TTL limit reached. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00078">ip_session.h:78</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_afa66f32e3ebc86d154715b965d19994f"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#afa66f32e3ebc86d154715b965d19994f">s3f::s3fnet::IPSession::verify_target_ip_address</a></div><div class="ttdeci">bool verify_target_ip_address(IPADDR ipaddr)</div><div class="ttdoc">Verify whether an ip address is acceptable by local ip or not. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00429">ip_session.cc:429</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_a3e6462d94e0802a21c6bd3a240191940"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#a3e6462d94e0802a21c6bd3a240191940">s3f::s3fnet::Host::isOpenVZEmu</a></div><div class="ttdeci">bool isOpenVZEmu()</div><div class="ttdoc">Return true if this host supports OpenVZ-based Emulation. </div><div class="ttdef"><b>Definition:</b> <a href="host_8h_source.html#l00096">host.h:96</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710ca0010225ef2f5c611a382512f582cec43"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca0010225ef2f5c611a382512f582cec43">s3f::s3fnet::IPSession::IPPOPRET_DROPPED_NO_ROUTE</a></div><div class="ttdoc">The packet is dropped due to no route found. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00075">ip_session.h:75</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a527229132cb95fac11aa2bfa14d97de8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a527229132cb95fac11aa2bfa14d97de8">s3f::s3fnet::IPSession::handle_pop_local_pkt</a></div><div class="ttdeci">int handle_pop_local_pkt(Activation msg, ProtocolSession *lo_sess, void *extinfo=NULL, int extinfo_size=0)</div><div class="ttdoc">Handle packets that are popped up and targetted to this machine. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00567">ip_session.cc:567</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710ca38d73a24531ddb2d7e36308d1ea5f2b5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710ca38d73a24531ddb2d7e36308d1ea5f2b5">s3f::s3fnet::IPSession::IPPOPRET_FORWARD_DONE</a></div><div class="ttdoc">The packet has been forwarded successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00064">ip_session.h:64</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ab35230e6cee8f196334bff4237ada67c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">s3f::s3fnet::ProtocolSession::NetworkInterface</a></div><div class="ttdeci">friend class NetworkInterface</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00039">protocol_session.h:39</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a01a8a1d09de4df61a7a1c5e5119809a8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a01a8a1d09de4df61a7a1c5e5119809a8">s3f::s3fnet::ForwardingTable::getRoute</a></div><div class="ttdeci">RouteInfo * getRoute(IPADDR ipaddr)</div><div class="ttdoc">Find a route to a given ip address. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00348">forwardingtable.cc:348</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a0250c97bad17f18ef7037fd76f7e5083"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">For printing the current simulation time in a better readable format. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00128">protocol_session.cc:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a527229132cb95fac11aa2bfa14d97de8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::IPSession::handle_pop_local_pkt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lo_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_handle.html">Handle</a> packets that are popped up and targetted to this machine. </p>

<p>Definition at line <a class="el" href="ip__session_8cc_source.html#l00567">567</a> of file <a class="el" href="ip__session_8cc_source.html">ip_session.cc</a>.</p>

<p>References <a class="el" href="protocol__message_8cc_source.html#l00038">s3f::s3fnet::ProtocolMessage::dropPayload()</a>, <a class="el" href="ip__message_8h_source.html#l00065">s3f::s3fnet::IPMessage::dst_ip</a>, <a class="el" href="ip__interface_8h_source.html#l00089">s3f::s3fnet::IPOptionToAbove::dst_ip</a>, <a class="el" href="protocol__message_8cc_source.html#l00046">s3f::s3fnet::ProtocolMessage::erase()</a>, <a class="el" href="protocol__message_8cc_source.html#l00052">s3f::s3fnet::ProtocolMessage::erase_all()</a>, <a class="el" href="ip__session_8cc_source.html#l00489">get_parent_by_protocol()</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, <a class="el" href="ip__session_8cc_source.html#l00022">IP_DUMP</a>, <a class="el" href="ip__session_8h_source.html#l00072">IPPOPRET_DROPPED_NO_PROTOCOL</a>, <a class="el" href="ip__session_8h_source.html#l00061">IPPOPRET_UP_DONE</a>, <a class="el" href="protocol__session_8cc_source.html#l00077">s3f::s3fnet::ProtocolSession::popup()</a>, <a class="el" href="ip__message_8h_source.html#l00068">s3f::s3fnet::IPMessage::protocol_no</a>, <a class="el" href="ip__session_8h_source.html#l00219">show_drop</a>, <a class="el" href="ip__message_8h_source.html#l00062">s3f::s3fnet::IPMessage::src_ip</a>, <a class="el" href="ip__interface_8h_source.html#l00086">s3f::s3fnet::IPOptionToAbove::src_ip</a>, <a class="el" href="ip__message_8h_source.html#l00071">s3f::s3fnet::IPMessage::time_to_live</a>, and <a class="el" href="ip__interface_8h_source.html#l00092">s3f::s3fnet::IPOptionToAbove::ttl</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00494">handle_pop_pkt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;{         </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  IPMessage* ip_message = (IPMessage*)msg;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">ProtocolSession</a>* prot = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a0f29305416d2dffa60f9836cfd05212c">get_parent_by_protocol</a>((<span class="keywordtype">int</span>)(<a class="code" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>)ip_message-&gt;protocol_no);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: receive local packet for protocol %u.\n&quot;</span>,</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                 <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(), ip_message-&gt;protocol_no));</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// send the packet upward</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordtype">int</span> ret_val;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">if</span>(prot)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      IPOptionToAbove ipupopt;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      ipupopt.src_ip = ip_message-&gt;src_ip;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      ipupopt.dst_ip = ip_message-&gt;dst_ip;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      ipupopt.ttl = ip_message-&gt;time_to_live;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      ProtocolMessage* pmsg = ip_message-&gt;dropPayload();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      assert(pmsg);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <a class="code" href="class_message.html">Activation</a> upper_msg (pmsg);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      ip_message-&gt;erase(); <span class="comment">//delete IP header</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      prot-&gt;popup(upper_msg, <span class="keyword">this</span>, (<span class="keywordtype">void</span>*)&amp;ipupopt, <span class="keyword">sizeof</span>(IPOptionToAbove));</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      ret_val = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710caf5be2a43077ea34e93eda1418e961ea8">IPPOPRET_UP_DONE</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">show_drop</a>)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordtype">char</span> s1[50]; <span class="keywordtype">char</span> s2[50];</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: drop packet from \&quot;%s\&quot; to \&quot;%s\&quot; (no protocol)\n&quot;</span>,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;src_ip, s1),</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                        <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(ip_message-&gt;dst_ip, s2));</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">// no such protocol! drop the packet</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    ip_message-&gt;erase_all();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    ret_val = <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710cabde4ffb48268f41a694827460028776d">IPPOPRET_DROPPED_NO_PROTOCOL</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">return</span> ret_val;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a85096a1d3fd6310fea4c7f8ae01d3314"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a85096a1d3fd6310fea4c7f8ae01d3314">s3f::s3fnet::IPSession::show_drop</a></div><div class="ttdeci">bool show_drop</div><div class="ttdoc">Whether to print a message when a packet has been dropped. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00219">ip_session.h:219</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710cabde4ffb48268f41a694827460028776d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710cabde4ffb48268f41a694827460028776d">s3f::s3fnet::IPSession::IPPOPRET_DROPPED_NO_PROTOCOL</a></div><div class="ttdoc">The packet is dropped due to no matching protocol on this host. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00072">ip_session.h:72</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_af9913b509c50836bbe30b0a16b2500b9"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">s3f::s3fnet::uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdoc">32-bit unsigned integer type </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00035">s3fnet.h:35</a></div></div>
<div class="ttc" id="ip__session_8cc_html_af3a2e8fbc1a2286ff48e57346c97e9bc"><div class="ttname"><a href="ip__session_8cc.html#af3a2e8fbc1a2286ff48e57346c97e9bc">IP_DUMP</a></div><div class="ttdeci">#define IP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00022">ip_session.cc:22</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a191ad0501ff266c035a8bc46da1a01a1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">s3f::s3fnet::ProtocolSession::ProtocolSession</a></div><div class="ttdeci">ProtocolSession(ProtocolGraph *graph)</div><div class="ttdoc">The constructor is protected; only called from ProtocolGraph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00134">protocol_session.cc:134</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a0f29305416d2dffa60f9836cfd05212c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a0f29305416d2dffa60f9836cfd05212c">s3f::s3fnet::IPSession::get_parent_by_protocol</a></div><div class="ttdeci">ProtocolSession * get_parent_by_protocol(uint32 protocol)</div><div class="ttdoc">Find parent by protocol number. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8cc_source.html#l00489">ip_session.cc:489</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="class_message_html"><div class="ttname"><a href="class_message.html">Message</a></div><div class="ttdoc">Messages passed between connected OutChannels and InChannels. </div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00017">message.h:17</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a0250c97bad17f18ef7037fd76f7e5083"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">For printing the current simulation time in a better readable format. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00128">protocol_session.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_session_html_a72baff59acaa007993076124adac710caf5be2a43077ea34e93eda1418e961ea8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_session.html#a72baff59acaa007993076124adac710caf5be2a43077ea34e93eda1418e961ea8">s3f::s3fnet::IPSession::IPPOPRET_UP_DONE</a></div><div class="ttdoc">The packet has been popped up to an upper layer successfully. </div><div class="ttdef"><b>Definition:</b> <a href="ip__session_8h_source.html#l00061">ip_session.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa31e721ab7e6d8e0ecc27f3b9974eeb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::IPSession::S3FNET_VECTOR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Route specified in dml file. </p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>.</p>

</div>
</div>
<a class="anchor" id="a4cf438acd1269ce546ff3bf775781543"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::IPSession::S3FNET_VECTOR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_d_m_l_route_info.html">DMLRouteInfo</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac908369efe131f55e842328afe02e9dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::IPSession::S3FNET_VECTOR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a79b1d48edbb1aec6b740de60666414f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::ProtocolSession::wrapup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method is used to wrap up the protocol session. </p>
<p>It is called when the simulation finishes. It is designed to give user a chance to report simulation statistics. The default behavior is doing nothing. Subclass may override this method for protocol specific dealings. Note that there is no specific order in which wrapup is called for protocol sessions in a protocol graph. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00059">59</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="protocol__session_8h_source.html#l00233">s3f::s3fnet::ProtocolSession::initialized()</a>, <a class="el" href="protocol__session_8h_source.html#l00063">s3f::s3fnet::ProtocolSession::name</a>, <a class="el" href="protocol__session_8h_source.html#l00055">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a>, <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>, and <a class="el" href="protocol__session_8h_source.html#l00245">s3f::s3fnet::ProtocolSession::wrapped_up()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// Make sure this init function at the base class should be called</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// by the derived function!</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">initialized</a>()) </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: ProtocolSession \&quot;%s\&quot; wrapup() called before init(), &quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;               <span class="stringliteral">&quot;forgot to call base class&#39;s init() in your derived class?\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">wrapped_up</a>())</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: duplicate calls to ProtocolSession::wrapup(): &quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;               <span class="stringliteral">&quot;session name is \&quot;%s\&quot;.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ac934416dd1e279568a3bef2e8a6b045d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">s3f::s3fnet::ProtocolSession::wrapped_up</a></div><div class="ttdeci">int wrapped_up()</div><div class="ttdoc">This method returns true if the protocol session has been wrapped up. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00245">protocol_session.h:245</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_aca7233711f9c8c606c611ec97ee29cdb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">s3f::s3fnet::ProtocolSession::initialized</a></div><div class="ttdeci">int initialized()</div><div class="ttdoc">This method returns true if the protocol session has been initialized. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00233">protocol_session.h:233</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a7eedcbe4da39cba727d26f1339ac7c47"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">s3f::s3fnet::ProtocolSession::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Symbolic name of the protocol this session implements. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00063">protocol_session.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a9fa5693373188218eba85c782583e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::pushdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>hi_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The original push method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7" title="The original push method is divided into pushdown() and push(). ">pushdown()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">push()</a>. </p>
<p>The pushdown method is the generic part of the code, which is reserved for modeling the handling of messages transferred between protocol layers. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">ProtocolSession::push</a> method for details. </dd></dl>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00072">72</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00082">s3f::s3fnet::ProtocolSession::push()</a>.</p>

<p>Referenced by <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">handle_pop_pkt()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00297">s3f::s3fnet::LearningControllerSession::HandleInquiryMessageFromOFSwitch()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">s3f::s3fnet::OpenFlowSwitchSession::OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">s3f::s3fnet::OpenFlowSwitchSession::OutputPacket()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">push()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, and <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767">push</a>(msg, hi_sess, extinfo, extinfo_size);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a802569fda5b2814f662ea5b4d39ce767"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767">s3f::s3fnet::ProtocolSession::push</a></div><div class="ttdeci">virtual int push(Activation msg, ProtocolSession *hi_sess, void *extinfo=0, size_t extinfo_size=0)</div><div class="ttdoc">The method is called when a message is pushed down to this protocol session from the protocol session...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00082">protocol_session.cc:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3f962741a6c055135d2cab28ea0b9c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::popup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lo_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The original pop method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8" title="The original pop method is divided into popup() and pop(). ">popup()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">pop()</a>. </p>
<p>The popup method is the generic part of the code, which is reserved for modeling the handling of messages transferred between protocol layers. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">ProtocolSession::pop</a> method for details. </dd></dl>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00077">77</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00087">s3f::s3fnet::ProtocolSession::pop()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00567">handle_pop_local_pkt()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">push()</a>, and <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">pop</a>(msg, lo_sess, extinfo, extinfo_size);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ad30fc9c677829b84f849716df872fe11"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">s3f::s3fnet::ProtocolSession::pop</a></div><div class="ttdeci">virtual int pop(Activation msg, ProtocolSession *lo_sess, void *extinfo=0, size_t extinfo_size=0)</div><div class="ttdoc">The method is called when a message is popped up to this protocol session from the protocol session b...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00087">protocol_session.cc:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a383bfb5d8385ab3ddbabaeba2e4a38aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a>* s3f::s3fnet::ProtocolSession::inGraph </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns the protocol graph in which this protocol session resides. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00178">178</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00335">s3f::s3fnet::ProtocolSession::ingraph</a>.</p>

<p>Referenced by <a class="el" href="simple__phy_8cc_source.html#l00040">s3f::s3fnet::SimplePhy::config()</a>, <a class="el" href="simple__phy_8cc_source.html#l00183">s3f::s3fnet::SimplePhy::control()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00036">s3f::s3fnet::DroptailQueue::enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="simple__mac_8cc_source.html#l00041">s3f::s3fnet::SimpleMac::init()</a>, <a class="el" href="simple__phy_8cc_source.html#l00130">s3f::s3fnet::SimplePhy::init()</a>, <a class="el" href="red__queue_8cc_source.html#l00121">s3f::s3fnet::RedQueue::init()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00145">s3f::s3fnet::SimplePhy::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>, <a class="el" href="simple__phy_8cc_source.html#l00158">s3f::s3fnet::SimplePhy::sendPacket()</a>, <a class="el" href="simple__mac_8cc_source.html#l00031">s3f::s3fnet::SimpleMac::SimpleMac()</a>, <a class="el" href="simple__phy_8cc_source.html#l00028">s3f::s3fnet::SimplePhy::SimplePhy()</a>, <a class="el" href="simple__mac_8cc_source.html#l00036">s3f::s3fnet::SimpleMac::~SimpleMac()</a>, and <a class="el" href="simple__phy_8cc_source.html#l00034">s3f::s3fnet::SimplePhy::~SimplePhy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a9e93967a56c673f625b486d2fe389067"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">s3f::s3fnet::ProtocolSession::ingraph</a></div><div class="ttdeci">ProtocolGraph * ingraph</div><div class="ttdoc">Points to the protocol graph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00335">protocol_session.h:335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afadb38bfa4c4daa1049b229d7abce81c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_host.html">Host</a> * s3f::s3fnet::ProtocolSession::inHost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a pointer to the host owning this protocol session. </p>

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">s3f::s3fnet::NicProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00118">118</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00335">s3f::s3fnet::ProtocolSession::ingraph</a>.</p>

<p>Referenced by <a class="el" href="udp__session_8cc_source.html#l00095">s3f::s3fnet::UDPSession::abort()</a>, <a class="el" href="socket__master_8cc_source.html#l00283">s3f::s3fnet::SocketMaster::abort()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00294">s3f::s3fnet::NBSocketMaster::abort()</a>, <a class="el" href="socket__master_8cc_source.html#l00403">s3f::s3fnet::SocketMaster::accept()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00435">s3f::s3fnet::NBSocketMaster::accept()</a>, <a class="el" href="socket__master_8cc_source.html#l00443">s3f::s3fnet::SocketMaster::accept1a()</a>, <a class="el" href="socket__master_8cc_source.html#l00489">s3f::s3fnet::SocketMaster::accept1b()</a>, <a class="el" href="socket__master_8cc_source.html#l00535">s3f::s3fnet::SocketMaster::accept2a()</a>, <a class="el" href="socket__master_8cc_source.html#l00600">s3f::s3fnet::SocketMaster::accept2b()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01140">s3f::s3fnet::OpenFlowSwitchSession::AddFlow()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00163">s3f::s3fnet::TCPSession::backoff_timeout()</a>, <a class="el" href="socket__master_8cc_source.html#l00183">s3f::s3fnet::SocketMaster::bind()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00194">s3f::s3fnet::NBSocketMaster::bind()</a>, <a class="el" href="socket__master_8cc_source.html#l00306">s3f::s3fnet::SocketMaster::block_till()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00317">s3f::s3fnet::NBSocketMaster::block_till()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00161">s3f::s3fnet::BTCPClientSession::BTCPClientSession()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00423">s3f::s3fnet::OpenFlowSwitchSession::BufferFromPacket()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="udp__session_8cc_source.html#l00134">s3f::s3fnet::UDPSession::clear_app_state()</a>, <a class="el" href="udp__server_8cc_source.html#l00326">s3f::s3fnet::UDPServerSession::client_connected()</a>, <a class="el" href="socket__master_8cc_source.html#l00802">s3f::s3fnet::SocketMaster::close()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00808">s3f::s3fnet::NBSocketMaster::close()</a>, <a class="el" href="socket__master_8cc_source.html#l00846">s3f::s3fnet::SocketMaster::close1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00867">s3f::s3fnet::NBSocketMaster::close1()</a>, <a class="el" href="udp__master_8cc_source.html#l00043">s3f::s3fnet::UDPMaster::config()</a>, <a class="el" href="dummy__session_8cc_source.html#l00042">s3f::s3fnet::DummySession::config()</a>, <a class="el" href="tcp__client_8cc_source.html#l00159">s3f::s3fnet::TCPClientSession::config()</a>, <a class="el" href="udp__server_8cc_source.html#l00158">s3f::s3fnet::UDPServerSession::config()</a>, <a class="el" href="udp__client_8cc_source.html#l00156">s3f::s3fnet::UDPClientSession::config()</a>, <a class="el" href="tcp__server_8cc_source.html#l00150">s3f::s3fnet::TCPServerSession::config()</a>, <a class="el" href="tcp__master_8cc_source.html#l00106">s3f::s3fnet::TCPMaster::config()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00237">s3f::s3fnet::NBTCPClientSession::config()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00169">s3f::s3fnet::BTCPClientSession::config()</a>, <a class="el" href="ip__session_8cc_source.html#l00060">config()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00279">s3f::s3fnet::NBTCPServerSession::config()</a>, <a class="el" href="udp__session_8cc_source.html#l00041">s3f::s3fnet::UDPSession::connect()</a>, <a class="el" href="socket__master_8cc_source.html#l00333">s3f::s3fnet::SocketMaster::connect()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00346">s3f::s3fnet::NBSocketMaster::connect()</a>, <a class="el" href="socket__master_8cc_source.html#l00365">s3f::s3fnet::SocketMaster::connect1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00396">s3f::s3fnet::NBSocketMaster::connect1()</a>, <a class="el" href="socket__master_8cc_source.html#l00240">s3f::s3fnet::SocketMaster::connected()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00251">s3f::s3fnet::NBSocketMaster::connected()</a>, <a class="el" href="udp__master_8cc_source.html#l00086">s3f::s3fnet::UDPMaster::control()</a>, <a class="el" href="socket__master_8cc_source.html#l00052">s3f::s3fnet::SocketMaster::control()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00052">s3f::s3fnet::NBSocketMaster::control()</a>, <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>, <a class="el" href="tcp__master_8cc_source.html#l00472">s3f::s3fnet::TCPMaster::createSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="udp__server_8cc_source.html#l00348">s3f::s3fnet::UDPServerSession::data_sent()</a>, <a class="el" href="tcp__server_8cc_source.html#l00299">s3f::s3fnet::TCPServerSession::data_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00058">s3f::s3fnet::UDPSession::disconnect()</a>, <a class="el" href="tcp__master_8cc_source.html#l00547">s3f::s3fnet::TCPMaster::enableFastTimeout()</a>, <a class="el" href="socket__master_8cc_source.html#l00262">s3f::s3fnet::SocketMaster::eof()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00273">s3f::s3fnet::NBSocketMaster::eof()</a>, <a class="el" href="udp__client_8cc_source.html#l00077">s3f::s3fnet::UDPClientSessionContinuation::failure()</a>, <a class="el" href="udp__server_8cc_source.html#l00078">s3f::s3fnet::UDPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__server_8cc_source.html#l00081">s3f::s3fnet::TCPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__client_8cc_source.html#l00081">s3f::s3fnet::TCPClientSessionContinuation::failure()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00093">s3f::s3fnet::BTCPClientSessionContinuation::failure()</a>, <a class="el" href="tcp__master_8cc_source.html#l00579">s3f::s3fnet::TCPMaster::fast_timer_callback_body()</a>, <a class="el" href="openflow__interface_8cc_source.html#l00184">s3f::s3fnet::Stats::FlowStatsDump()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00850">s3f::s3fnet::OpenFlowSwitchSession::FlowTableLookup()</a>, <a class="el" href="ip__session_8cc_source.html#l00489">get_parent_by_protocol()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="protocol__session_8cc_source.html#l00123">s3f::s3fnet::ProtocolSession::getNow()</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="ip__session_8cc_source.html#l00567">handle_pop_local_pkt()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">handle_pop_pkt()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01415">s3f::s3fnet::OpenFlowSwitchSession::HandleControlInput()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00297">s3f::s3fnet::LearningControllerSession::HandleInquiryMessageFromOFSwitch()</a>, <a class="el" href="dummy__session_8cc_source.html#l00116">s3f::s3fnet::DummySession::init()</a>, <a class="el" href="udp__master_8cc_source.html#l00067">s3f::s3fnet::UDPMaster::init()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00048">s3f::s3fnet::OpenFlowControllerSession::init()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00060">s3f::s3fnet::OpenVZEventSession::init()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__server_8cc_source.html#l00229">s3f::s3fnet::UDPServerSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="tcp__server_8cc_source.html#l00201">s3f::s3fnet::TCPServerSession::init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00112">s3f::s3fnet::OpenFlowSwitchSession::init()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00282">s3f::s3fnet::NBTCPClientSession::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="socket__master_8cc_source.html#l00042">s3f::s3fnet::SocketMaster::init()</a>, <a class="el" href="ip__session_8cc_source.html#l00076">init()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00042">s3f::s3fnet::NBSocketMaster::init()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00330">s3f::s3fnet::NBTCPServerSession::init()</a>, <a class="el" href="tcp__state_8cc_source.html#l00020">s3f::s3fnet::TCPSession::init_state_closed()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="ip__session_8cc_source.html#l00030">IPSession()</a>, <a class="el" href="udp__session_8cc_source.html#l00068">s3f::s3fnet::UDPSession::listen()</a>, <a class="el" href="socket__master_8cc_source.html#l00228">s3f::s3fnet::SocketMaster::listen()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00239">s3f::s3fnet::NBSocketMaster::listen()</a>, <a class="el" href="ip__session_8cc_source.html#l00437">load_forwarding_table()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01227">s3f::s3fnet::OpenFlowSwitchSession::ModFlow()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00025">s3f::s3fnet::NBSocketMaster::NBSocketMaster()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00124">s3f::s3fnet::NBTCPClientSession::NBTCPClientSession()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00204">s3f::s3fnet::NBTCPServerSession::NBTCPServerSession()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00199">s3f::s3fnet::NBTCPClientSession::non_blocking_loop()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00244">s3f::s3fnet::NBTCPServerSession::non_blocking_loop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">s3f::s3fnet::OpenFlowSwitchSession::OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">s3f::s3fnet::OpenFlowSwitchSession::OutputPacket()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00636">s3f::s3fnet::OpenFlowSwitchSession::OutputPort()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00078">s3f::s3fnet::OpenFlowControllerSession::pop()</a>, <a class="el" href="udp__master_8cc_source.html#l00109">s3f::s3fnet::UDPMaster::pop()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00161">s3f::s3fnet::OpenFlowSwitchSession::pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00416">s3f::s3fnet::TCPMaster::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00410">pop()</a>, <a class="el" href="openflow__controller_8cc_source.html#l00175">s3f::s3fnet::LearningController::process_recv_packet()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">push()</a>, <a class="el" href="udp__session_8cc_source.html#l00189">s3f::s3fnet::UDPSession::receive()</a>, <a class="el" href="tcp__receiver_8cc_source.html#l00040">s3f::s3fnet::TCPSession::receive()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00193">s3f::s3fnet::LearningControllerSession::ReceiveFromSwitch()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01028">s3f::s3fnet::OpenFlowSwitchSession::ReceivePacketOut()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01076">s3f::s3fnet::OpenFlowSwitchSession::ReceivePortMod()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01360">s3f::s3fnet::OpenFlowSwitchSession::ReceiveStatsRequest()</a>, <a class="el" href="socket__master_8cc_source.html#l00717">s3f::s3fnet::SocketMaster::recv()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00706">s3f::s3fnet::NBSocketMaster::recv()</a>, <a class="el" href="socket__master_8cc_source.html#l00759">s3f::s3fnet::SocketMaster::recv1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00764">s3f::s3fnet::NBSocketMaster::recv1()</a>, <a class="el" href="udp__server_8cc_source.html#l00283">s3f::s3fnet::UDPServerSession::request_received()</a>, <a class="el" href="tcp__server_8cc_source.html#l00272">s3f::s3fnet::TCPServerSession::request_received()</a>, <a class="el" href="udp__client_8cc_source.html#l00408">s3f::s3fnet::UDPClientSession::request_sent()</a>, <a class="el" href="tcp__client_8cc_source.html#l00412">s3f::s3fnet::TCPClientSession::request_sent()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00093">s3f::s3fnet::NBTCPClientSessionContinuation::resume()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00104">s3f::s3fnet::NBTCPServerSessionContinuation::resume()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00893">s3f::s3fnet::OpenFlowSwitchSession::RunThroughFlowTable()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, <a class="el" href="socket__master_8cc_source.html#l00637">s3f::s3fnet::SocketMaster::send()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00609">s3f::s3fnet::NBSocketMaster::send()</a>, <a class="el" href="socket__master_8cc_source.html#l00679">s3f::s3fnet::SocketMaster::send1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00667">s3f::s3fnet::NBSocketMaster::send1()</a>, <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00823">s3f::s3fnet::OpenFlowSwitchSession::SendFlowExpired()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00686">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00808">s3f::s3fnet::OpenFlowSwitchSession::SendPortStatus()</a>, <a class="el" href="udp__client_8cc_source.html#l00390">s3f::s3fnet::UDPClientSession::server_connected()</a>, <a class="el" href="tcp__client_8cc_source.html#l00394">s3f::s3fnet::TCPClientSession::server_connected()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00395">s3f::s3fnet::BTCPClientSession::server_connected()</a>, <a class="el" href="udp__server_8cc_source.html#l00371">s3f::s3fnet::UDPServerSession::session_closed()</a>, <a class="el" href="udp__client_8cc_source.html#l00465">s3f::s3fnet::UDPClientSession::session_closed()</a>, <a class="el" href="tcp__client_8cc_source.html#l00469">s3f::s3fnet::TCPClientSession::session_closed()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">s3f::s3fnet::TCPServerSession::session_closed()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00452">s3f::s3fnet::BTCPClientSession::session_closed()</a>, <a class="el" href="tcp__master_8cc_source.html#l00520">s3f::s3fnet::TCPMaster::setConnected()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00270">s3f::s3fnet::OpenFlowSwitchSession::SetController()</a>, <a class="el" href="tcp__master_8cc_source.html#l00538">s3f::s3fnet::TCPMaster::setIdle()</a>, <a class="el" href="tcp__master_8cc_source.html#l00529">s3f::s3fnet::TCPMaster::setListening()</a>, <a class="el" href="udp__session_8cc_source.html#l00084">s3f::s3fnet::UDPSession::setSource()</a>, <a class="el" href="tcp__master_8cc_source.html#l00610">s3f::s3fnet::TCPMaster::slow_timer_callback_body()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00029">s3f::s3fnet::TCPSession::slowTimeoutHandling()</a>, <a class="el" href="socket__master_8cc_source.html#l00162">s3f::s3fnet::SocketMaster::socket()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00173">s3f::s3fnet::NBSocketMaster::socket()</a>, <a class="el" href="socket__master_8cc_source.html#l00025">s3f::s3fnet::SocketMaster::SocketMaster()</a>, <a class="el" href="udp__server_8cc_source.html#l00253">s3f::s3fnet::UDPServerSession::start_on()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__server_8cc_source.html#l00224">s3f::s3fnet::TCPServerSession::start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00173">s3f::s3fnet::NBTCPClientSession::start_on()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00215">s3f::s3fnet::NBTCPServerSession::start_on()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00074">s3f::s3fnet::NBTCPServerSessionContinuation::success()</a>, <a class="el" href="tcp__client_8cc_source.html#l00151">s3f::s3fnet::TCPClientSession::TCPClientSession()</a>, <a class="el" href="tcp__master_8cc_source.html#l00052">s3f::s3fnet::TCPMaster::TCPMaster()</a>, <a class="el" href="tcp__server_8cc_source.html#l00142">s3f::s3fnet::TCPServerSession::TCPServerSession()</a>, <a class="el" href="tcp__session_8cc_source.html#l00029">s3f::s3fnet::TCPSession::TCPSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00521">s3f::s3fnet::UDPClientSession::timeout()</a>, <a class="el" href="tcp__client_8cc_source.html#l00528">s3f::s3fnet::TCPClientSession::timeout()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00512">s3f::s3fnet::BTCPClientSession::timeout()</a>, <a class="el" href="udp__client_8cc_source.html#l00148">s3f::s3fnet::UDPClientSession::UDPClientSession()</a>, <a class="el" href="udp__master_8cc_source.html#l00030">s3f::s3fnet::UDPMaster::UDPMaster()</a>, <a class="el" href="udp__server_8cc_source.html#l00150">s3f::s3fnet::UDPServerSession::UDPServerSession()</a>, <a class="el" href="udp__session_8cc_source.html#l00024">s3f::s3fnet::UDPSession::UDPSession()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00134">s3f::s3fnet::TCPSession::update_timeout()</a>, <a class="el" href="ip__session_8cc_source.html#l00423">verify_local_ip_address()</a>, and <a class="el" href="udp__session_8cc_source.html#l00118">s3f::s3fnet::UDPSession::wake_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">Host</a>*<span class="keyword">&gt;</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a9e93967a56c673f625b486d2fe389067"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">s3f::s3fnet::ProtocolSession::ingraph</a></div><div class="ttdeci">ProtocolGraph * ingraph</div><div class="ttdoc">Points to the protocol graph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00335">protocol_session.h:335</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a912b690126957a1ad90d0c373a4ad4d0"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">s3f::s3fnet::ProtocolSession::Host</a></div><div class="ttdeci">friend class Host</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00040">protocol_session.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ffe57c5dfd8cc847d566acf4581b968"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a>* s3f::s3fnet::ProtocolSession::getRandom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns a pointer to the random number generator. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00200">200</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00338">s3f::s3fnet::ProtocolSession::sess_rng</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">s3f::s3fnet::DroptailQueue::calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="dummy__session_8cc_source.html#l00116">s3f::s3fnet::DummySession::init()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, and <a class="el" href="network__interface_8cc_source.html#l00216">s3f::s3fnet::NetworkInterface::receivePacket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">sess_rng</a>;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a41caeb7af8ef9b2d1b3ead0bedfe63c9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">s3f::s3fnet::ProtocolSession::sess_rng</a></div><div class="ttdeci">Random::RNG * sess_rng</div><div class="ttdoc">Pointer to a random number generator. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00338">protocol_session.h:338</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a8fc3b0c62b09c82b72268b56abb58c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::ProtocolSession::getNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns the current simulation time. </p>
<p>To be safe, please do NOT call this function after initialization and before wrapup phase. That is, it is unsafe to call this method in the constructor, destructor, config, init, and wrapup methods. The time service is carried out by the host's owner community. This method just directs the call to the community. It's given here for convenience. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00123">123</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, and <a class="el" href="entity_8cc_source.html#l00111">Entity::now()</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">s3f::s3fnet::DroptailQueue::calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="tcp__master_8cc_source.html#l00547">s3f::s3fnet::TCPMaster::enableFastTimeout()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00036">s3f::s3fnet::DroptailQueue::enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="tcp__master_8cc_source.html#l00579">s3f::s3fnet::TCPMaster::fast_timer_callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="tcp__session_8h_source.html#l00385">s3f::s3fnet::TCPSession::now()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00610">s3f::s3fnet::TCPMaster::slow_timer_callback_body()</a>, <a class="el" href="socket__master_8cc_source.html#l00162">s3f::s3fnet::SocketMaster::socket()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00173">s3f::s3fnet::NBSocketMaster::socket()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, and <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">now</a>();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="ttc" id="class_entity_html_a303433dc2088519a44e8a56922ec1f0c"><div class="ttname"><a href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">Entity::now</a></div><div class="ttdeci">ltime_t now()</div><div class="ttdoc">Time on Entity&#39;s Timeline, either the time at which the current (or most recent) event on the timelin...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00111">entity.cc:111</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0250c97bad17f18ef7037fd76f7e5083"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For printing the current simulation time in a better readable format. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00128">128</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="host_8cc_source.html#l00316">s3f::s3fnet::Host::getNowWithThousandSeparator()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>.</p>

<p>Referenced by <a class="el" href="udp__session_8cc_source.html#l00095">s3f::s3fnet::UDPSession::abort()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="udp__session_8cc_source.html#l00134">s3f::s3fnet::UDPSession::clear_app_state()</a>, <a class="el" href="udp__session_8cc_source.html#l00041">s3f::s3fnet::UDPSession::connect()</a>, <a class="el" href="tcp__master_8cc_source.html#l00472">s3f::s3fnet::TCPMaster::createSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="udp__server_8cc_source.html#l00348">s3f::s3fnet::UDPServerSession::data_sent()</a>, <a class="el" href="tcp__server_8cc_source.html#l00299">s3f::s3fnet::TCPServerSession::data_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00058">s3f::s3fnet::UDPSession::disconnect()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="ip__session_8cc_source.html#l00567">handle_pop_local_pkt()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">handle_pop_pkt()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="udp__session_8cc_source.html#l00068">s3f::s3fnet::UDPSession::listen()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, <a class="el" href="dummy__session_8cc_source.html#l00200">s3f::s3fnet::DummySession::pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="udp__master_8cc_source.html#l00109">s3f::s3fnet::UDPMaster::pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00416">s3f::s3fnet::TCPMaster::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00410">pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00145">s3f::s3fnet::SimplePhy::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">push()</a>, <a class="el" href="udp__session_8cc_source.html#l00189">s3f::s3fnet::UDPSession::receive()</a>, <a class="el" href="tcp__receiver_8cc_source.html#l00040">s3f::s3fnet::TCPSession::receive()</a>, <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>, <a class="el" href="udp__server_8cc_source.html#l00283">s3f::s3fnet::UDPServerSession::request_received()</a>, <a class="el" href="tcp__server_8cc_source.html#l00272">s3f::s3fnet::TCPServerSession::request_received()</a>, <a class="el" href="udp__client_8cc_source.html#l00408">s3f::s3fnet::UDPClientSession::request_sent()</a>, <a class="el" href="tcp__client_8cc_source.html#l00412">s3f::s3fnet::TCPClientSession::request_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>, <a class="el" href="simple__phy_8cc_source.html#l00158">s3f::s3fnet::SimplePhy::sendPacket()</a>, <a class="el" href="udp__client_8cc_source.html#l00390">s3f::s3fnet::UDPClientSession::server_connected()</a>, <a class="el" href="tcp__client_8cc_source.html#l00394">s3f::s3fnet::TCPClientSession::server_connected()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00395">s3f::s3fnet::BTCPClientSession::server_connected()</a>, <a class="el" href="udp__server_8cc_source.html#l00371">s3f::s3fnet::UDPServerSession::session_closed()</a>, <a class="el" href="udp__client_8cc_source.html#l00465">s3f::s3fnet::UDPClientSession::session_closed()</a>, <a class="el" href="tcp__client_8cc_source.html#l00469">s3f::s3fnet::TCPClientSession::session_closed()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">s3f::s3fnet::TCPServerSession::session_closed()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00452">s3f::s3fnet::BTCPClientSession::session_closed()</a>, <a class="el" href="tcp__master_8cc_source.html#l00520">s3f::s3fnet::TCPMaster::setConnected()</a>, <a class="el" href="tcp__master_8cc_source.html#l00538">s3f::s3fnet::TCPMaster::setIdle()</a>, <a class="el" href="tcp__master_8cc_source.html#l00529">s3f::s3fnet::TCPMaster::setListening()</a>, <a class="el" href="udp__session_8cc_source.html#l00084">s3f::s3fnet::UDPSession::setSource()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00029">s3f::s3fnet::TCPSession::slowTimeoutHandling()</a>, <a class="el" href="udp__server_8cc_source.html#l00253">s3f::s3fnet::UDPServerSession::start_on()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__server_8cc_source.html#l00224">s3f::s3fnet::TCPServerSession::start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>, <a class="el" href="tcp__session_8cc_source.html#l00029">s3f::s3fnet::TCPSession::TCPSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00521">s3f::s3fnet::UDPClientSession::timeout()</a>, <a class="el" href="tcp__client_8cc_source.html#l00528">s3f::s3fnet::TCPClientSession::timeout()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00512">s3f::s3fnet::BTCPClientSession::timeout()</a>, <a class="el" href="udp__session_8cc_source.html#l00024">s3f::s3fnet::UDPSession::UDPSession()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00134">s3f::s3fnet::TCPSession::update_timeout()</a>, and <a class="el" href="udp__session_8cc_source.html#l00118">s3f::s3fnet::UDPSession::wake_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#ad4e79d11c09dc928b370fbfc5e9c1296">getNowWithThousandSeparator</a>();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_ad4e79d11c09dc928b370fbfc5e9c1296"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#ad4e79d11c09dc928b370fbfc5e9c1296">s3f::s3fnet::Host::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">print out the current simulation time with thousand separator </div><div class="ttdef"><b>Definition:</b> <a href="host_8cc_source.html#l00316">host.cc:316</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a422a77ab55edab25263965f7eaf5458e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::configured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been configured. </p>
<p>This method is used to make sure we configure the protocol session before initializing it. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00221">221</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00053">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a></div><div class="ttdoc">the config method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00053">protocol_session.h:53</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca7233711f9c8c606c611ec97ee29cdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been initialized. </p>
<p>This can be used to sequence calls to the init method of protocol sessions. For example, if protocol session A requires protocol session B to be initialized before A can be initialized, A's init method can call B's init method as long as B's <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb" title="This method returns true if the protocol session has been initialized. ">initialized()</a> returns true. The system does not enforce any ordering in its calls the init methods of all protocol sessions declared in the dml configuration. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00233">233</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00054">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a></div><div class="ttdoc">the init method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00054">protocol_session.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac934416dd1e279568a3bef2e8a6b045d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::wrapped_up </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been wrapped up. </p>
<p>This can be used to sequence calls to the wrapup method of protocol sessions. For example, if protocol session A requires protocol session B to be wrapped up before A can be wrapped up, A's wrapup method can call B's wrapup method as long as B's <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d" title="This method returns true if the protocol session has been wrapped up. ">wrapped_up()</a> returns true. The system does not enforce any ordering in its calls the wrapup methods of all protocol sessions declared in the dml configuration. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00245">245</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00055">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7089cc1e64ae5238d584e140a54ac046"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* s3f::s3fnet::ProtocolSession::psesstype </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_n_b_socket_master.html#a512b27418a69718e5816695ff6180526">s3f::s3fnet::NBSocketMaster</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_socket_master.html#aa9aaee72acf7f9fae2d07551a44f799c">s3f::s3fnet::SocketMaster</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00247">247</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;GENERIC&quot;</span>; } <span class="comment">// DEBUG</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a399f44fe5680907c95aff451e414c98e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::ProtocolSession::instantiation_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method controls how protocol instances can coexist with one another. </p>
<p>It returns one of the following: </p>
<ul>
<li>
PROT_UNIQUE_INSTANCE (default): allows only one instance for each type of protocol per protocol stack; </li>
<li>
PROT_MULTIPLE_INSTANCES: allows multiple instances of the same implementation for each type of protocol per protocol stack; </li>
<li>
PROT_MULTIPLE_IMPLEMENTATIONS: allows multiple instances from different implementations of the same protocol to exist on the protocol stack. </li>
</ul>

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_b_t_c_p_client_session.html#a534c623ca099aabc030db725429acec2">s3f::s3fnet::BTCPClientSession</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_client_session.html#a4f991d67621b12fb8b807813ce750487">s3f::s3fnet::TCPClientSession</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00269">269</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00045">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a>.</p>

<p>Referenced by <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00045">protocol_session.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a02c0b0ed8bd28e1f59127229d048d213"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html">ForwardingTable</a>* s3f::s3fnet::IPSession::forwarding_table</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Forwarding table used to deliver packets. </p>

<p>Definition at line <a class="el" href="ip__session_8h_source.html#l00216">216</a> of file <a class="el" href="ip__session_8h_source.html">ip_session.h</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">handle_pop_pkt()</a>, <a class="el" href="ip__session_8cc_source.html#l00076">init()</a>, <a class="el" href="ip__session_8cc_source.html#l00437">load_forwarding_table()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">push()</a>, and <a class="el" href="ip__session_8cc_source.html#l00039">~IPSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a85096a1d3fd6310fea4c7f8ae01d3314"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool s3f::s3fnet::IPSession::show_drop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to print a message when a packet has been dropped. </p>

<p>Definition at line <a class="el" href="ip__session_8h_source.html#l00219">219</a> of file <a class="el" href="ip__session_8h_source.html">ip_session.h</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00060">config()</a>, <a class="el" href="ip__session_8cc_source.html#l00567">handle_pop_local_pkt()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">handle_pop_pkt()</a>, and <a class="el" href="ip__session_8cc_source.html#l00282">push()</a>.</p>

</div>
</div>
<a class="anchor" id="ab022a87e3e8a14e9644095ab70e6e476"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a>* s3f::s3fnet::IPSession::pop_intercept_sess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>session that intercept packet. </p>

<p>Definition at line <a class="el" href="ip__session_8h_source.html#l00227">227</a> of file <a class="el" href="ip__session_8h_source.html">ip_session.h</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">control()</a>.</p>

</div>
</div>
<a class="anchor" id="a7eedcbe4da39cba727d26f1339ac7c47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* s3f::s3fnet::ProtocolSession::name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Symbolic name of the protocol this session implements. </p>
<p>The name of the protocol is derived from the DML 'name' attribute. It must not be NULL once the protocol session is configured. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00063">63</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="network__interface_8cc_source.html#l00055">s3f::s3fnet::NetworkInterface::config()</a>, <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="simple__mac_8cc_source.html#l00041">s3f::s3fnet::SimpleMac::init()</a>, <a class="el" href="udp__master_8cc_source.html#l00067">s3f::s3fnet::UDPMaster::init()</a>, <a class="el" href="simple__phy_8cc_source.html#l00130">s3f::s3fnet::SimplePhy::init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="socket__master_8cc_source.html#l00042">s3f::s3fnet::SocketMaster::init()</a>, <a class="el" href="ip__session_8cc_source.html#l00076">init()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00042">s3f::s3fnet::NBSocketMaster::init()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>, <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00140">s3f::s3fnet::ProtocolSession::~ProtocolSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a4bb8b1c69b73b59173827f60dc2cacd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float s3f::s3fnet::ProtocolSession::version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Version number of this protocol implemenntation, represented as a floating point number (e.g., 1.23). </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00069">69</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6085e2d490de56b7feec0941b37cf8fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* s3f::s3fnet::ProtocolSession::use</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the protocol class from which this protocol session is instantiated. </p>
<p>The protocol class must be registered with the <a class="el" href="classs3f_1_1s3fnet_1_1_protocols.html" title="Managing protocols. ">Protocols</a> class so that we will be able to instantiate an object from the class. (C++ does not support self-reflection). The class name must not be NULL once the protocol session is configured. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00079">79</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="network__interface_8cc_source.html#l00055">s3f::s3fnet::NetworkInterface::config()</a>, <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00140">s3f::s3fnet::ProtocolSession::~ProtocolSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e93967a56c673f625b486d2fe389067"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a>* s3f::s3fnet::ProtocolSession::ingraph</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Points to the protocol graph. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00335">335</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="nic__protocol__session_8cc_source.html#l00037">s3f::s3fnet::NicProtocolSession::getNetworkInterface()</a>, <a class="el" href="protocol__session_8h_source.html#l00178">s3f::s3fnet::ProtocolSession::inGraph()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>.</p>

</div>
</div>
<a class="anchor" id="a41caeb7af8ef9b2d1b3ead0bedfe63c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a>* s3f::s3fnet::ProtocolSession::sess_rng</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to a random number generator. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00338">338</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8h_source.html#l00200">s3f::s3fnet::ProtocolSession::getRandom()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a446b7857e72ac901402821230f5bcd60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::stage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This variable indicates the current stage of this protocol session. </p>
<p>Each protocol session will go through four staged: PSESS_CREATED, PSESS_CONFIGURED, PSESS_INITIALIZED, and then PSESS_WRAPPED_UP. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00346">346</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="protocol__session_8h_source.html#l00221">s3f::s3fnet::ProtocolSession::configured()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="protocol__session_8h_source.html#l00233">s3f::s3fnet::ProtocolSession::initialized()</a>, <a class="el" href="protocol__session_8h_source.html#l00245">s3f::s3fnet::ProtocolSession::wrapped_up()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ip__session_8h_source.html">ip_session.h</a></li>
<li><a class="el" href="ip__session_8cc_source.html">ip_session.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaces3f.html">s3f</a></li><li class="navelem"><a class="el" href="namespaces3f_1_1s3fnet.html">s3fnet</a></li><li class="navelem"><a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html">IPSession</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 00:36:02 for S3F by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
