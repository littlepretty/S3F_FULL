<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>S3F: s3f::s3fnet::TCPServerSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">S3F
   &#160;<span id="projectnumber">2.1.0_full_version</span>
   </div>
   <div id="projectbrief">Simpler Scalable Simulation Framework + S3F-based Network Testbed (Simulation, OpenVZ-based Emulation, and OpenFlow-based SDN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classs3f_1_1s3fnet_1_1_t_c_p_server_session.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">s3f::s3fnet::TCPServerSession Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The TCP server test protocol session.  
 <a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for s3f::s3fnet::TCPServerSession:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classs3f_1_1s3fnet_1_1_t_c_p_server_session.png" usemap="#s3f::s3fnet::TCPServerSession_map" alt=""/>
  <map id="s3f::s3fnet::TCPServerSession_map" name="s3f::s3fnet::TCPServerSession_map">
<area href="classs3f_1_1s3fnet_1_1_protocol_session.html" title="A protocol layer on the protocol stack. " alt="s3f::s3fnet::ProtocolSession" shape="rect" coords="0,56,182,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a683dd9bc9c34204838e69790fd82f098"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">InstantiationType</a> { <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a> = 0x00, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">PROT_MULTIPLE_INSTANCES</a> = 0x01, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">PROT_MULTIPLE_IMPLEMENTATIONS</a> = 0x02
 }</td></tr>
<tr class="memdesc:a683dd9bc9c34204838e69790fd82f098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiple protocol session instantiation type.  <a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">More...</a><br/></td></tr>
<tr class="separator:a683dd9bc9c34204838e69790fd82f098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3846269d44f267c44706152b1a78a118"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">ExecutionStage</a> { <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">PSESS_CREATED</a> = 0, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a> = 1, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a> = 2, 
<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a> = 3
 }</td></tr>
<tr class="memdesc:a3846269d44f267c44706152b1a78a118"><td class="mdescLeft">&#160;</td><td class="mdescRight">A normal protocol session must go though the following stages.  <a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">More...</a><br/></td></tr>
<tr class="separator:a3846269d44f267c44706152b1a78a118"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adbdcf08d98b56a8438e8ce58ce9afb24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#adbdcf08d98b56a8438e8ce58ce9afb24">TCPServerSession</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *graph)</td></tr>
<tr class="memdesc:adbdcf08d98b56a8438e8ce58ce9afb24"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor.  <a href="#adbdcf08d98b56a8438e8ce58ce9afb24">More...</a><br/></td></tr>
<tr class="separator:adbdcf08d98b56a8438e8ce58ce9afb24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f72219d0e785d4a7162222d030c5598"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a9f72219d0e785d4a7162222d030c5598">~TCPServerSession</a> ()</td></tr>
<tr class="memdesc:a9f72219d0e785d4a7162222d030c5598"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor.  <a href="#a9f72219d0e785d4a7162222d030c5598">More...</a><br/></td></tr>
<tr class="separator:a9f72219d0e785d4a7162222d030c5598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1780d03bf77dedeff58fe2bd2ac897ab"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1780d03bf77dedeff58fe2bd2ac897ab">config</a> (s3f::dml::Configuration *cfg)</td></tr>
<tr class="memdesc:a1780d03bf77dedeff58fe2bd2ac897ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the TCP server test protocol session.  <a href="#a1780d03bf77dedeff58fe2bd2ac897ab">More...</a><br/></td></tr>
<tr class="separator:a1780d03bf77dedeff58fe2bd2ac897ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8eb106aa97cd85c180d7b1758ddb62"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5c8eb106aa97cd85c180d7b1758ddb62">getProtocolNumber</a> ()</td></tr>
<tr class="memdesc:a5c8eb106aa97cd85c180d7b1758ddb62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the protocol number.  <a href="#a5c8eb106aa97cd85c180d7b1758ddb62">More...</a><br/></td></tr>
<tr class="separator:a5c8eb106aa97cd85c180d7b1758ddb62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc87a7b897ade44eda2f09391c7d9c96"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#acc87a7b897ade44eda2f09391c7d9c96">init</a> ()</td></tr>
<tr class="memdesc:acc87a7b897ade44eda2f09391c7d9c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize this protocol session.  <a href="#acc87a7b897ade44eda2f09391c7d9c96">More...</a><br/></td></tr>
<tr class="separator:acc87a7b897ade44eda2f09391c7d9c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ed5bd64e2441b8a5859910903bd69a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ad9ed5bd64e2441b8a5859910903bd69a">start_timer_callback</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> ac)</td></tr>
<tr class="memdesc:ad9ed5bd64e2441b8a5859910903bd69a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The callback function registered with the start_timer_callback_proc.  <a href="#ad9ed5bd64e2441b8a5859910903bd69a">More...</a><br/></td></tr>
<tr class="separator:ad9ed5bd64e2441b8a5859910903bd69a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b1d48edbb1aec6b740de60666414f2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a79b1d48edbb1aec6b740de60666414f2">wrapup</a> ()</td></tr>
<tr class="memdesc:a79b1d48edbb1aec6b740de60666414f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method is used to wrap up the protocol session.  <a href="#a79b1d48edbb1aec6b740de60666414f2">More...</a><br/></td></tr>
<tr class="separator:a79b1d48edbb1aec6b740de60666414f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9fa5693373188218eba85c782583e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7">pushdown</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *hi_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:a1a9fa5693373188218eba85c782583e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The original push method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7" title="The original push method is divided into pushdown() and push(). ">pushdown()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">push()</a>.  <a href="#a1a9fa5693373188218eba85c782583e7">More...</a><br/></td></tr>
<tr class="separator:a1a9fa5693373188218eba85c782583e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f962741a6c055135d2cab28ea0b9c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8">popup</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *lo_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:af3f962741a6c055135d2cab28ea0b9c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The original pop method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8" title="The original pop method is divided into popup() and pop(). ">popup()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">pop()</a>.  <a href="#af3f962741a6c055135d2cab28ea0b9c8">More...</a><br/></td></tr>
<tr class="separator:af3f962741a6c055135d2cab28ea0b9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a806b5f5786984f8bc40421e92d19fe3e"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a806b5f5786984f8bc40421e92d19fe3e">control</a> (int ctrltyp, void *ctrlmsg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *sess)</td></tr>
<tr class="memdesc:a806b5f5786984f8bc40421e92d19fe3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The control method is used by the protocol session to receive control messages (or information queries) from other protocol sessions both above and below this protocol session on the stack.  <a href="#a806b5f5786984f8bc40421e92d19fe3e">More...</a><br/></td></tr>
<tr class="separator:a806b5f5786984f8bc40421e92d19fe3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a383bfb5d8385ab3ddbabaeba2e4a38aa">inGraph</a> ()</td></tr>
<tr class="memdesc:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns the protocol graph in which this protocol session resides.  <a href="#a383bfb5d8385ab3ddbabaeba2e4a38aa">More...</a><br/></td></tr>
<tr class="separator:a383bfb5d8385ab3ddbabaeba2e4a38aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afadb38bfa4c4daa1049b229d7abce81c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classs3f_1_1s3fnet_1_1_host.html">Host</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a> ()</td></tr>
<tr class="memdesc:afadb38bfa4c4daa1049b229d7abce81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the host owning this protocol session.  <a href="#afadb38bfa4c4daa1049b229d7abce81c">More...</a><br/></td></tr>
<tr class="separator:afadb38bfa4c4daa1049b229d7abce81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffe57c5dfd8cc847d566acf4581b968"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9ffe57c5dfd8cc847d566acf4581b968">getRandom</a> ()</td></tr>
<tr class="memdesc:a9ffe57c5dfd8cc847d566acf4581b968"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns a pointer to the random number generator.  <a href="#a9ffe57c5dfd8cc847d566acf4581b968">More...</a><br/></td></tr>
<tr class="separator:a9ffe57c5dfd8cc847d566acf4581b968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7a8fc3b0c62b09c82b72268b56abb58c">getNow</a> ()</td></tr>
<tr class="memdesc:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method returns the current simulation time.  <a href="#a7a8fc3b0c62b09c82b72268b56abb58c">More...</a><br/></td></tr>
<tr class="separator:a7a8fc3b0c62b09c82b72268b56abb58c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0250c97bad17f18ef7037fd76f7e5083"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a> ()</td></tr>
<tr class="memdesc:a0250c97bad17f18ef7037fd76f7e5083"><td class="mdescLeft">&#160;</td><td class="mdescRight">For printing the current simulation time in a better readable format.  <a href="#a0250c97bad17f18ef7037fd76f7e5083">More...</a><br/></td></tr>
<tr class="separator:a0250c97bad17f18ef7037fd76f7e5083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422a77ab55edab25263965f7eaf5458e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a422a77ab55edab25263965f7eaf5458e">configured</a> ()</td></tr>
<tr class="memdesc:a422a77ab55edab25263965f7eaf5458e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been configured.  <a href="#a422a77ab55edab25263965f7eaf5458e">More...</a><br/></td></tr>
<tr class="separator:a422a77ab55edab25263965f7eaf5458e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7233711f9c8c606c611ec97ee29cdb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">initialized</a> ()</td></tr>
<tr class="memdesc:aca7233711f9c8c606c611ec97ee29cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been initialized.  <a href="#aca7233711f9c8c606c611ec97ee29cdb">More...</a><br/></td></tr>
<tr class="separator:aca7233711f9c8c606c611ec97ee29cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac934416dd1e279568a3bef2e8a6b045d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">wrapped_up</a> ()</td></tr>
<tr class="memdesc:ac934416dd1e279568a3bef2e8a6b045d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the protocol session has been wrapped up.  <a href="#ac934416dd1e279568a3bef2e8a6b045d">More...</a><br/></td></tr>
<tr class="separator:ac934416dd1e279568a3bef2e8a6b045d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7089cc1e64ae5238d584e140a54ac046"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7089cc1e64ae5238d584e140a54ac046">psesstype</a> ()</td></tr>
<tr class="separator:a7089cc1e64ae5238d584e140a54ac046"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1325bdca2467baa3ecac033d71f72677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_process.html">Process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1325bdca2467baa3ecac033d71f72677">start_timer_callback_proc</a></td></tr>
<tr class="memdesc:a1325bdca2467baa3ecac033d71f72677"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> object for start timer callback Provide call_back functionality for implementing the start timer in the <a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html" title="The TCP server test protocol session. ">TCPServerSession</a>.  <a href="#a1325bdca2467baa3ecac033d71f72677">More...</a><br/></td></tr>
<tr class="separator:a1325bdca2467baa3ecac033d71f72677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92499f2b22094a4d6a841f2cfeae9f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_callback_activation.html">ProtocolCallbackActivation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ab92499f2b22094a4d6a841f2cfeae9f8">start_timer_ac</a></td></tr>
<tr class="memdesc:ab92499f2b22094a4d6a841f2cfeae9f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activation object for start timer callback.  <a href="#ab92499f2b22094a4d6a841f2cfeae9f8">More...</a><br/></td></tr>
<tr class="separator:ab92499f2b22094a4d6a841f2cfeae9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eedcbe4da39cba727d26f1339ac7c47"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a></td></tr>
<tr class="memdesc:a7eedcbe4da39cba727d26f1339ac7c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Symbolic name of the protocol this session implements.  <a href="#a7eedcbe4da39cba727d26f1339ac7c47">More...</a><br/></td></tr>
<tr class="separator:a7eedcbe4da39cba727d26f1339ac7c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a4bb8b1c69b73b59173827f60dc2cacd0">version</a></td></tr>
<tr class="memdesc:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version number of this protocol implemenntation, represented as a floating point number (e.g., 1.23).  <a href="#a4bb8b1c69b73b59173827f60dc2cacd0">More...</a><br/></td></tr>
<tr class="separator:a4bb8b1c69b73b59173827f60dc2cacd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6085e2d490de56b7feec0941b37cf8fe"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a6085e2d490de56b7feec0941b37cf8fe">use</a></td></tr>
<tr class="memdesc:a6085e2d490de56b7feec0941b37cf8fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the protocol class from which this protocol session is instantiated.  <a href="#a6085e2d490de56b7feec0941b37cf8fe">More...</a><br/></td></tr>
<tr class="separator:a6085e2d490de56b7feec0941b37cf8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afff5070b043a06ec6f2d2d3d4b7f6afd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#afff5070b043a06ec6f2d2d3d4b7f6afd">start_on</a> ()</td></tr>
<tr class="memdesc:afff5070b043a06ec6f2d2d3d4b7f6afd"><td class="mdescLeft">&#160;</td><td class="mdescRight">start the TCP server  <a href="#afff5070b043a06ec6f2d2d3d4b7f6afd">More...</a><br/></td></tr>
<tr class="separator:afff5070b043a06ec6f2d2d3d4b7f6afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ecd971abb2bc21578bcabaf0d44091d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1ecd971abb2bc21578bcabaf0d44091d">handle_client</a> (int socket)</td></tr>
<tr class="memdesc:a1ecd971abb2bc21578bcabaf0d44091d"><td class="mdescLeft">&#160;</td><td class="mdescRight">function representing the handle_client stage  <a href="#a1ecd971abb2bc21578bcabaf0d44091d">More...</a><br/></td></tr>
<tr class="separator:a1ecd971abb2bc21578bcabaf0d44091d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbe8e8cb464ec695159ae3d669dbb47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#aadbe8e8cb464ec695159ae3d669dbb47">connection_accepted</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const cnt)</td></tr>
<tr class="memdesc:aadbe8e8cb464ec695159ae3d669dbb47"><td class="mdescLeft">&#160;</td><td class="mdescRight">function representing the connection_accepted stage  <a href="#aadbe8e8cb464ec695159ae3d669dbb47">More...</a><br/></td></tr>
<tr class="separator:aadbe8e8cb464ec695159ae3d669dbb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339616fc15d850a357a12d15d5df2413"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a339616fc15d850a357a12d15d5df2413">request_received</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const cnt)</td></tr>
<tr class="memdesc:a339616fc15d850a357a12d15d5df2413"><td class="mdescLeft">&#160;</td><td class="mdescRight">function representing the request_received stage  <a href="#a339616fc15d850a357a12d15d5df2413">More...</a><br/></td></tr>
<tr class="separator:a339616fc15d850a357a12d15d5df2413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ffeca2b1aed04da575ed8cdacb76ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae7ffeca2b1aed04da575ed8cdacb76ff">sending_data</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const cnt)</td></tr>
<tr class="memdesc:ae7ffeca2b1aed04da575ed8cdacb76ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">function representing the sending_data stage  <a href="#ae7ffeca2b1aed04da575ed8cdacb76ff">More...</a><br/></td></tr>
<tr class="separator:ae7ffeca2b1aed04da575ed8cdacb76ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e562c456b6bf3f0472dd5098fdc03d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a62e562c456b6bf3f0472dd5098fdc03d">data_sent</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const cnt)</td></tr>
<tr class="memdesc:a62e562c456b6bf3f0472dd5098fdc03d"><td class="mdescLeft">&#160;</td><td class="mdescRight">function representing the data_sent stage  <a href="#a62e562c456b6bf3f0472dd5098fdc03d">More...</a><br/></td></tr>
<tr class="separator:a62e562c456b6bf3f0472dd5098fdc03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5400e02e027b0ed76fc00ffbc2e398a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5400e02e027b0ed76fc00ffbc2e398a7">session_closed</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const cnt)</td></tr>
<tr class="memdesc:a5400e02e027b0ed76fc00ffbc2e398a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">function representing the session_closed stage  <a href="#a5400e02e027b0ed76fc00ffbc2e398a7">More...</a><br/></td></tr>
<tr class="separator:a5400e02e027b0ed76fc00ffbc2e398a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399f44fe5680907c95aff451e414c98e"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a399f44fe5680907c95aff451e414c98e">instantiation_type</a> ()</td></tr>
<tr class="memdesc:a399f44fe5680907c95aff451e414c98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method controls how protocol instances can coexist with one another.  <a href="#a399f44fe5680907c95aff451e414c98e">More...</a><br/></td></tr>
<tr class="separator:a399f44fe5680907c95aff451e414c98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9e93967a56c673f625b486d2fe389067"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a></td></tr>
<tr class="memdesc:a9e93967a56c673f625b486d2fe389067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Points to the protocol graph.  <a href="#a9e93967a56c673f625b486d2fe389067">More...</a><br/></td></tr>
<tr class="separator:a9e93967a56c673f625b486d2fe389067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">sess_rng</a></td></tr>
<tr class="memdesc:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a random number generator.  <a href="#a41caeb7af8ef9b2d1b3ead0bedfe63c9">More...</a><br/></td></tr>
<tr class="separator:a41caeb7af8ef9b2d1b3ead0bedfe63c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446b7857e72ac901402821230f5bcd60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a></td></tr>
<tr class="memdesc:a446b7857e72ac901402821230f5bcd60"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable indicates the current stage of this protocol session.  <a href="#a446b7857e72ac901402821230f5bcd60">More...</a><br/></td></tr>
<tr class="separator:a446b7857e72ac901402821230f5bcd60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aec121a54a329421a0b9cbcf8f93cb350"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#aec121a54a329421a0b9cbcf8f93cb350">push</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *hi_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:aec121a54a329421a0b9cbcf8f93cb350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push message to lower protocol layer.  <a href="#aec121a54a329421a0b9cbcf8f93cb350">More...</a><br/></td></tr>
<tr class="separator:aec121a54a329421a0b9cbcf8f93cb350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6d2ac9a144e36c5b46ed2a34f14785"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0c6d2ac9a144e36c5b46ed2a34f14785">pop</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *lo_sess, void *extinfo=0, size_t extinfo_size=0)</td></tr>
<tr class="memdesc:a0c6d2ac9a144e36c5b46ed2a34f14785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop message to higher protocol layer.  <a href="#a0c6d2ac9a144e36c5b46ed2a34f14785">More...</a><br/></td></tr>
<tr class="separator:a0c6d2ac9a144e36c5b46ed2a34f14785"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a86d25f08f209c740940389c692c3c0d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaces3f_1_1s3fnet.html#a86b23dba95adcf3919f9e2bd6207b6f8">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a86d25f08f209c740940389c692c3c0d4">server_port</a></td></tr>
<tr class="memdesc:a86d25f08f209c740940389c692c3c0d4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> number to receive incoming request.  <a href="#a86d25f08f209c740940389c692c3c0d4">More...</a><br/></td></tr>
<tr class="separator:a86d25f08f209c740940389c692c3c0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0107cb5ce67049fcad742ed6ad7f308"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">request_size</a></td></tr>
<tr class="memdesc:ae0107cb5ce67049fcad742ed6ad7f308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the request from client (must be consistent).  <a href="#ae0107cb5ce67049fcad742ed6ad7f308">More...</a><br/></td></tr>
<tr class="separator:ae0107cb5ce67049fcad742ed6ad7f308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2840e92dfa336e12bfa866dca1699bdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a></td></tr>
<tr class="memdesc:a2840e92dfa336e12bfa866dca1699bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of client sessions that can be handled simultaneously.  <a href="#a2840e92dfa336e12bfa866dca1699bdd">More...</a><br/></td></tr>
<tr class="separator:a2840e92dfa336e12bfa866dca1699bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8480d4c123ab05ff268d30808fe9b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">accept_completed</a></td></tr>
<tr class="memdesc:a0d8480d4c123ab05ff268d30808fe9b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept has been completed We have at least one client connected.  <a href="#a0d8480d4c123ab05ff268d30808fe9b7">More...</a><br/></td></tr>
<tr class="separator:a0d8480d4c123ab05ff268d30808fe9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d53af214d87fbd5d9f5cbaf747ec83a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4d53af214d87fbd5d9f5cbaf747ec83a">show_report</a></td></tr>
<tr class="memdesc:a4d53af214d87fbd5d9f5cbaf747ec83a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether we print out the result or not.  <a href="#a4d53af214d87fbd5d9f5cbaf747ec83a">More...</a><br/></td></tr>
<tr class="separator:a4d53af214d87fbd5d9f5cbaf747ec83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c264946c39c2c42e9b7b1ec7c5259e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_socket_master.html">SocketMaster</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a></td></tr>
<tr class="memdesc:a65c264946c39c2c42e9b7b1ec7c5259e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the socket master.  <a href="#a65c264946c39c2c42e9b7b1ec7c5259e">More...</a><br/></td></tr>
<tr class="separator:a65c264946c39c2c42e9b7b1ec7c5259e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b591296c226074b83189774fefd3171"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4b591296c226074b83189774fefd3171">server_ip</a></td></tr>
<tr class="memdesc:a4b591296c226074b83189774fefd3171"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ip address of this server (interface 0).  <a href="#a4b591296c226074b83189774fefd3171">More...</a><br/></td></tr>
<tr class="separator:a4b591296c226074b83189774fefd3171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fd6a54d381e35c12c4dfa73b11f227e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5fd6a54d381e35c12c4dfa73b11f227e">nclients</a></td></tr>
<tr class="memdesc:a5fd6a54d381e35c12c4dfa73b11f227e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of clients currently connected.  <a href="#a5fd6a54d381e35c12c4dfa73b11f227e">More...</a><br/></td></tr>
<tr class="separator:a5fd6a54d381e35c12c4dfa73b11f227e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The TCP server test protocol session. </p>
<p>This is a test protocol that does not exist in reality. In a normal situation, the protocol waits for an incoming request from a TCP client, spawns a process to handle the client connection, and then sends the requested number of bytes to the client. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00040">40</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a683dd9bc9c34204838e69790fd82f098"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098">s3f::s3fnet::ProtocolSession::InstantiationType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Multiple protocol session instantiation type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"></a>PROT_UNIQUE_INSTANCE</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4"></a>PROT_MULTIPLE_INSTANCES</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3"></a>PROT_MULTIPLE_IMPLEMENTATIONS</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00044">44</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                         {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a>                = 0x00,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">PROT_MULTIPLE_INSTANCES</a>             = 0x01,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">PROT_MULTIPLE_IMPLEMENTATIONS</a>       = 0x02</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00045">protocol_session.h:45</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098a3dd8d2d1f947cb4c3b24673626b442e4">s3f::s3fnet::ProtocolSession::PROT_MULTIPLE_INSTANCES</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00046">protocol_session.h:46</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098abecaf2bc52af031a71f58a323dee96f3">s3f::s3fnet::ProtocolSession::PROT_MULTIPLE_IMPLEMENTATIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00047">protocol_session.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3846269d44f267c44706152b1a78a118"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118">s3f::s3fnet::ProtocolSession::ExecutionStage</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A normal protocol session must go though the following stages. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798"></a>PSESS_CREATED</em>&#160;</td><td class="fielddoc">
<p>this protocol session has just been created </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"></a>PSESS_CONFIGURED</em>&#160;</td><td class="fielddoc">
<p>the config method of this protocol session has been called </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"></a>PSESS_INITIALIZED</em>&#160;</td><td class="fielddoc">
<p>the init method of this protocol session has been called </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"></a>PSESS_WRAPPED_UP</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00051">51</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                      {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">PSESS_CREATED</a>       = 0, </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a>    = 1, </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a>   = 2, </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>    = 3 </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  };</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a></div><div class="ttdoc">the config method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00053">protocol_session.h:53</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a></div><div class="ttdoc">the init method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00054">protocol_session.h:54</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a19592cb46ffb28c788fd51db257d8798">s3f::s3fnet::ProtocolSession::PSESS_CREATED</a></div><div class="ttdoc">this protocol session has just been created </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00052">protocol_session.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="adbdcf08d98b56a8438e8ce58ce9afb24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::TCPServerSession::TCPServerSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a> *&#160;</td>
          <td class="paramname"><em>graph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The constructor. </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00142">142</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00020">TCP_DUMP</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                                       :</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">ProtocolSession</a>(graph), <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">accept_completed</a>(<span class="keyword">true</span>), <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ab92499f2b22094a4d6a841f2cfeae9f8">start_timer_ac</a>(0), <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1325bdca2467baa3ecac033d71f72677">start_timer_callback_proc</a>(0)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] new tcp server session.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a0d8480d4c123ab05ff268d30808fe9b7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">s3f::s3fnet::TCPServerSession::accept_completed</a></div><div class="ttdeci">bool accept_completed</div><div class="ttdoc">Accept has been completed We have at least one client connected. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00147">tcp_server.h:147</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_ab92499f2b22094a4d6a841f2cfeae9f8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ab92499f2b22094a4d6a841f2cfeae9f8">s3f::s3fnet::TCPServerSession::start_timer_ac</a></div><div class="ttdeci">ProtocolCallbackActivation * start_timer_ac</div><div class="ttdoc">Activation object for start timer callback. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00084">tcp_server.h:84</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a191ad0501ff266c035a8bc46da1a01a1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a191ad0501ff266c035a8bc46da1a01a1">s3f::s3fnet::ProtocolSession::ProtocolSession</a></div><div class="ttdeci">ProtocolSession(ProtocolGraph *graph)</div><div class="ttdoc">The constructor is protected; only called from ProtocolGraph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00134">protocol_session.cc:134</a></div></div>
<div class="ttc" id="tcp__server_8cc_html_ae626a9851fdb5af743c1eb8643d81adc"><div class="ttname"><a href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a></div><div class="ttdeci">#define TCP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00020">tcp_server.cc:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a1325bdca2467baa3ecac033d71f72677"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1325bdca2467baa3ecac033d71f72677">s3f::s3fnet::TCPServerSession::start_timer_callback_proc</a></div><div class="ttdeci">Process * start_timer_callback_proc</div><div class="ttdoc">Process object for start timer callback Provide call_back functionality for implementing the start ti...</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00072">tcp_server.h:72</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9f72219d0e785d4a7162222d030c5598"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::TCPServerSession::~TCPServerSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor. </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00148">148</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1780d03bf77dedeff58fe2bd2ac897ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::config </td>
          <td>(</td>
          <td class="paramtype">s3f::dml::Configuration *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the TCP server test protocol session. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00150">150</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="tcp__server_8h_source.html#l00141">client_limit</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="tcp__server_8cc_source.html#l00023">DEFAULT_SERVER_PORT</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="tcp__server_8h_source.html#l00136">request_size</a>, <a class="el" href="tcp__server_8h_source.html#l00131">server_port</a>, <a class="el" href="tcp__server_8h_source.html#l00152">show_report</a>, and <a class="el" href="tcp__server_8cc_source.html#l00020">TCP_DUMP</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">ProtocolSession::config</a>(cfg);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">char</span>* str = (<span class="keywordtype">char</span>*)cfg-&gt;findSingle(<span class="stringliteral">&quot;port&quot;</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span>(str)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span>(s3f::dml::dmlConfig::isConf(str))</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::config(), invalid PORT attribute.\n&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a86d25f08f209c740940389c692c3c0d4">server_port</a> = atoi(str);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a86d25f08f209c740940389c692c3c0d4">server_port</a> = <a class="code" href="tcp__server_8cc.html#af257e2a3e091629829857a2eb8931a7a">DEFAULT_SERVER_PORT</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  str = (<span class="keywordtype">char</span>*)cfg-&gt;findSingle(<span class="stringliteral">&quot;request_size&quot;</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">if</span>(str)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span>(s3f::dml::dmlConfig::isConf(str))</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::config(), invalid REQUEST_SIZE attribute.\n&quot;</span>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">request_size</a> = atoi(str);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">request_size</a> &lt; <span class="keyword">sizeof</span>(<a class="code" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>))</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::config(), REQUEST_SIZE must be larger than 4 (bytes).\n&quot;</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">request_size</a> = <span class="keyword">sizeof</span>(<a class="code" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  str = (<span class="keywordtype">char</span>*)cfg-&gt;findSingle(<span class="stringliteral">&quot;client_limit&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span>(str)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span>(s3f::dml::dmlConfig::isConf(str))</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::config(), invalid CLIENT_LIMIT attribute.\n&quot;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a> = atoi(str);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a> = 0; <span class="comment">// means infinite</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  str = (<span class="keywordtype">char</span>*)cfg-&gt;findSingle(<span class="stringliteral">&quot;SHOW_REPORT&quot;</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span>(str)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span>(s3f::dml::dmlConfig::isConf(str))</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::config(), invalid SHOW_REPORT attribute.\n&quot;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span>(!strcasecmp(str, <span class="stringliteral">&quot;true&quot;</span>)) <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4d53af214d87fbd5d9f5cbaf747ec83a">show_report</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcasecmp(str, <span class="stringliteral">&quot;false&quot;</span>)) <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4d53af214d87fbd5d9f5cbaf747ec83a">show_report</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::config(), invalid SHOW_REPORT attribute (%s).\n&quot;</span>, str);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4d53af214d87fbd5d9f5cbaf747ec83a">show_report</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] config():\n&quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                  <span class="stringliteral">&quot;  server_port=%u, request_size=%u, client_limit=%u.\n&quot;</span>,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(),</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a86d25f08f209c740940389c692c3c0d4">server_port</a>, <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">request_size</a>, <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a>));</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a4d53af214d87fbd5d9f5cbaf747ec83a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4d53af214d87fbd5d9f5cbaf747ec83a">s3f::s3fnet::TCPServerSession::show_report</a></div><div class="ttdeci">bool show_report</div><div class="ttdoc">Whether we print out the result or not. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00152">tcp_server.h:152</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a86d25f08f209c740940389c692c3c0d4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a86d25f08f209c740940389c692c3c0d4">s3f::s3fnet::TCPServerSession::server_port</a></div><div class="ttdeci">uint16 server_port</div><div class="ttdoc">Port number to receive incoming request. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00131">tcp_server.h:131</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_af9913b509c50836bbe30b0a16b2500b9"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">s3f::s3fnet::uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdoc">32-bit unsigned integer type </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00035">s3fnet.h:35</a></div></div>
<div class="ttc" id="tcp__server_8cc_html_af257e2a3e091629829857a2eb8931a7a"><div class="ttname"><a href="tcp__server_8cc.html#af257e2a3e091629829857a2eb8931a7a">DEFAULT_SERVER_PORT</a></div><div class="ttdeci">#define DEFAULT_SERVER_PORT</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00023">tcp_server.cc:23</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a5de6e730825a580093d46aa930341768"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a5de6e730825a580093d46aa930341768">s3f::s3fnet::ProtocolSession::config</a></div><div class="ttdeci">virtual void config(s3f::dml::Configuration *cfg)</div><div class="ttdoc">The config method is used to configure the protocol session from DML description. ...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00021">protocol_session.cc:21</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a2840e92dfa336e12bfa866dca1699bdd"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">s3f::s3fnet::TCPServerSession::client_limit</a></div><div class="ttdeci">uint32 client_limit</div><div class="ttdoc">Number of client sessions that can be handled simultaneously. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00141">tcp_server.h:141</a></div></div>
<div class="ttc" id="tcp__server_8cc_html_ae626a9851fdb5af743c1eb8643d81adc"><div class="ttname"><a href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a></div><div class="ttdeci">#define TCP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00020">tcp_server.cc:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_ae0107cb5ce67049fcad742ed6ad7f308"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">s3f::s3fnet::TCPServerSession::request_size</a></div><div class="ttdeci">uint32 request_size</div><div class="ttdoc">Size of the request from client (must be consistent). </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00136">tcp_server.h:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5c8eb106aa97cd85c180d7b1758ddb62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::TCPServerSession::getProtocolNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the protocol number. </p>
<p>The number returned specifies the relationship between this protocol and the other protocols defined in the same protocol stack. </p>
<dl class="section return"><dt>Returns</dt><dd>Protocol number for blocking tcp client </dd></dl>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad429740335f45371f2bce23c753dfa6f">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00060">60</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>References <a class="el" href="s3fnet_8h_source.html#l00149">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_TCPTEST_SERVER</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919ada34e0961dc09b2fd4366dc768a6e69c">S3FNET_PROTOCOL_TYPE_TCPTEST_SERVER</a>; }</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a2d885d995be52ebf39a06e881ec67919ada34e0961dc09b2fd4366dc768a6e69c"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a2d885d995be52ebf39a06e881ec67919ada34e0961dc09b2fd4366dc768a6e69c">s3f::s3fnet::S3FNET_PROTOCOL_TYPE_TCPTEST_SERVER</a></div><div class="ttdoc">A server-side protocol for testing the TCP model. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00149">s3fnet.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc87a7b897ade44eda2f09391c7d9c96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize this protocol session. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00201">201</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="host_8cc_source.html#l00274">s3f::s3fnet::Host::getDefaultIP()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, <a class="el" href="ip__prefix_8h_source.html#l00032">IPADDR_INVALID</a>, <a class="el" href="tcp__server_8h_source.html#l00165">server_ip</a>, <a class="el" href="tcp__server_8h_source.html#l00159">sm</a>, <a class="el" href="nb__socket__master_8h_source.html#l00020">SOCKET_API</a>, <a class="el" href="tcp__server_8h_source.html#l00084">start_timer_ac</a>, <a class="el" href="tcp__server_8cc_source.html#l00345">start_timer_callback()</a>, <a class="el" href="tcp__server_8h_source.html#l00072">start_timer_callback_proc</a>, <a class="el" href="tcp__server_8cc_source.html#l00020">TCP_DUMP</a>, and <a class="el" href="entity_8cc_source.html#l00148">Entity::waitFor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">ProtocolSession::init</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4b591296c226074b83189774fefd3171">server_ip</a> = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#a65b985c61eef9336ede1f4f7f094e3b6">getDefaultIP</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="ip__prefix_8h.html#ad9a32d5fe679c3ec4fb28de52d196f1d">IPADDR_INVALID</a> == <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4b591296c226074b83189774fefd3171">server_ip</a>)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::init(), invalid IP address, the host&#39;s not connected to network.\n&quot;</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a> = <a class="code" href="nb__socket__master_8h.html#a1ee6784ef9e1a33cbb6cf8c9f3142ef6">SOCKET_API</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a>)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;TCPServerSession::init(), missing socket master on host \&quot;%s\&quot;.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString());</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] init(), server_ip=\&quot;%s\&quot;.\n&quot;</span>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4b591296c226074b83189774fefd3171">server_ip</a>)));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">Host</a>* owner_host = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1325bdca2467baa3ecac033d71f72677">start_timer_callback_proc</a> = <span class="keyword">new</span> <a class="code" href="class_process.html">Process</a>( (<a class="code" href="class_entity.html">Entity</a> *)owner_host, (<span class="keywordtype">void</span> (s3f::Entity::*)(<a class="code" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">s3f::Activation</a>))&amp;<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ad9ed5bd64e2441b8a5859910903bd69a">TCPServerSession::start_timer_callback</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ab92499f2b22094a4d6a841f2cfeae9f8">start_timer_ac</a> = <span class="keyword">new</span> ProtocolCallbackActivation(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="class_message.html">Activation</a> ac (<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ab92499f2b22094a4d6a841f2cfeae9f8">start_timer_ac</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a> h = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="class_entity.html#ae8af2bb1960d5a43aa6aecc743090598">waitFor</a>( <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1325bdca2467baa3ecac033d71f72677">start_timer_callback_proc</a>, ac, 0, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;tie_breaking_seed ); <span class="comment">//currently the starting time is 0</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_ab92499f2b22094a4d6a841f2cfeae9f8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ab92499f2b22094a4d6a841f2cfeae9f8">s3f::s3fnet::TCPServerSession::start_timer_ac</a></div><div class="ttdeci">ProtocolCallbackActivation * start_timer_ac</div><div class="ttdoc">Activation object for start timer callback. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00084">tcp_server.h:84</a></div></div>
<div class="ttc" id="class_entity_html_ae8af2bb1960d5a43aa6aecc743090598"><div class="ttname"><a href="class_entity.html#ae8af2bb1960d5a43aa6aecc743090598">Entity::waitFor</a></div><div class="ttdeci">HandleCode waitFor(Process *proc, Activation act, ltime_t waitinterval)</div><div class="ttdoc">The waitFor method schedules the activation of the named (or current) process at a distance in the fu...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00148">entity.cc:148</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_ad9ed5bd64e2441b8a5859910903bd69a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ad9ed5bd64e2441b8a5859910903bd69a">s3f::s3fnet::TCPServerSession::start_timer_callback</a></div><div class="ttdeci">void start_timer_callback(Activation ac)</div><div class="ttdoc">The callback function registered with the start_timer_callback_proc. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00345">tcp_server.cc:345</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a65c264946c39c2c42e9b7b1ec7c5259e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">s3f::s3fnet::TCPServerSession::sm</a></div><div class="ttdeci">SocketMaster * sm</div><div class="ttdoc">Pointer to the socket master. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00159">tcp_server.h:159</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="class_entity_html"><div class="ttname"><a href="class_entity.html">Entity</a></div><div class="ttdoc">In S3F the Entity object holds the simulation state, the methods that express the logic of the simula...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00049">entity.h:49</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ac21a50a19e7b326bd8b97f7844f45856"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac21a50a19e7b326bd8b97f7844f45856">s3f::s3fnet::ProtocolSession::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdoc">The method is used to initialize the protocol session once the protocol session has been created and ...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00041">protocol_session.cc:41</a></div></div>
<div class="ttc" id="tcp__server_8cc_html_ae626a9851fdb5af743c1eb8643d81adc"><div class="ttname"><a href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a></div><div class="ttdeci">#define TCP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00020">tcp_server.cc:20</a></div></div>
<div class="ttc" id="nb__socket__master_8h_html_a1ee6784ef9e1a33cbb6cf8c9f3142ef6"><div class="ttname"><a href="nb__socket__master_8h.html#a1ee6784ef9e1a33cbb6cf8c9f3142ef6">SOCKET_API</a></div><div class="ttdeci">#define SOCKET_API</div><div class="ttdef"><b>Definition:</b> <a href="nb__socket__master_8h_source.html#l00020">nb_socket_master.h:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a1325bdca2467baa3ecac033d71f72677"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1325bdca2467baa3ecac033d71f72677">s3f::s3fnet::TCPServerSession::start_timer_callback_proc</a></div><div class="ttdeci">Process * start_timer_callback_proc</div><div class="ttdoc">Process object for start timer callback Provide call_back functionality for implementing the start ti...</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00072">tcp_server.h:72</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a4b591296c226074b83189774fefd3171"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a4b591296c226074b83189774fefd3171">s3f::s3fnet::TCPServerSession::server_ip</a></div><div class="ttdeci">IPADDR server_ip</div><div class="ttdoc">The ip address of this server (interface 0). </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00165">tcp_server.h:165</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="class_message_html"><div class="ttname"><a href="class_message.html">Message</a></div><div class="ttdoc">Messages passed between connected OutChannels and InChannels. </div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00017">message.h:17</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_a65b985c61eef9336ede1f4f7f094e3b6"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#a65b985c61eef9336ede1f4f7f094e3b6">s3f::s3fnet::Host::getDefaultIP</a></div><div class="ttdeci">IPADDR getDefaultIP()</div><div class="ttdoc">Return the IP address of the first network interface. </div><div class="ttdef"><b>Definition:</b> <a href="host_8cc_source.html#l00274">host.cc:274</a></div></div>
<div class="ttc" id="ip__prefix_8h_html_ad9a32d5fe679c3ec4fb28de52d196f1d"><div class="ttname"><a href="ip__prefix_8h.html#ad9a32d5fe679c3ec4fb28de52d196f1d">IPADDR_INVALID</a></div><div class="ttdeci">#define IPADDR_INVALID</div><div class="ttdoc">Invalid IP address (0.0.0.0). </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8h_source.html#l00032">ip_prefix.h:32</a></div></div>
<div class="ttc" id="event_8h_html_aa50e09283f108feae5246e7af41e5450"><div class="ttname"><a href="event_8h.html#aa50e09283f108feae5246e7af41e5450">HandleCode</a></div><div class="ttdeci">void * HandleCode</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00114">event.h:114</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a912b690126957a1ad90d0c373a4ad4d0"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">s3f::s3fnet::ProtocolSession::Host</a></div><div class="ttdeci">friend class Host</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00040">protocol_session.h:40</a></div></div>
<div class="ttc" id="message_8h_html_a093346897a71a253ceb5aaa3785721a0"><div class="ttname"><a href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a></div><div class="ttdeci">Message * Activation</div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00047">message.h:47</a></div></div>
<div class="ttc" id="class_process_html"><div class="ttname"><a href="class_process.html">Process</a></div><div class="ttdoc">The code that executes should be thought of as embedded in an instant of time. </div><div class="ttdef"><b>Definition:</b> <a href="process_8h_source.html#l00030">process.h:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9ed5bd64e2441b8a5859910903bd69a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::start_timer_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>ac</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The callback function registered with the start_timer_callback_proc. </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00345">345</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00201">init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#adbdcf08d98b56a8438e8ce58ce9afb24">TCPServerSession</a>* server = (<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#adbdcf08d98b56a8438e8ce58ce9afb24">TCPServerSession</a>*)((ProtocolCallbackActivation*)ac)-&gt;session;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  server-&gt;start_on();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_adbdcf08d98b56a8438e8ce58ce9afb24"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#adbdcf08d98b56a8438e8ce58ce9afb24">s3f::s3fnet::TCPServerSession::TCPServerSession</a></div><div class="ttdeci">TCPServerSession(ProtocolGraph *graph)</div><div class="ttdoc">The constructor. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00142">tcp_server.cc:142</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afff5070b043a06ec6f2d2d3d4b7f6afd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::start_on </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>start the TCP server </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00224">224</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="tcp__server_8h_source.html#l00147">accept_completed</a>, <a class="el" href="socket__master_8cc_source.html#l00183">s3f::s3fnet::SocketMaster::bind()</a>, <a class="el" href="tcp__server_8h_source.html#l00141">client_limit</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="tcp__server_8cc_source.html#l00250">handle_client()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="ip__prefix_8h_source.html#l00038">IPADDR_ANYDEST</a>, <a class="el" href="tcp__server_8h_source.html#l00170">nclients</a>, <a class="el" href="tcp__server_8h_source.html#l00131">server_port</a>, <a class="el" href="tcp__server_8h_source.html#l00159">sm</a>, <a class="el" href="socket__master_8cc_source.html#l00162">s3f::s3fnet::SocketMaster::socket()</a>, <a class="el" href="tcp__server_8cc_source.html#l00020">TCP_DUMP</a>, and <a class="el" href="s3fnet_8h_source.html#l00076">TCP_PROTOCOL_NAME</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00345">start_timer_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: main_proc(), starting server.\n&quot;</span>,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>()));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span>((!<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a> || <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5fd6a54d381e35c12c4dfa73b11f227e">nclients</a>++ &lt; <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a>) &amp;&amp; <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">accept_completed</a> == <span class="keyword">true</span>) <span class="comment">//should always true</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;          <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">accept_completed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          <span class="keywordtype">int</span> ssock = <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_socket_master.html#ae4be12a95b5a155e80e7323b63f1d659">socket</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;          <span class="keywordflow">if</span>(!<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_socket_master.html#a53fda11b1130ee4e7e355eaed9f9a328">bind</a>(ssock, <a class="code" href="ip__prefix_8h.html#a763762a2edad5a8d349f3c687f16ddca">IPADDR_ANYDEST</a>, <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a86d25f08f209c740940389c692c3c0d4">server_port</a>, <a class="code" href="s3fnet_8h.html#a47c834039383ceeb1457b0e2144b1b1c">TCP_PROTOCOL_NAME</a>, 0))</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;          {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;session_proc() on host \&quot;%s\&quot;: failed to bind.\n&quot;</span>,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                            <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString()));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5fd6a54d381e35c12c4dfa73b11f227e">nclients</a>--;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">accept_completed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: waiting for incoming connection on socket %d.\n&quot;</span>,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                          <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(), ssock));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1ecd971abb2bc21578bcabaf0d44091d">handle_client</a>(ssock); <span class="comment">//call accept</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="ttc" id="s3fnet_8h_html_a47c834039383ceeb1457b0e2144b1b1c"><div class="ttname"><a href="s3fnet_8h.html#a47c834039383ceeb1457b0e2144b1b1c">TCP_PROTOCOL_NAME</a></div><div class="ttdeci">#define TCP_PROTOCOL_NAME</div><div class="ttdoc">TCP layer session name. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00076">s3fnet.h:76</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a0d8480d4c123ab05ff268d30808fe9b7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">s3f::s3fnet::TCPServerSession::accept_completed</a></div><div class="ttdeci">bool accept_completed</div><div class="ttdoc">Accept has been completed We have at least one client connected. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00147">tcp_server.h:147</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a86d25f08f209c740940389c692c3c0d4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a86d25f08f209c740940389c692c3c0d4">s3f::s3fnet::TCPServerSession::server_port</a></div><div class="ttdeci">uint16 server_port</div><div class="ttdoc">Port number to receive incoming request. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00131">tcp_server.h:131</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a65c264946c39c2c42e9b7b1ec7c5259e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">s3f::s3fnet::TCPServerSession::sm</a></div><div class="ttdeci">SocketMaster * sm</div><div class="ttdoc">Pointer to the socket master. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00159">tcp_server.h:159</a></div></div>
<div class="ttc" id="ip__prefix_8h_html_a763762a2edad5a8d349f3c687f16ddca"><div class="ttname"><a href="ip__prefix_8h.html#a763762a2edad5a8d349f3c687f16ddca">IPADDR_ANYDEST</a></div><div class="ttdeci">#define IPADDR_ANYDEST</div><div class="ttdoc">IP broadcast address (255.255.255.255). </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8h_source.html#l00038">ip_prefix.h:38</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a2840e92dfa336e12bfa866dca1699bdd"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">s3f::s3fnet::TCPServerSession::client_limit</a></div><div class="ttdeci">uint32 client_limit</div><div class="ttdoc">Number of client sessions that can be handled simultaneously. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00141">tcp_server.h:141</a></div></div>
<div class="ttc" id="tcp__server_8cc_html_ae626a9851fdb5af743c1eb8643d81adc"><div class="ttname"><a href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a></div><div class="ttdeci">#define TCP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00020">tcp_server.cc:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a1ecd971abb2bc21578bcabaf0d44091d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1ecd971abb2bc21578bcabaf0d44091d">s3f::s3fnet::TCPServerSession::handle_client</a></div><div class="ttdeci">void handle_client(int socket)</div><div class="ttdoc">function representing the handle_client stage </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00250">tcp_server.cc:250</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_socket_master_html_a53fda11b1130ee4e7e355eaed9f9a328"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_socket_master.html#a53fda11b1130ee4e7e355eaed9f9a328">s3f::s3fnet::SocketMaster::bind</a></div><div class="ttdeci">bool bind(int sock, IPADDR source_ip, uint16 source_port, char *protocol, uint32 options=0)</div><div class="ttdoc">Bind the socket Binds the socket with the source ip address, port, and the protocol that maintains th...</div><div class="ttdef"><b>Definition:</b> <a href="socket__master_8cc_source.html#l00183">socket_master.cc:183</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a5fd6a54d381e35c12c4dfa73b11f227e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5fd6a54d381e35c12c4dfa73b11f227e">s3f::s3fnet::TCPServerSession::nclients</a></div><div class="ttdeci">uint32 nclients</div><div class="ttdoc">Number of clients currently connected. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00170">tcp_server.h:170</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a0250c97bad17f18ef7037fd76f7e5083"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">For printing the current simulation time in a better readable format. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00128">protocol_session.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_socket_master_html_ae4be12a95b5a155e80e7323b63f1d659"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_socket_master.html#ae4be12a95b5a155e80e7323b63f1d659">s3f::s3fnet::SocketMaster::socket</a></div><div class="ttdeci">int socket()</div><div class="ttdoc">Returns a new socket id. </div><div class="ttdef"><b>Definition:</b> <a href="socket__master_8cc_source.html#l00162">socket_master.cc:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ecd971abb2bc21578bcabaf0d44091d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::handle_client </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function representing the handle_client stage </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00250">250</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="socket__master_8cc_source.html#l00403">s3f::s3fnet::SocketMaster::accept()</a>, <a class="el" href="tcp__server_8h_source.html#l00159">sm</a>, <a class="el" href="tcp__server_8cc_source.html#l00133">s3f::s3fnet::TCPServerSessionContinuation::status</a>, <a class="el" href="tcp__server_8cc_source.html#l00035">s3f::s3fnet::TCPServerSessionContinuation::TCP_SERVER_SESSION_ACCEPTING</a>, and <a class="el" href="tcp__server_8h_source.html#l00041">TCPServerSessionContinuation</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00258">connection_accepted()</a>, <a class="el" href="tcp__server_8cc_source.html#l00081">s3f::s3fnet::TCPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">session_closed()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a45db810225ab8d42a18efcdd54aefa56">TCPServerSessionContinuation</a>* cnt = <span class="keyword">new</span> <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a45db810225ab8d42a18efcdd54aefa56">TCPServerSessionContinuation</a>(<span class="keyword">this</span>, ssock);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  cnt-&gt;status = <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html#a04000777caa379c25af84bb45fa489bfa1f7a33f6581fa2a8013ab0aa5dac94a5">TCPServerSessionContinuation::TCP_SERVER_SESSION_ACCEPTING</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_socket_master.html#ad4122f85228f29c27b14d36901726428">accept</a>(ssock, <span class="keyword">true</span>, cnt, 0);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation_html_a04000777caa379c25af84bb45fa489bfa1f7a33f6581fa2a8013ab0aa5dac94a5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html#a04000777caa379c25af84bb45fa489bfa1f7a33f6581fa2a8013ab0aa5dac94a5">s3f::s3fnet::TCPServerSessionContinuation::TCP_SERVER_SESSION_ACCEPTING</a></div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00035">tcp_server.cc:35</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_socket_master_html_ad4122f85228f29c27b14d36901726428"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_socket_master.html#ad4122f85228f29c27b14d36901726428">s3f::s3fnet::SocketMaster::accept</a></div><div class="ttdeci">void accept(int sock, bool make_new_socket, BSocketContinuation *caller, BSocketContinuation *first_conn_notify=0)</div><div class="ttdoc">Checks for arrival of a connection request. </div><div class="ttdef"><b>Definition:</b> <a href="socket__master_8cc_source.html#l00403">socket_master.cc:403</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a65c264946c39c2c42e9b7b1ec7c5259e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">s3f::s3fnet::TCPServerSession::sm</a></div><div class="ttdeci">SocketMaster * sm</div><div class="ttdoc">Pointer to the socket master. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00159">tcp_server.h:159</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a45db810225ab8d42a18efcdd54aefa56"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a45db810225ab8d42a18efcdd54aefa56">s3f::s3fnet::TCPServerSession::TCPServerSessionContinuation</a></div><div class="ttdeci">friend class TCPServerSessionContinuation</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00041">tcp_server.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadbe8e8cb464ec695159ae3d669dbb47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::connection_accepted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const&#160;</td>
          <td class="paramname"><em>cnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function representing the connection_accepted stage </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00258">258</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="tcp__server_8h_source.html#l00147">accept_completed</a>, <a class="el" href="tcp__server_8h_source.html#l00141">client_limit</a>, <a class="el" href="tcp__server_8cc_source.html#l00132">s3f::s3fnet::TCPServerSessionContinuation::client_socket</a>, <a class="el" href="tcp__server_8cc_source.html#l00250">handle_client()</a>, <a class="el" href="tcp__server_8h_source.html#l00170">nclients</a>, <a class="el" href="socket__master_8cc_source.html#l00717">s3f::s3fnet::SocketMaster::recv()</a>, <a class="el" href="tcp__server_8cc_source.html#l00134">s3f::s3fnet::TCPServerSessionContinuation::reqbuf</a>, <a class="el" href="tcp__server_8h_source.html#l00136">request_size</a>, <a class="el" href="socket__session_8h_source.html#l00071">s3f::s3fnet::SocketContinuation::retval</a>, <a class="el" href="tcp__server_8cc_source.html#l00131">s3f::s3fnet::TCPServerSessionContinuation::server_socket</a>, <a class="el" href="tcp__server_8h_source.html#l00159">sm</a>, <a class="el" href="tcp__server_8cc_source.html#l00133">s3f::s3fnet::TCPServerSessionContinuation::status</a>, and <a class="el" href="tcp__server_8cc_source.html#l00036">s3f::s3fnet::TCPServerSessionContinuation::TCP_SERVER_SESSION_RECEIVING</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00057">s3f::s3fnet::TCPServerSessionContinuation::success()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">accept_completed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">//init another accept</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">if</span>((!<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a> || <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5fd6a54d381e35c12c4dfa73b11f227e">nclients</a>++ &lt; <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a> ) &amp;&amp; <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">accept_completed</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1ecd971abb2bc21578bcabaf0d44091d">handle_client</a>(cnt-&gt;server_socket);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  cnt-&gt;client_socket = cnt-&gt;retval;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  cnt-&gt;status = <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html#a04000777caa379c25af84bb45fa489bfa6e813991d7e2294ec88f0586c4b6823a">TCPServerSessionContinuation::TCP_SERVER_SESSION_RECEIVING</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_socket_master.html#a6ae73062577eb5d9c52e22120f35f75b">recv</a>(cnt-&gt;client_socket, <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">request_size</a>, cnt-&gt;reqbuf, cnt);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a0d8480d4c123ab05ff268d30808fe9b7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">s3f::s3fnet::TCPServerSession::accept_completed</a></div><div class="ttdeci">bool accept_completed</div><div class="ttdoc">Accept has been completed We have at least one client connected. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00147">tcp_server.h:147</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_socket_master_html_a6ae73062577eb5d9c52e22120f35f75b"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_socket_master.html#a6ae73062577eb5d9c52e22120f35f75b">s3f::s3fnet::SocketMaster::recv</a></div><div class="ttdeci">void recv(int sock, uint32 bufsiz, byte *buffer, BSocketContinuation *caller)</div><div class="ttdoc">Receive data from remote host Receive a message of the given length. </div><div class="ttdef"><b>Definition:</b> <a href="socket__master_8cc_source.html#l00717">socket_master.cc:717</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a65c264946c39c2c42e9b7b1ec7c5259e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">s3f::s3fnet::TCPServerSession::sm</a></div><div class="ttdeci">SocketMaster * sm</div><div class="ttdoc">Pointer to the socket master. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00159">tcp_server.h:159</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a2840e92dfa336e12bfa866dca1699bdd"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">s3f::s3fnet::TCPServerSession::client_limit</a></div><div class="ttdeci">uint32 client_limit</div><div class="ttdoc">Number of client sessions that can be handled simultaneously. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00141">tcp_server.h:141</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation_html_a04000777caa379c25af84bb45fa489bfa6e813991d7e2294ec88f0586c4b6823a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html#a04000777caa379c25af84bb45fa489bfa6e813991d7e2294ec88f0586c4b6823a">s3f::s3fnet::TCPServerSessionContinuation::TCP_SERVER_SESSION_RECEIVING</a></div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00036">tcp_server.cc:36</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_ae0107cb5ce67049fcad742ed6ad7f308"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">s3f::s3fnet::TCPServerSession::request_size</a></div><div class="ttdeci">uint32 request_size</div><div class="ttdoc">Size of the request from client (must be consistent). </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00136">tcp_server.h:136</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a1ecd971abb2bc21578bcabaf0d44091d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1ecd971abb2bc21578bcabaf0d44091d">s3f::s3fnet::TCPServerSession::handle_client</a></div><div class="ttdeci">void handle_client(int socket)</div><div class="ttdoc">function representing the handle_client stage </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00250">tcp_server.cc:250</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a5fd6a54d381e35c12c4dfa73b11f227e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5fd6a54d381e35c12c4dfa73b11f227e">s3f::s3fnet::TCPServerSession::nclients</a></div><div class="ttdeci">uint32 nclients</div><div class="ttdoc">Number of clients currently connected. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00170">tcp_server.h:170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a339616fc15d850a357a12d15d5df2413"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::request_received </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const&#160;</td>
          <td class="paramname"><em>cnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function representing the request_received stage </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00272">272</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="tcp__server_8cc_source.html#l00138">s3f::s3fnet::TCPServerSessionContinuation::file_size</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="tcp__server_8cc_source.html#l00134">s3f::s3fnet::TCPServerSessionContinuation::reqbuf</a>, <a class="el" href="tcp__server_8h_source.html#l00136">request_size</a>, <a class="el" href="socket__session_8h_source.html#l00071">s3f::s3fnet::SocketContinuation::retval</a>, <a class="el" href="tcp__server_8cc_source.html#l00288">sending_data()</a>, <a class="el" href="tcp__server_8cc_source.html#l00139">s3f::s3fnet::TCPServerSessionContinuation::sent_bytes</a>, <a class="el" href="tcp__server_8cc_source.html#l00131">s3f::s3fnet::TCPServerSessionContinuation::server_socket</a>, and <a class="el" href="tcp__server_8cc_source.html#l00020">TCP_DUMP</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00057">s3f::s3fnet::TCPServerSessionContinuation::success()</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// assume the request can be received with one call</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  assert(cnt-&gt;retval == (<span class="keywordtype">int</span>)<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">request_size</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  cnt-&gt;file_size = ntohl(*(<a class="code" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>*)cnt-&gt;reqbuf);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: session_proc(), socket %d received request &quot;</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                  <span class="stringliteral">&quot;(request_size=%u, file_size=%u).\n&quot;</span>,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                  cnt-&gt;server_socket, <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">request_size</a>, cnt-&gt;file_size));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  cnt-&gt;sent_bytes = 0;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae7ffeca2b1aed04da575ed8cdacb76ff">sending_data</a>(cnt);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_af9913b509c50836bbe30b0a16b2500b9"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">s3f::s3fnet::uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdoc">32-bit unsigned integer type </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00035">s3fnet.h:35</a></div></div>
<div class="ttc" id="tcp__server_8cc_html_ae626a9851fdb5af743c1eb8643d81adc"><div class="ttname"><a href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a></div><div class="ttdeci">#define TCP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00020">tcp_server.cc:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_ae7ffeca2b1aed04da575ed8cdacb76ff"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae7ffeca2b1aed04da575ed8cdacb76ff">s3f::s3fnet::TCPServerSession::sending_data</a></div><div class="ttdeci">void sending_data(TCPServerSessionContinuation *const cnt)</div><div class="ttdoc">function representing the sending_data stage </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00288">tcp_server.cc:288</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_ae0107cb5ce67049fcad742ed6ad7f308"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae0107cb5ce67049fcad742ed6ad7f308">s3f::s3fnet::TCPServerSession::request_size</a></div><div class="ttdeci">uint32 request_size</div><div class="ttdoc">Size of the request from client (must be consistent). </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00136">tcp_server.h:136</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a0250c97bad17f18ef7037fd76f7e5083"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">For printing the current simulation time in a better readable format. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00128">protocol_session.cc:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae7ffeca2b1aed04da575ed8cdacb76ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::sending_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const&#160;</td>
          <td class="paramname"><em>cnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function representing the sending_data stage </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00288">288</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="tcp__server_8cc_source.html#l00132">s3f::s3fnet::TCPServerSessionContinuation::client_socket</a>, <a class="el" href="tcp__server_8cc_source.html#l00138">s3f::s3fnet::TCPServerSessionContinuation::file_size</a>, <a class="el" href="socket__master_8cc_source.html#l00637">s3f::s3fnet::SocketMaster::send()</a>, <a class="el" href="tcp__server_8cc_source.html#l00139">s3f::s3fnet::TCPServerSessionContinuation::sent_bytes</a>, <a class="el" href="tcp__server_8h_source.html#l00159">sm</a>, <a class="el" href="tcp__server_8cc_source.html#l00133">s3f::s3fnet::TCPServerSessionContinuation::status</a>, and <a class="el" href="tcp__server_8cc_source.html#l00037">s3f::s3fnet::TCPServerSessionContinuation::TCP_SERVER_SESSION_SENDING</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00299">data_sent()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00272">request_received()</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span>(cnt-&gt;sent_bytes &lt; cnt-&gt;file_size)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          <a class="code" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a> to_send = cnt-&gt;file_size-cnt-&gt;sent_bytes;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;          cnt-&gt;status = <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html#a04000777caa379c25af84bb45fa489bfad4f3c0e3d1fd4fa7f021d2f1868e8e0b">TCPServerSessionContinuation::TCP_SERVER_SESSION_SENDING</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;          <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_socket_master.html#afdb0d6623b4205af508d8a9387407911">send</a>(cnt-&gt;client_socket, to_send, 0, cnt);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_socket_master_html_afdb0d6623b4205af508d8a9387407911"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_socket_master.html#afdb0d6623b4205af508d8a9387407911">s3f::s3fnet::SocketMaster::send</a></div><div class="ttdeci">void send(int sock, uint32 length, byte *msg, BSocketContinuation *caller)</div><div class="ttdoc">Send data to remote host Send a message of the given length and return the number of bytes that have ...</div><div class="ttdef"><b>Definition:</b> <a href="socket__master_8cc_source.html#l00637">socket_master.cc:637</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_af9913b509c50836bbe30b0a16b2500b9"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">s3f::s3fnet::uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdoc">32-bit unsigned integer type </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00035">s3fnet.h:35</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a65c264946c39c2c42e9b7b1ec7c5259e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">s3f::s3fnet::TCPServerSession::sm</a></div><div class="ttdeci">SocketMaster * sm</div><div class="ttdoc">Pointer to the socket master. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00159">tcp_server.h:159</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation_html_a04000777caa379c25af84bb45fa489bfad4f3c0e3d1fd4fa7f021d2f1868e8e0b"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html#a04000777caa379c25af84bb45fa489bfad4f3c0e3d1fd4fa7f021d2f1868e8e0b">s3f::s3fnet::TCPServerSessionContinuation::TCP_SERVER_SESSION_SENDING</a></div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00037">tcp_server.cc:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a62e562c456b6bf3f0472dd5098fdc03d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::data_sent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const&#160;</td>
          <td class="paramname"><em>cnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function representing the data_sent stage </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00299">299</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="tcp__server_8cc_source.html#l00132">s3f::s3fnet::TCPServerSessionContinuation::client_socket</a>, <a class="el" href="socket__master_8cc_source.html#l00802">s3f::s3fnet::SocketMaster::close()</a>, <a class="el" href="tcp__server_8cc_source.html#l00138">s3f::s3fnet::TCPServerSessionContinuation::file_size</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="socket__session_8h_source.html#l00071">s3f::s3fnet::SocketContinuation::retval</a>, <a class="el" href="tcp__server_8cc_source.html#l00288">sending_data()</a>, <a class="el" href="tcp__server_8cc_source.html#l00139">s3f::s3fnet::TCPServerSessionContinuation::sent_bytes</a>, <a class="el" href="tcp__server_8h_source.html#l00159">sm</a>, <a class="el" href="tcp__server_8cc_source.html#l00133">s3f::s3fnet::TCPServerSessionContinuation::status</a>, <a class="el" href="tcp__server_8cc_source.html#l00020">TCP_DUMP</a>, and <a class="el" href="tcp__server_8cc_source.html#l00038">s3f::s3fnet::TCPServerSessionContinuation::TCP_SERVER_SESSION_CLOSING</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00057">s3f::s3fnet::TCPServerSessionContinuation::success()</a>.</p>
<div class="fragment"><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;{</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  cnt-&gt;sent_bytes += cnt-&gt;retval;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: session_proc(), socket %d &quot;</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                  <span class="stringliteral">&quot;sent %d bytes (%d bytes left).\n&quot;</span>,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(),</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                  cnt-&gt;client_socket, cnt-&gt;retval, cnt-&gt;file_size-cnt-&gt;sent_bytes));</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">if</span>(cnt-&gt;sent_bytes &lt; cnt-&gt;file_size)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae7ffeca2b1aed04da575ed8cdacb76ff">sending_data</a>(cnt);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: session_proc(), finished sending %u bytes.\n&quot;</span>,</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(), cnt-&gt;file_size));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// the server will close the connection.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  cnt-&gt;status = <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html#a04000777caa379c25af84bb45fa489bfa7fb84b10793ee7310f8ce5117a9c2fb4">TCPServerSessionContinuation::TCP_SERVER_SESSION_CLOSING</a>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">sm</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_socket_master.html#acdfff7f14652217ac5c15c429f564b54">close</a>(cnt-&gt;client_socket, cnt);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_socket_master_html_acdfff7f14652217ac5c15c429f564b54"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_socket_master.html#acdfff7f14652217ac5c15c429f564b54">s3f::s3fnet::SocketMaster::close</a></div><div class="ttdeci">void close(int sock, BSocketContinuation *caller)</div><div class="ttdoc">Terminate the connection Close the connection and invalidate the socket. </div><div class="ttdef"><b>Definition:</b> <a href="socket__master_8cc_source.html#l00802">socket_master.cc:802</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a65c264946c39c2c42e9b7b1ec7c5259e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a65c264946c39c2c42e9b7b1ec7c5259e">s3f::s3fnet::TCPServerSession::sm</a></div><div class="ttdeci">SocketMaster * sm</div><div class="ttdoc">Pointer to the socket master. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00159">tcp_server.h:159</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation_html_a04000777caa379c25af84bb45fa489bfa7fb84b10793ee7310f8ce5117a9c2fb4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html#a04000777caa379c25af84bb45fa489bfa7fb84b10793ee7310f8ce5117a9c2fb4">s3f::s3fnet::TCPServerSessionContinuation::TCP_SERVER_SESSION_CLOSING</a></div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00038">tcp_server.cc:38</a></div></div>
<div class="ttc" id="tcp__server_8cc_html_ae626a9851fdb5af743c1eb8643d81adc"><div class="ttname"><a href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a></div><div class="ttdeci">#define TCP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00020">tcp_server.cc:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_ae7ffeca2b1aed04da575ed8cdacb76ff"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#ae7ffeca2b1aed04da575ed8cdacb76ff">s3f::s3fnet::TCPServerSession::sending_data</a></div><div class="ttdeci">void sending_data(TCPServerSessionContinuation *const cnt)</div><div class="ttdoc">function representing the sending_data stage </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00288">tcp_server.cc:288</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a0250c97bad17f18ef7037fd76f7e5083"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">For printing the current simulation time in a better readable format. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00128">protocol_session.cc:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5400e02e027b0ed76fc00ffbc2e398a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::TCPServerSession::session_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session_continuation.html">TCPServerSessionContinuation</a> *const&#160;</td>
          <td class="paramname"><em>cnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function representing the session_closed stage </p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00322">322</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="tcp__server_8h_source.html#l00147">accept_completed</a>, <a class="el" href="tcp__server_8h_source.html#l00141">client_limit</a>, <a class="el" href="tcp__server_8cc_source.html#l00132">s3f::s3fnet::TCPServerSessionContinuation::client_socket</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="tcp__server_8cc_source.html#l00250">handle_client()</a>, <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, <a class="el" href="tcp__server_8h_source.html#l00170">nclients</a>, <a class="el" href="tcp__server_8cc_source.html#l00131">s3f::s3fnet::TCPServerSessionContinuation::server_socket</a>, and <a class="el" href="tcp__server_8cc_source.html#l00020">TCP_DUMP</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00057">s3f::s3fnet::TCPServerSessionContinuation::success()</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a>(printf(<span class="stringliteral">&quot;[host=\&quot;%s\&quot;] %s: session_proc(), socket %d connection closed.\n&quot;</span>,</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                  <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;nhi.toString(), <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">getNowWithThousandSeparator</a>(), cnt-&gt;client_socket));</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a> &amp;&amp; <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5fd6a54d381e35c12c4dfa73b11f227e">nclients</a>-- == <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">client_limit</a> &amp;&amp; <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">accept_completed</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1ecd971abb2bc21578bcabaf0d44091d">handle_client</a>(cnt-&gt;server_socket);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// the continuation will be reclaimed after this</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a0d8480d4c123ab05ff268d30808fe9b7"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a0d8480d4c123ab05ff268d30808fe9b7">s3f::s3fnet::TCPServerSession::accept_completed</a></div><div class="ttdeci">bool accept_completed</div><div class="ttdoc">Accept has been completed We have at least one client connected. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00147">tcp_server.h:147</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a2840e92dfa336e12bfa866dca1699bdd"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a2840e92dfa336e12bfa866dca1699bdd">s3f::s3fnet::TCPServerSession::client_limit</a></div><div class="ttdeci">uint32 client_limit</div><div class="ttdoc">Number of client sessions that can be handled simultaneously. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00141">tcp_server.h:141</a></div></div>
<div class="ttc" id="tcp__server_8cc_html_ae626a9851fdb5af743c1eb8643d81adc"><div class="ttname"><a href="tcp__server_8cc.html#ae626a9851fdb5af743c1eb8643d81adc">TCP_DUMP</a></div><div class="ttdeci">#define TCP_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00020">tcp_server.cc:20</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a1ecd971abb2bc21578bcabaf0d44091d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a1ecd971abb2bc21578bcabaf0d44091d">s3f::s3fnet::TCPServerSession::handle_client</a></div><div class="ttdeci">void handle_client(int socket)</div><div class="ttdoc">function representing the handle_client stage </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8cc_source.html#l00250">tcp_server.cc:250</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_t_c_p_server_session_html_a5fd6a54d381e35c12c4dfa73b11f227e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html#a5fd6a54d381e35c12c4dfa73b11f227e">s3f::s3fnet::TCPServerSession::nclients</a></div><div class="ttdeci">uint32 nclients</div><div class="ttdoc">Number of clients currently connected. </div><div class="ttdef"><b>Definition:</b> <a href="tcp__server_8h_source.html#l00170">tcp_server.h:170</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a0250c97bad17f18ef7037fd76f7e5083"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a0250c97bad17f18ef7037fd76f7e5083">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">For printing the current simulation time in a better readable format. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00128">protocol_session.cc:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec121a54a329421a0b9cbcf8f93cb350"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::TCPServerSession::push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>hi_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Push message to lower protocol layer. </p>
<p>This method should not be called; it is provided here to prompt an error message if it's called accidentally. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00333">333</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::push() should not be called.\n&quot;</span>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c6d2ac9a144e36c5b46ed2a34f14785"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::TCPServerSession::pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lo_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pop message to higher protocol layer. </p>
<p>This method should not be called; it is provided here to prompt an error message if it's called accidentally. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">s3f::s3fnet::ProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="tcp__server_8cc_source.html#l00339">339</a> of file <a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: TCPServerSession::pop() should not be called.\n&quot;</span>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79b1d48edbb1aec6b740de60666414f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::ProtocolSession::wrapup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method is used to wrap up the protocol session. </p>
<p>It is called when the simulation finishes. It is designed to give user a chance to report simulation statistics. The default behavior is doing nothing. Subclass may override this method for protocol specific dealings. Note that there is no specific order in which wrapup is called for protocol sessions in a protocol graph. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00059">59</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="protocol__session_8h_source.html#l00233">s3f::s3fnet::ProtocolSession::initialized()</a>, <a class="el" href="protocol__session_8h_source.html#l00063">s3f::s3fnet::ProtocolSession::name</a>, <a class="el" href="protocol__session_8h_source.html#l00055">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a>, <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>, and <a class="el" href="protocol__session_8h_source.html#l00245">s3f::s3fnet::ProtocolSession::wrapped_up()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// Make sure this init function at the base class should be called</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// by the derived function!</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">initialized</a>()) </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: ProtocolSession \&quot;%s\&quot; wrapup() called before init(), &quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;               <span class="stringliteral">&quot;forgot to call base class&#39;s init() in your derived class?\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">wrapped_up</a>())</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: duplicate calls to ProtocolSession::wrapup(): &quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;               <span class="stringliteral">&quot;session name is \&quot;%s\&quot;.\n&quot;</span>, <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">name</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> = <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ac934416dd1e279568a3bef2e8a6b045d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d">s3f::s3fnet::ProtocolSession::wrapped_up</a></div><div class="ttdeci">int wrapped_up()</div><div class="ttdoc">This method returns true if the protocol session has been wrapped up. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00245">protocol_session.h:245</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_aca7233711f9c8c606c611ec97ee29cdb"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb">s3f::s3fnet::ProtocolSession::initialized</a></div><div class="ttdeci">int initialized()</div><div class="ttdoc">This method returns true if the protocol session has been initialized. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00233">protocol_session.h:233</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a7eedcbe4da39cba727d26f1339ac7c47"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7eedcbe4da39cba727d26f1339ac7c47">s3f::s3fnet::ProtocolSession::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Symbolic name of the protocol this session implements. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00063">protocol_session.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a9fa5693373188218eba85c782583e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::pushdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>hi_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The original push method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a1a9fa5693373188218eba85c782583e7" title="The original push method is divided into pushdown() and push(). ">pushdown()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">push()</a>. </p>
<p>The pushdown method is the generic part of the code, which is reserved for modeling the handling of messages transferred between protocol layers. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767" title="The method is called when a message is pushed down to this protocol session from the protocol session...">ProtocolSession::push</a> method for details. </dd></dl>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00072">72</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00082">s3f::s3fnet::ProtocolSession::push()</a>.</p>

<p>Referenced by <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="ip__session_8cc_source.html#l00148">s3f::s3fnet::IPSession::control()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">s3f::s3fnet::IPSession::handle_pop_pkt()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00297">s3f::s3fnet::LearningControllerSession::HandleInquiryMessageFromOFSwitch()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">s3f::s3fnet::OpenFlowSwitchSession::OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">s3f::s3fnet::OpenFlowSwitchSession::OutputPacket()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, and <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767">push</a>(msg, hi_sess, extinfo, extinfo_size);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a802569fda5b2814f662ea5b4d39ce767"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a802569fda5b2814f662ea5b4d39ce767">s3f::s3fnet::ProtocolSession::push</a></div><div class="ttdeci">virtual int push(Activation msg, ProtocolSession *hi_sess, void *extinfo=0, size_t extinfo_size=0)</div><div class="ttdoc">The method is called when a message is pushed down to this protocol session from the protocol session...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00082">protocol_session.cc:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3f962741a6c055135d2cab28ea0b9c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::popup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lo_sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>extinfo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extinfo_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The original pop method is divided into <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#af3f962741a6c055135d2cab28ea0b9c8" title="The original pop method is divided into popup() and pop(). ">popup()</a> and <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">pop()</a>. </p>
<p>The popup method is the generic part of the code, which is reserved for modeling the handling of messages transferred between protocol layers. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11" title="The method is called when a message is popped up to this protocol session from the protocol session b...">ProtocolSession::pop</a> method for details. </dd></dl>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00077">77</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00087">s3f::s3fnet::ProtocolSession::pop()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00567">s3f::s3fnet::IPSession::handle_pop_local_pkt()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>, and <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">pop</a>(msg, lo_sess, extinfo, extinfo_size);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ad30fc9c677829b84f849716df872fe11"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ad30fc9c677829b84f849716df872fe11">s3f::s3fnet::ProtocolSession::pop</a></div><div class="ttdeci">virtual int pop(Activation msg, ProtocolSession *lo_sess, void *extinfo=0, size_t extinfo_size=0)</div><div class="ttdoc">The method is called when a message is popped up to this protocol session from the protocol session b...</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00087">protocol_session.cc:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a806b5f5786984f8bc40421e92d19fe3e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::control </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ctrltyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctrlmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>sess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The control method is used by the protocol session to receive control messages (or information queries) from other protocol sessions both above and below this protocol session on the stack. </p>
<p>The derived class should override this method to provide support for handling different control messages. In this case, the derived class should invoke this method when encountering a control type that it does not know to to process.</p>
<p>The control messages are distinguished via types. The ctrl type is an integer; its meaning is specified by the particular protocol. The users are recommended to use ctrl type values beyond 1000 (excluding 1000). The values within 1000 are reserved. The control message is of type void* and should be cast to the appropriate types accordingly. Note that, unless specified otherwise, the caller is responsible to reclaim the control message once the method returns. The protocol session that invoking this method will have a reference to itself in the third argument.</p>
<p>The method returns an integer, indicating whether the control message is successfully processed. Unless specified otherwise, a zero means success. Non-zero means trouble and the returned value can be used as the error number, the meaning of which is specified by each particular protocol.</p>
<p>For information on a specific control type, see <a class="el" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223" title="General control types. ">s3f::s3fnet::ProtocolSessionCtrlTypes</a> </p>

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_i_p_session.html#a1704667dd212dc07837efe927ce63b21">s3f::s3fnet::IPSession</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_n_b_socket_master.html#aabeb233661fd644266f9934be2b3b426">s3f::s3fnet::NBSocketMaster</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_socket_master.html#af91624546c77ffa9ee39fb481a5323ac">s3f::s3fnet::SocketMaster</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_switch_session.html#a589412fe56bd736dabffe677267973c8">s3f::s3fnet::OpenFlowSwitchSession</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_simple_phy.html#a2c0d8e9f3f3bdf25c5d6c17eb327d85a">s3f::s3fnet::SimplePhy</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_open_v_z_event_session.html#a7afba0eff5604278b29f3b8e9a922334">s3f::s3fnet::OpenVZEventSession</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_open_flow_controller_session.html#a5e6d36c4d1dc6bb1d76bc996b68091f5">s3f::s3fnet::OpenFlowControllerSession</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_u_d_p_master.html#a0e61f219847cda7fb97cb3111a4b7e8a">s3f::s3fnet::UDPMaster</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_dummy_session.html#ad2fbb6e80488379ac9bf2ae572a4f222">s3f::s3fnet::DummySession</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_lowest_protocol_session.html#a58950f498b693c78ac6923ef9ef520d3">s3f::s3fnet::LowestProtocolSession</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#aeb37cf596aec56e7310b13ed1b5c9f1b">s3f::s3fnet::NicProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00092">92</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="s3fnet_8h_source.html#l00225">s3f::s3fnet::PSESS_CTRL_SESSION_GET_INTERFACE</a>, <a class="el" href="s3fnet_8h_source.html#l00209">s3f::s3fnet::PSESS_CTRL_SESSION_IS_LOWEST</a>, <a class="el" href="s3fnet_8h_source.html#l00253">s3f::s3fnet::PSESS_CTRL_SESSION_SET_CHILD</a>, and <a class="el" href="s3fnet_8h_source.html#l00239">s3f::s3fnet::PSESS_CTRL_SESSION_SET_PARENT</a>.</p>

<p>Referenced by <a class="el" href="udp__session_8cc_source.html#l00134">s3f::s3fnet::UDPSession::clear_app_state()</a>, <a class="el" href="tcp__session_8cc_source.html#l00281">s3f::s3fnet::TCPSession::clear_app_state()</a>, <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="nic__protocol__session_8cc_source.html#l00016">s3f::s3fnet::NicProtocolSession::control()</a>, <a class="el" href="dummy__session_8cc_source.html#l00182">s3f::s3fnet::DummySession::control()</a>, <a class="el" href="udp__master_8cc_source.html#l00086">s3f::s3fnet::UDPMaster::control()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00060">s3f::s3fnet::OpenFlowControllerSession::control()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00140">s3f::s3fnet::OpenVZEventSession::control()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00142">s3f::s3fnet::OpenFlowSwitchSession::control()</a>, <a class="el" href="socket__master_8cc_source.html#l00052">s3f::s3fnet::SocketMaster::control()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00052">s3f::s3fnet::NBSocketMaster::control()</a>, <a class="el" href="ip__session_8cc_source.html#l00148">s3f::s3fnet::IPSession::control()</a>, <a class="el" href="host_8cc_source.html#l00267">s3f::s3fnet::Host::loadForwardingTable()</a>, <a class="el" href="udp__session_8cc_source.html#l00104">s3f::s3fnet::UDPSession::release()</a>, <a class="el" href="udp__session_8cc_source.html#l00118">s3f::s3fnet::UDPSession::wake_app()</a>, and <a class="el" href="tcp__session_8cc_source.html#l00269">s3f::s3fnet::TCPSession::wake_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">switch</span>(ctrltype) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a6b628139c2a616c956ab141466437b63">PSESS_CTRL_SESSION_IS_LOWEST</a>:</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    *((<span class="keywordtype">bool</span>*)ctrlmsg) = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ac9f04cfb057f64bff210a96d10f3af1a">PSESS_CTRL_SESSION_GET_INTERFACE</a>:</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    assert(ctrlmsg);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    *((<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">NetworkInterface</a>**)ctrlmsg) = 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a00cdbd6d16379094f687944d5efb9c25">PSESS_CTRL_SESSION_SET_PARENT</a>:</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a9c9cee8feab3b6c0da2296953d2756a9">PSESS_CTRL_SESSION_SET_CHILD</a>:</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// all control types should be handled at this point; if not, we</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// should report the problem</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;ERROR: ProtocolSession::control(), &quot;</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;               <span class="stringliteral">&quot;unknown control type: %d.\n&quot;</span>, ctrltype);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a9c9cee8feab3b6c0da2296953d2756a9"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a9c9cee8feab3b6c0da2296953d2756a9">s3f::s3fnet::PSESS_CTRL_SESSION_SET_CHILD</a></div><div class="ttdoc">Set the protocol session above the current one. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00253">s3fnet.h:253</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a6b628139c2a616c956ab141466437b63"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a6b628139c2a616c956ab141466437b63">s3f::s3fnet::PSESS_CTRL_SESSION_IS_LOWEST</a></div><div class="ttdoc">Check if the protocol is at the bottom of the protocol stack. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00209">s3fnet.h:209</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a00cdbd6d16379094f687944d5efb9c25"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a00cdbd6d16379094f687944d5efb9c25">s3f::s3fnet::PSESS_CTRL_SESSION_SET_PARENT</a></div><div class="ttdoc">Set the protocol session above the current one. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00239">s3fnet.h:239</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_ab35230e6cee8f196334bff4237ada67c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#ab35230e6cee8f196334bff4237ada67c">s3f::s3fnet::ProtocolSession::NetworkInterface</a></div><div class="ttdeci">friend class NetworkInterface</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00039">protocol_session.h:39</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223ac9f04cfb057f64bff210a96d10f3af1a"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ac9f04cfb057f64bff210a96d10f3af1a">s3f::s3fnet::PSESS_CTRL_SESSION_GET_INTERFACE</a></div><div class="ttdoc">Get the owner network interface if this protocol session belongs to a network interface (such as Simp...</div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00225">s3fnet.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a383bfb5d8385ab3ddbabaeba2e4a38aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a>* s3f::s3fnet::ProtocolSession::inGraph </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns the protocol graph in which this protocol session resides. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00178">178</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00335">s3f::s3fnet::ProtocolSession::ingraph</a>.</p>

<p>Referenced by <a class="el" href="simple__phy_8cc_source.html#l00040">s3f::s3fnet::SimplePhy::config()</a>, <a class="el" href="simple__phy_8cc_source.html#l00183">s3f::s3fnet::SimplePhy::control()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00036">s3f::s3fnet::DroptailQueue::enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="simple__mac_8cc_source.html#l00041">s3f::s3fnet::SimpleMac::init()</a>, <a class="el" href="simple__phy_8cc_source.html#l00130">s3f::s3fnet::SimplePhy::init()</a>, <a class="el" href="red__queue_8cc_source.html#l00121">s3f::s3fnet::RedQueue::init()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00145">s3f::s3fnet::SimplePhy::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>, <a class="el" href="simple__phy_8cc_source.html#l00158">s3f::s3fnet::SimplePhy::sendPacket()</a>, <a class="el" href="simple__mac_8cc_source.html#l00031">s3f::s3fnet::SimpleMac::SimpleMac()</a>, <a class="el" href="simple__phy_8cc_source.html#l00028">s3f::s3fnet::SimplePhy::SimplePhy()</a>, <a class="el" href="simple__mac_8cc_source.html#l00036">s3f::s3fnet::SimpleMac::~SimpleMac()</a>, and <a class="el" href="simple__phy_8cc_source.html#l00034">s3f::s3fnet::SimplePhy::~SimplePhy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a9e93967a56c673f625b486d2fe389067"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">s3f::s3fnet::ProtocolSession::ingraph</a></div><div class="ttdeci">ProtocolGraph * ingraph</div><div class="ttdoc">Points to the protocol graph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00335">protocol_session.h:335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afadb38bfa4c4daa1049b229d7abce81c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_host.html">Host</a> * s3f::s3fnet::ProtocolSession::inHost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a pointer to the host owning this protocol session. </p>

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">s3f::s3fnet::NicProtocolSession</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00118">118</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00335">s3f::s3fnet::ProtocolSession::ingraph</a>.</p>

<p>Referenced by <a class="el" href="udp__session_8cc_source.html#l00095">s3f::s3fnet::UDPSession::abort()</a>, <a class="el" href="socket__master_8cc_source.html#l00283">s3f::s3fnet::SocketMaster::abort()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00294">s3f::s3fnet::NBSocketMaster::abort()</a>, <a class="el" href="socket__master_8cc_source.html#l00403">s3f::s3fnet::SocketMaster::accept()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00435">s3f::s3fnet::NBSocketMaster::accept()</a>, <a class="el" href="socket__master_8cc_source.html#l00443">s3f::s3fnet::SocketMaster::accept1a()</a>, <a class="el" href="socket__master_8cc_source.html#l00489">s3f::s3fnet::SocketMaster::accept1b()</a>, <a class="el" href="socket__master_8cc_source.html#l00535">s3f::s3fnet::SocketMaster::accept2a()</a>, <a class="el" href="socket__master_8cc_source.html#l00600">s3f::s3fnet::SocketMaster::accept2b()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01140">s3f::s3fnet::OpenFlowSwitchSession::AddFlow()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00163">s3f::s3fnet::TCPSession::backoff_timeout()</a>, <a class="el" href="socket__master_8cc_source.html#l00183">s3f::s3fnet::SocketMaster::bind()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00194">s3f::s3fnet::NBSocketMaster::bind()</a>, <a class="el" href="socket__master_8cc_source.html#l00306">s3f::s3fnet::SocketMaster::block_till()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00317">s3f::s3fnet::NBSocketMaster::block_till()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00161">s3f::s3fnet::BTCPClientSession::BTCPClientSession()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00423">s3f::s3fnet::OpenFlowSwitchSession::BufferFromPacket()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="udp__session_8cc_source.html#l00134">s3f::s3fnet::UDPSession::clear_app_state()</a>, <a class="el" href="udp__server_8cc_source.html#l00326">s3f::s3fnet::UDPServerSession::client_connected()</a>, <a class="el" href="socket__master_8cc_source.html#l00802">s3f::s3fnet::SocketMaster::close()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00808">s3f::s3fnet::NBSocketMaster::close()</a>, <a class="el" href="socket__master_8cc_source.html#l00846">s3f::s3fnet::SocketMaster::close1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00867">s3f::s3fnet::NBSocketMaster::close1()</a>, <a class="el" href="udp__master_8cc_source.html#l00043">s3f::s3fnet::UDPMaster::config()</a>, <a class="el" href="dummy__session_8cc_source.html#l00042">s3f::s3fnet::DummySession::config()</a>, <a class="el" href="tcp__client_8cc_source.html#l00159">s3f::s3fnet::TCPClientSession::config()</a>, <a class="el" href="udp__server_8cc_source.html#l00158">s3f::s3fnet::UDPServerSession::config()</a>, <a class="el" href="udp__client_8cc_source.html#l00156">s3f::s3fnet::UDPClientSession::config()</a>, <a class="el" href="tcp__server_8cc_source.html#l00150">config()</a>, <a class="el" href="tcp__master_8cc_source.html#l00106">s3f::s3fnet::TCPMaster::config()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00237">s3f::s3fnet::NBTCPClientSession::config()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00169">s3f::s3fnet::BTCPClientSession::config()</a>, <a class="el" href="ip__session_8cc_source.html#l00060">s3f::s3fnet::IPSession::config()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00279">s3f::s3fnet::NBTCPServerSession::config()</a>, <a class="el" href="udp__session_8cc_source.html#l00041">s3f::s3fnet::UDPSession::connect()</a>, <a class="el" href="socket__master_8cc_source.html#l00333">s3f::s3fnet::SocketMaster::connect()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00346">s3f::s3fnet::NBSocketMaster::connect()</a>, <a class="el" href="socket__master_8cc_source.html#l00365">s3f::s3fnet::SocketMaster::connect1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00396">s3f::s3fnet::NBSocketMaster::connect1()</a>, <a class="el" href="socket__master_8cc_source.html#l00240">s3f::s3fnet::SocketMaster::connected()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00251">s3f::s3fnet::NBSocketMaster::connected()</a>, <a class="el" href="udp__master_8cc_source.html#l00086">s3f::s3fnet::UDPMaster::control()</a>, <a class="el" href="socket__master_8cc_source.html#l00052">s3f::s3fnet::SocketMaster::control()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00052">s3f::s3fnet::NBSocketMaster::control()</a>, <a class="el" href="ip__session_8cc_source.html#l00148">s3f::s3fnet::IPSession::control()</a>, <a class="el" href="tcp__master_8cc_source.html#l00472">s3f::s3fnet::TCPMaster::createSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="udp__server_8cc_source.html#l00348">s3f::s3fnet::UDPServerSession::data_sent()</a>, <a class="el" href="tcp__server_8cc_source.html#l00299">data_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00058">s3f::s3fnet::UDPSession::disconnect()</a>, <a class="el" href="tcp__master_8cc_source.html#l00547">s3f::s3fnet::TCPMaster::enableFastTimeout()</a>, <a class="el" href="socket__master_8cc_source.html#l00262">s3f::s3fnet::SocketMaster::eof()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00273">s3f::s3fnet::NBSocketMaster::eof()</a>, <a class="el" href="udp__client_8cc_source.html#l00077">s3f::s3fnet::UDPClientSessionContinuation::failure()</a>, <a class="el" href="udp__server_8cc_source.html#l00078">s3f::s3fnet::UDPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__server_8cc_source.html#l00081">s3f::s3fnet::TCPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__client_8cc_source.html#l00081">s3f::s3fnet::TCPClientSessionContinuation::failure()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00093">s3f::s3fnet::BTCPClientSessionContinuation::failure()</a>, <a class="el" href="tcp__master_8cc_source.html#l00579">s3f::s3fnet::TCPMaster::fast_timer_callback_body()</a>, <a class="el" href="openflow__interface_8cc_source.html#l00184">s3f::s3fnet::Stats::FlowStatsDump()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00850">s3f::s3fnet::OpenFlowSwitchSession::FlowTableLookup()</a>, <a class="el" href="ip__session_8cc_source.html#l00489">s3f::s3fnet::IPSession::get_parent_by_protocol()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="protocol__session_8cc_source.html#l00123">s3f::s3fnet::ProtocolSession::getNow()</a>, <a class="el" href="protocol__session_8cc_source.html#l00128">s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator()</a>, <a class="el" href="ip__session_8cc_source.html#l00567">s3f::s3fnet::IPSession::handle_pop_local_pkt()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">s3f::s3fnet::IPSession::handle_pop_pkt()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01415">s3f::s3fnet::OpenFlowSwitchSession::HandleControlInput()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00297">s3f::s3fnet::LearningControllerSession::HandleInquiryMessageFromOFSwitch()</a>, <a class="el" href="dummy__session_8cc_source.html#l00116">s3f::s3fnet::DummySession::init()</a>, <a class="el" href="udp__master_8cc_source.html#l00067">s3f::s3fnet::UDPMaster::init()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00048">s3f::s3fnet::OpenFlowControllerSession::init()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00060">s3f::s3fnet::OpenVZEventSession::init()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__server_8cc_source.html#l00229">s3f::s3fnet::UDPServerSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="tcp__server_8cc_source.html#l00201">init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00112">s3f::s3fnet::OpenFlowSwitchSession::init()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00282">s3f::s3fnet::NBTCPClientSession::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="socket__master_8cc_source.html#l00042">s3f::s3fnet::SocketMaster::init()</a>, <a class="el" href="ip__session_8cc_source.html#l00076">s3f::s3fnet::IPSession::init()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00042">s3f::s3fnet::NBSocketMaster::init()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00330">s3f::s3fnet::NBTCPServerSession::init()</a>, <a class="el" href="tcp__state_8cc_source.html#l00020">s3f::s3fnet::TCPSession::init_state_closed()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="ip__session_8cc_source.html#l00030">s3f::s3fnet::IPSession::IPSession()</a>, <a class="el" href="udp__session_8cc_source.html#l00068">s3f::s3fnet::UDPSession::listen()</a>, <a class="el" href="socket__master_8cc_source.html#l00228">s3f::s3fnet::SocketMaster::listen()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00239">s3f::s3fnet::NBSocketMaster::listen()</a>, <a class="el" href="ip__session_8cc_source.html#l00437">s3f::s3fnet::IPSession::load_forwarding_table()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01227">s3f::s3fnet::OpenFlowSwitchSession::ModFlow()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00025">s3f::s3fnet::NBSocketMaster::NBSocketMaster()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00124">s3f::s3fnet::NBTCPClientSession::NBTCPClientSession()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00204">s3f::s3fnet::NBTCPServerSession::NBTCPServerSession()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00199">s3f::s3fnet::NBTCPClientSession::non_blocking_loop()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00244">s3f::s3fnet::NBTCPServerSession::non_blocking_loop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00706">s3f::s3fnet::OpenFlowSwitchSession::OutputControl()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00610">s3f::s3fnet::OpenFlowSwitchSession::OutputPacket()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00636">s3f::s3fnet::OpenFlowSwitchSession::OutputPort()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00078">s3f::s3fnet::OpenFlowControllerSession::pop()</a>, <a class="el" href="udp__master_8cc_source.html#l00109">s3f::s3fnet::UDPMaster::pop()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00161">s3f::s3fnet::OpenFlowSwitchSession::pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00416">s3f::s3fnet::TCPMaster::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00410">s3f::s3fnet::IPSession::pop()</a>, <a class="el" href="openflow__controller_8cc_source.html#l00175">s3f::s3fnet::LearningController::process_recv_packet()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>, <a class="el" href="udp__session_8cc_source.html#l00189">s3f::s3fnet::UDPSession::receive()</a>, <a class="el" href="tcp__receiver_8cc_source.html#l00040">s3f::s3fnet::TCPSession::receive()</a>, <a class="el" href="openflow__controller__session_8cc_source.html#l00193">s3f::s3fnet::LearningControllerSession::ReceiveFromSwitch()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01028">s3f::s3fnet::OpenFlowSwitchSession::ReceivePacketOut()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01076">s3f::s3fnet::OpenFlowSwitchSession::ReceivePortMod()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l01360">s3f::s3fnet::OpenFlowSwitchSession::ReceiveStatsRequest()</a>, <a class="el" href="socket__master_8cc_source.html#l00717">s3f::s3fnet::SocketMaster::recv()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00706">s3f::s3fnet::NBSocketMaster::recv()</a>, <a class="el" href="socket__master_8cc_source.html#l00759">s3f::s3fnet::SocketMaster::recv1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00764">s3f::s3fnet::NBSocketMaster::recv1()</a>, <a class="el" href="udp__server_8cc_source.html#l00283">s3f::s3fnet::UDPServerSession::request_received()</a>, <a class="el" href="tcp__server_8cc_source.html#l00272">request_received()</a>, <a class="el" href="udp__client_8cc_source.html#l00408">s3f::s3fnet::UDPClientSession::request_sent()</a>, <a class="el" href="tcp__client_8cc_source.html#l00412">s3f::s3fnet::TCPClientSession::request_sent()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00093">s3f::s3fnet::NBTCPClientSessionContinuation::resume()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00104">s3f::s3fnet::NBTCPServerSessionContinuation::resume()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00893">s3f::s3fnet::OpenFlowSwitchSession::RunThroughFlowTable()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, <a class="el" href="socket__master_8cc_source.html#l00637">s3f::s3fnet::SocketMaster::send()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00609">s3f::s3fnet::NBSocketMaster::send()</a>, <a class="el" href="socket__master_8cc_source.html#l00679">s3f::s3fnet::SocketMaster::send1()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00667">s3f::s3fnet::NBSocketMaster::send1()</a>, <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00823">s3f::s3fnet::OpenFlowSwitchSession::SendFlowExpired()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00686">s3f::s3fnet::OpenFlowSwitchSession::SendOpenflowBuffer()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00808">s3f::s3fnet::OpenFlowSwitchSession::SendPortStatus()</a>, <a class="el" href="udp__client_8cc_source.html#l00390">s3f::s3fnet::UDPClientSession::server_connected()</a>, <a class="el" href="tcp__client_8cc_source.html#l00394">s3f::s3fnet::TCPClientSession::server_connected()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00395">s3f::s3fnet::BTCPClientSession::server_connected()</a>, <a class="el" href="udp__server_8cc_source.html#l00371">s3f::s3fnet::UDPServerSession::session_closed()</a>, <a class="el" href="udp__client_8cc_source.html#l00465">s3f::s3fnet::UDPClientSession::session_closed()</a>, <a class="el" href="tcp__client_8cc_source.html#l00469">s3f::s3fnet::TCPClientSession::session_closed()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">session_closed()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00452">s3f::s3fnet::BTCPClientSession::session_closed()</a>, <a class="el" href="tcp__master_8cc_source.html#l00520">s3f::s3fnet::TCPMaster::setConnected()</a>, <a class="el" href="openflow__switch__session_8cc_source.html#l00270">s3f::s3fnet::OpenFlowSwitchSession::SetController()</a>, <a class="el" href="tcp__master_8cc_source.html#l00538">s3f::s3fnet::TCPMaster::setIdle()</a>, <a class="el" href="tcp__master_8cc_source.html#l00529">s3f::s3fnet::TCPMaster::setListening()</a>, <a class="el" href="udp__session_8cc_source.html#l00084">s3f::s3fnet::UDPSession::setSource()</a>, <a class="el" href="tcp__master_8cc_source.html#l00610">s3f::s3fnet::TCPMaster::slow_timer_callback_body()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00029">s3f::s3fnet::TCPSession::slowTimeoutHandling()</a>, <a class="el" href="socket__master_8cc_source.html#l00162">s3f::s3fnet::SocketMaster::socket()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00173">s3f::s3fnet::NBSocketMaster::socket()</a>, <a class="el" href="socket__master_8cc_source.html#l00025">s3f::s3fnet::SocketMaster::SocketMaster()</a>, <a class="el" href="udp__server_8cc_source.html#l00253">s3f::s3fnet::UDPServerSession::start_on()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00173">s3f::s3fnet::NBTCPClientSession::start_on()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00215">s3f::s3fnet::NBTCPServerSession::start_on()</a>, <a class="el" href="nb__tcp__server_8cc_source.html#l00074">s3f::s3fnet::NBTCPServerSessionContinuation::success()</a>, <a class="el" href="tcp__client_8cc_source.html#l00151">s3f::s3fnet::TCPClientSession::TCPClientSession()</a>, <a class="el" href="tcp__master_8cc_source.html#l00052">s3f::s3fnet::TCPMaster::TCPMaster()</a>, <a class="el" href="tcp__server_8cc_source.html#l00142">TCPServerSession()</a>, <a class="el" href="tcp__session_8cc_source.html#l00029">s3f::s3fnet::TCPSession::TCPSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00521">s3f::s3fnet::UDPClientSession::timeout()</a>, <a class="el" href="tcp__client_8cc_source.html#l00528">s3f::s3fnet::TCPClientSession::timeout()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00512">s3f::s3fnet::BTCPClientSession::timeout()</a>, <a class="el" href="udp__client_8cc_source.html#l00148">s3f::s3fnet::UDPClientSession::UDPClientSession()</a>, <a class="el" href="udp__master_8cc_source.html#l00030">s3f::s3fnet::UDPMaster::UDPMaster()</a>, <a class="el" href="udp__server_8cc_source.html#l00150">s3f::s3fnet::UDPServerSession::UDPServerSession()</a>, <a class="el" href="udp__session_8cc_source.html#l00024">s3f::s3fnet::UDPSession::UDPSession()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00134">s3f::s3fnet::TCPSession::update_timeout()</a>, <a class="el" href="ip__session_8cc_source.html#l00423">s3f::s3fnet::IPSession::verify_local_ip_address()</a>, and <a class="el" href="udp__session_8cc_source.html#l00118">s3f::s3fnet::UDPSession::wake_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">Host</a>*<span class="keyword">&gt;</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">ingraph</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a9e93967a56c673f625b486d2fe389067"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9e93967a56c673f625b486d2fe389067">s3f::s3fnet::ProtocolSession::ingraph</a></div><div class="ttdeci">ProtocolGraph * ingraph</div><div class="ttdoc">Points to the protocol graph. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00335">protocol_session.h:335</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a912b690126957a1ad90d0c373a4ad4d0"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a912b690126957a1ad90d0c373a4ad4d0">s3f::s3fnet::ProtocolSession::Host</a></div><div class="ttdeci">friend class Host</div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00040">protocol_session.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ffe57c5dfd8cc847d566acf4581b968"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a>* s3f::s3fnet::ProtocolSession::getRandom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns a pointer to the random number generator. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00200">200</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00338">s3f::s3fnet::ProtocolSession::sess_rng</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">s3f::s3fnet::DroptailQueue::calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="dummy__session_8cc_source.html#l00116">s3f::s3fnet::DummySession::init()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, and <a class="el" href="network__interface_8cc_source.html#l00216">s3f::s3fnet::NetworkInterface::receivePacket()</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">sess_rng</a>;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a41caeb7af8ef9b2d1b3ead0bedfe63c9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a41caeb7af8ef9b2d1b3ead0bedfe63c9">s3f::s3fnet::ProtocolSession::sess_rng</a></div><div class="ttdeci">Random::RNG * sess_rng</div><div class="ttdoc">Pointer to a random number generator. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00338">protocol_session.h:338</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a8fc3b0c62b09c82b72268b56abb58c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::ProtocolSession::getNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method returns the current simulation time. </p>
<p>To be safe, please do NOT call this function after initialization and before wrapup phase. That is, it is unsafe to call this method in the constructor, destructor, config, init, and wrapup methods. The time service is carried out by the host's owner community. This method just directs the call to the community. It's given here for convenience. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00123">123</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>, and <a class="el" href="entity_8cc_source.html#l00111">Entity::now()</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">s3f::s3fnet::DroptailQueue::calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="tcp__master_8cc_source.html#l00547">s3f::s3fnet::TCPMaster::enableFastTimeout()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00036">s3f::s3fnet::DroptailQueue::enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="tcp__master_8cc_source.html#l00579">s3f::s3fnet::TCPMaster::fast_timer_callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="tcp__session_8h_source.html#l00385">s3f::s3fnet::TCPSession::now()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00610">s3f::s3fnet::TCPMaster::slow_timer_callback_body()</a>, <a class="el" href="socket__master_8cc_source.html#l00162">s3f::s3fnet::SocketMaster::socket()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00173">s3f::s3fnet::NBSocketMaster::socket()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, and <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">now</a>();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="ttc" id="class_entity_html_a303433dc2088519a44e8a56922ec1f0c"><div class="ttname"><a href="class_entity.html#a303433dc2088519a44e8a56922ec1f0c">Entity::now</a></div><div class="ttdeci">ltime_t now()</div><div class="ttdoc">Time on Entity&#39;s Timeline, either the time at which the current (or most recent) event on the timelin...</div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00111">entity.cc:111</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0250c97bad17f18ef7037fd76f7e5083"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * s3f::s3fnet::ProtocolSession::getNowWithThousandSeparator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For printing the current simulation time in a better readable format. </p>

<p>Definition at line <a class="el" href="protocol__session_8cc_source.html#l00128">128</a> of file <a class="el" href="protocol__session_8cc_source.html">protocol_session.cc</a>.</p>

<p>References <a class="el" href="host_8cc_source.html#l00316">s3f::s3fnet::Host::getNowWithThousandSeparator()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>.</p>

<p>Referenced by <a class="el" href="udp__session_8cc_source.html#l00095">s3f::s3fnet::UDPSession::abort()</a>, <a class="el" href="dummy__session_8cc_source.html#l00160">s3f::s3fnet::DummySession::callback_body()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00118">s3f::s3fnet::OpenVZEventSession::callback_body()</a>, <a class="el" href="udp__session_8cc_source.html#l00134">s3f::s3fnet::UDPSession::clear_app_state()</a>, <a class="el" href="udp__session_8cc_source.html#l00041">s3f::s3fnet::UDPSession::connect()</a>, <a class="el" href="tcp__master_8cc_source.html#l00472">s3f::s3fnet::TCPMaster::createSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00430">s3f::s3fnet::UDPClientSession::data_received()</a>, <a class="el" href="tcp__client_8cc_source.html#l00434">s3f::s3fnet::TCPClientSession::data_received()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00417">s3f::s3fnet::BTCPClientSession::data_received()</a>, <a class="el" href="udp__server_8cc_source.html#l00348">s3f::s3fnet::UDPServerSession::data_sent()</a>, <a class="el" href="tcp__server_8cc_source.html#l00299">data_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00058">s3f::s3fnet::UDPSession::disconnect()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="udp__client_8cc_source.html#l00486">s3f::s3fnet::UDPClientSession::get_random_server()</a>, <a class="el" href="nb__tcp__client_8cc_source.html#l00133">s3f::s3fnet::NBTCPClientSession::get_random_server()</a>, <a class="el" href="tcp__client_8cc_source.html#l00490">s3f::s3fnet::TCPClientSession::get_random_server()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00473">s3f::s3fnet::BTCPClientSession::get_random_server()</a>, <a class="el" href="ip__session_8cc_source.html#l00567">s3f::s3fnet::IPSession::handle_pop_local_pkt()</a>, <a class="el" href="ip__session_8cc_source.html#l00494">s3f::s3fnet::IPSession::handle_pop_pkt()</a>, <a class="el" href="tcp__client_8cc_source.html#l00285">s3f::s3fnet::TCPClientSession::init()</a>, <a class="el" href="udp__client_8cc_source.html#l00281">s3f::s3fnet::UDPClientSession::init()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00284">s3f::s3fnet::BTCPClientSession::init()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00076">s3f::s3fnet::OpenVZEventSession::injectEvent()</a>, <a class="el" href="udp__session_8cc_source.html#l00068">s3f::s3fnet::UDPSession::listen()</a>, <a class="el" href="udp__client_8cc_source.html#l00310">s3f::s3fnet::UDPClientSession::main_proc()</a>, <a class="el" href="tcp__client_8cc_source.html#l00314">s3f::s3fnet::TCPClientSession::main_proc()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00313">s3f::s3fnet::BTCPClientSession::main_proc()</a>, <a class="el" href="dummy__session_8cc_source.html#l00200">s3f::s3fnet::DummySession::pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00088">s3f::s3fnet::SimpleMac::pop()</a>, <a class="el" href="open_v_z_emu__event__session_8cc_source.html#l00155">s3f::s3fnet::OpenVZEventSession::pop()</a>, <a class="el" href="udp__master_8cc_source.html#l00109">s3f::s3fnet::UDPMaster::pop()</a>, <a class="el" href="tcp__master_8cc_source.html#l00416">s3f::s3fnet::TCPMaster::pop()</a>, <a class="el" href="ip__session_8cc_source.html#l00410">s3f::s3fnet::IPSession::pop()</a>, <a class="el" href="simple__mac_8cc_source.html#l00052">s3f::s3fnet::SimpleMac::push()</a>, <a class="el" href="udp__master_8cc_source.html#l00102">s3f::s3fnet::UDPMaster::push()</a>, <a class="el" href="simple__phy_8cc_source.html#l00145">s3f::s3fnet::SimplePhy::push()</a>, <a class="el" href="tcp__master_8cc_source.html#l00409">s3f::s3fnet::TCPMaster::push()</a>, <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>, <a class="el" href="udp__session_8cc_source.html#l00189">s3f::s3fnet::UDPSession::receive()</a>, <a class="el" href="tcp__receiver_8cc_source.html#l00040">s3f::s3fnet::TCPSession::receive()</a>, <a class="el" href="simple__phy_8cc_source.html#l00167">s3f::s3fnet::SimplePhy::receivePacket()</a>, <a class="el" href="udp__server_8cc_source.html#l00283">s3f::s3fnet::UDPServerSession::request_received()</a>, <a class="el" href="tcp__server_8cc_source.html#l00272">request_received()</a>, <a class="el" href="udp__client_8cc_source.html#l00408">s3f::s3fnet::UDPClientSession::request_sent()</a>, <a class="el" href="tcp__client_8cc_source.html#l00412">s3f::s3fnet::TCPClientSession::request_sent()</a>, <a class="el" href="udp__session_8cc_source.html#l00144">s3f::s3fnet::UDPSession::send()</a>, <a class="el" href="tcp__sender_8cc_source.html#l00055">s3f::s3fnet::TCPSession::send_data()</a>, <a class="el" href="simple__phy_8cc_source.html#l00158">s3f::s3fnet::SimplePhy::sendPacket()</a>, <a class="el" href="udp__client_8cc_source.html#l00390">s3f::s3fnet::UDPClientSession::server_connected()</a>, <a class="el" href="tcp__client_8cc_source.html#l00394">s3f::s3fnet::TCPClientSession::server_connected()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00395">s3f::s3fnet::BTCPClientSession::server_connected()</a>, <a class="el" href="udp__server_8cc_source.html#l00371">s3f::s3fnet::UDPServerSession::session_closed()</a>, <a class="el" href="udp__client_8cc_source.html#l00465">s3f::s3fnet::UDPClientSession::session_closed()</a>, <a class="el" href="tcp__client_8cc_source.html#l00469">s3f::s3fnet::TCPClientSession::session_closed()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">session_closed()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00452">s3f::s3fnet::BTCPClientSession::session_closed()</a>, <a class="el" href="tcp__master_8cc_source.html#l00520">s3f::s3fnet::TCPMaster::setConnected()</a>, <a class="el" href="tcp__master_8cc_source.html#l00538">s3f::s3fnet::TCPMaster::setIdle()</a>, <a class="el" href="tcp__master_8cc_source.html#l00529">s3f::s3fnet::TCPMaster::setListening()</a>, <a class="el" href="udp__session_8cc_source.html#l00084">s3f::s3fnet::UDPSession::setSource()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00029">s3f::s3fnet::TCPSession::slowTimeoutHandling()</a>, <a class="el" href="udp__server_8cc_source.html#l00253">s3f::s3fnet::UDPServerSession::start_on()</a>, <a class="el" href="udp__client_8cc_source.html#l00358">s3f::s3fnet::UDPClientSession::start_on()</a>, <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>, <a class="el" href="tcp__client_8cc_source.html#l00363">s3f::s3fnet::TCPClientSession::start_on()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00362">s3f::s3fnet::BTCPClientSession::start_on()</a>, <a class="el" href="tcp__session_8cc_source.html#l00029">s3f::s3fnet::TCPSession::TCPSession()</a>, <a class="el" href="udp__client_8cc_source.html#l00521">s3f::s3fnet::UDPClientSession::timeout()</a>, <a class="el" href="tcp__client_8cc_source.html#l00528">s3f::s3fnet::TCPClientSession::timeout()</a>, <a class="el" href="blocking__tcp__client_8cc_source.html#l00512">s3f::s3fnet::BTCPClientSession::timeout()</a>, <a class="el" href="udp__session_8cc_source.html#l00024">s3f::s3fnet::UDPSession::UDPSession()</a>, <a class="el" href="tcp__timer_8cc_source.html#l00134">s3f::s3fnet::TCPSession::update_timeout()</a>, and <a class="el" href="udp__session_8cc_source.html#l00118">s3f::s3fnet::UDPSession::wake_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">inHost</a>()-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_host.html#ad4e79d11c09dc928b370fbfc5e9c1296">getNowWithThousandSeparator</a>();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_host_html_ad4e79d11c09dc928b370fbfc5e9c1296"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_host.html#ad4e79d11c09dc928b370fbfc5e9c1296">s3f::s3fnet::Host::getNowWithThousandSeparator</a></div><div class="ttdeci">char * getNowWithThousandSeparator()</div><div class="ttdoc">print out the current simulation time with thousand separator </div><div class="ttdef"><b>Definition:</b> <a href="host_8cc_source.html#l00316">host.cc:316</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_afadb38bfa4c4daa1049b229d7abce81c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#afadb38bfa4c4daa1049b229d7abce81c">s3f::s3fnet::ProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00118">protocol_session.cc:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a422a77ab55edab25263965f7eaf5458e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::configured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been configured. </p>
<p>This method is used to make sure we configure the protocol session before initializing it. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00221">221</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00053">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">PSESS_CONFIGURED</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a3c91a49267ae29962158ec8e5aa75552">s3f::s3fnet::ProtocolSession::PSESS_CONFIGURED</a></div><div class="ttdoc">the config method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00053">protocol_session.h:53</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca7233711f9c8c606c611ec97ee29cdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been initialized. </p>
<p>This can be used to sequence calls to the init method of protocol sessions. For example, if protocol session A requires protocol session B to be initialized before A can be initialized, A's init method can call B's init method as long as B's <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#aca7233711f9c8c606c611ec97ee29cdb" title="This method returns true if the protocol session has been initialized. ">initialized()</a> returns true. The system does not enforce any ordering in its calls the init methods of all protocol sessions declared in the dml configuration. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00233">233</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00054">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">PSESS_INITIALIZED</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118acf01674e118c3a7d2cd7d8d6b6002d9a">s3f::s3fnet::ProtocolSession::PSESS_INITIALIZED</a></div><div class="ttdoc">the init method of this protocol session has been called </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00054">protocol_session.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac934416dd1e279568a3bef2e8a6b045d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::wrapped_up </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns true if the protocol session has been wrapped up. </p>
<p>This can be used to sequence calls to the wrapup method of protocol sessions. For example, if protocol session A requires protocol session B to be wrapped up before A can be wrapped up, A's wrapup method can call B's wrapup method as long as B's <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html#ac934416dd1e279568a3bef2e8a6b045d" title="This method returns true if the protocol session has been wrapped up. ">wrapped_up()</a> returns true. The system does not enforce any ordering in its calls the wrapup methods of all protocol sessions declared in the dml configuration. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00245">245</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00055">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a>, and <a class="el" href="protocol__session_8h_source.html#l00346">s3f::s3fnet::ProtocolSession::stage</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">stage</a> &gt;= <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">PSESS_WRAPPED_UP</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a446b7857e72ac901402821230f5bcd60"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a446b7857e72ac901402821230f5bcd60">s3f::s3fnet::ProtocolSession::stage</a></div><div class="ttdeci">int stage</div><div class="ttdoc">This variable indicates the current stage of this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00346">protocol_session.h:346</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a3846269d44f267c44706152b1a78a118a6b110ae59ed74fa48faf95206a60aba4">s3f::s3fnet::ProtocolSession::PSESS_WRAPPED_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00055">protocol_session.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7089cc1e64ae5238d584e140a54ac046"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* s3f::s3fnet::ProtocolSession::psesstype </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_n_b_socket_master.html#a512b27418a69718e5816695ff6180526">s3f::s3fnet::NBSocketMaster</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_socket_master.html#aa9aaee72acf7f9fae2d07551a44f799c">s3f::s3fnet::SocketMaster</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00247">247</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;GENERIC&quot;</span>; } <span class="comment">// DEBUG</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a399f44fe5680907c95aff451e414c98e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::ProtocolSession::instantiation_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method controls how protocol instances can coexist with one another. </p>
<p>It returns one of the following: </p>
<ul>
<li>
PROT_UNIQUE_INSTANCE (default): allows only one instance for each type of protocol per protocol stack; </li>
<li>
PROT_MULTIPLE_INSTANCES: allows multiple instances of the same implementation for each type of protocol per protocol stack; </li>
<li>
PROT_MULTIPLE_IMPLEMENTATIONS: allows multiple instances from different implementations of the same protocol to exist on the protocol stack. </li>
</ul>

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_b_t_c_p_client_session.html#a534c623ca099aabc030db725429acec2">s3f::s3fnet::BTCPClientSession</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_client_session.html#a4f991d67621b12fb8b807813ce750487">s3f::s3fnet::TCPClientSession</a>.</p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00269">269</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>References <a class="el" href="protocol__session_8h_source.html#l00045">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a>.</p>

<p>Referenced by <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">PROT_UNIQUE_INSTANCE</a>; }</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a683dd9bc9c34204838e69790fd82f098ae42986263d7158bc7101239e74796ef9">s3f::s3fnet::ProtocolSession::PROT_UNIQUE_INSTANCE</a></div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00045">protocol_session.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a1325bdca2467baa3ecac033d71f72677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_process.html">Process</a>* s3f::s3fnet::TCPServerSession::start_timer_callback_proc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_process.html" title="The code that executes should be thought of as embedded in an instant of time. ">Process</a> object for start timer callback Provide call_back functionality for implementing the start timer in the <a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html" title="The TCP server test protocol session. ">TCPServerSession</a>. </p>
<p>This S3F process is used by waitFor() function. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00072">72</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00201">init()</a>.</p>

</div>
</div>
<a class="anchor" id="ab92499f2b22094a4d6a841f2cfeae9f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_callback_activation.html">ProtocolCallbackActivation</a>* s3f::s3fnet::TCPServerSession::start_timer_ac</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activation object for start timer callback. </p>
<p>Stores the data for the callback function. In this case, the <a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html" title="The TCP server test protocol session. ">TCPServerSession</a> object is stored. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00084">84</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00201">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a86d25f08f209c740940389c692c3c0d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaces3f_1_1s3fnet.html#a86b23dba95adcf3919f9e2bd6207b6f8">uint16</a> s3f::s3fnet::TCPServerSession::server_port</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="structs3f_1_1s3fnet_1_1_port.html" title="Port and its metadata. ">Port</a> number to receive incoming request. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00131">131</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00150">config()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0107cb5ce67049fcad742ed6ad7f308"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a> s3f::s3fnet::TCPServerSession::request_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Size of the request from client (must be consistent). </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00136">136</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00150">config()</a>, <a class="el" href="tcp__server_8cc_source.html#l00258">connection_accepted()</a>, <a class="el" href="tcp__server_8cc_source.html#l00272">request_received()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00042">s3f::s3fnet::TCPServerSessionContinuation::TCPServerSessionContinuation()</a>.</p>

</div>
</div>
<a class="anchor" id="a2840e92dfa336e12bfa866dca1699bdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a> s3f::s3fnet::TCPServerSession::client_limit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of client sessions that can be handled simultaneously. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00141">141</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00150">config()</a>, <a class="el" href="tcp__server_8cc_source.html#l00258">connection_accepted()</a>, <a class="el" href="tcp__server_8cc_source.html#l00081">s3f::s3fnet::TCPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">session_closed()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d8480d4c123ab05ff268d30808fe9b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool s3f::s3fnet::TCPServerSession::accept_completed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accept has been completed We have at least one client connected. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00147">147</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00258">connection_accepted()</a>, <a class="el" href="tcp__server_8cc_source.html#l00081">s3f::s3fnet::TCPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">session_closed()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d53af214d87fbd5d9f5cbaf747ec83a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool s3f::s3fnet::TCPServerSession::show_report</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether we print out the result or not. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00152">152</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00150">config()</a>.</p>

</div>
</div>
<a class="anchor" id="a65c264946c39c2c42e9b7b1ec7c5259e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_socket_master.html">SocketMaster</a>* s3f::s3fnet::TCPServerSession::sm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the socket master. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00159">159</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00258">connection_accepted()</a>, <a class="el" href="tcp__server_8cc_source.html#l00299">data_sent()</a>, <a class="el" href="tcp__server_8cc_source.html#l00250">handle_client()</a>, <a class="el" href="tcp__server_8cc_source.html#l00201">init()</a>, <a class="el" href="tcp__server_8cc_source.html#l00288">sending_data()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b591296c226074b83189774fefd3171"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a> s3f::s3fnet::TCPServerSession::server_ip</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The ip address of this server (interface 0). </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00165">165</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00201">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a5fd6a54d381e35c12c4dfa73b11f227e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a> s3f::s3fnet::TCPServerSession::nclients</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of clients currently connected. </p>

<p>Definition at line <a class="el" href="tcp__server_8h_source.html#l00170">170</a> of file <a class="el" href="tcp__server_8h_source.html">tcp_server.h</a>.</p>

<p>Referenced by <a class="el" href="tcp__server_8cc_source.html#l00258">connection_accepted()</a>, <a class="el" href="tcp__server_8cc_source.html#l00081">s3f::s3fnet::TCPServerSessionContinuation::failure()</a>, <a class="el" href="tcp__server_8cc_source.html#l00322">session_closed()</a>, and <a class="el" href="tcp__server_8cc_source.html#l00224">start_on()</a>.</p>

</div>
</div>
<a class="anchor" id="a7eedcbe4da39cba727d26f1339ac7c47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* s3f::s3fnet::ProtocolSession::name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Symbolic name of the protocol this session implements. </p>
<p>The name of the protocol is derived from the DML 'name' attribute. It must not be NULL once the protocol session is configured. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00063">63</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="network__interface_8cc_source.html#l00055">s3f::s3fnet::NetworkInterface::config()</a>, <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="simple__mac_8cc_source.html#l00041">s3f::s3fnet::SimpleMac::init()</a>, <a class="el" href="udp__master_8cc_source.html#l00067">s3f::s3fnet::UDPMaster::init()</a>, <a class="el" href="simple__phy_8cc_source.html#l00130">s3f::s3fnet::SimplePhy::init()</a>, <a class="el" href="tcp__master_8cc_source.html#l00374">s3f::s3fnet::TCPMaster::init()</a>, <a class="el" href="socket__master_8cc_source.html#l00042">s3f::s3fnet::SocketMaster::init()</a>, <a class="el" href="ip__session_8cc_source.html#l00076">s3f::s3fnet::IPSession::init()</a>, <a class="el" href="nb__socket__master_8cc_source.html#l00042">s3f::s3fnet::NBSocketMaster::init()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>, <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00140">s3f::s3fnet::ProtocolSession::~ProtocolSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a4bb8b1c69b73b59173827f60dc2cacd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float s3f::s3fnet::ProtocolSession::version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Version number of this protocol implemenntation, represented as a floating point number (e.g., 1.23). </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00069">69</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6085e2d490de56b7feec0941b37cf8fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* s3f::s3fnet::ProtocolSession::use</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the protocol class from which this protocol session is instantiated. </p>
<p>The protocol class must be registered with the <a class="el" href="classs3f_1_1s3fnet_1_1_protocols.html" title="Managing protocols. ">Protocols</a> class so that we will be able to instantiate an object from the class. (C++ does not support self-reflection). The class name must not be NULL once the protocol session is configured. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00079">79</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="network__interface_8cc_source.html#l00055">s3f::s3fnet::NetworkInterface::config()</a>, <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="protocol__graph_8cc_source.html#l00141">s3f::s3fnet::ProtocolGraph::insert_session()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00140">s3f::s3fnet::ProtocolSession::~ProtocolSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e93967a56c673f625b486d2fe389067"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_graph.html">ProtocolGraph</a>* s3f::s3fnet::ProtocolSession::ingraph</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Points to the protocol graph. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00335">335</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="nic__protocol__session_8cc_source.html#l00037">s3f::s3fnet::NicProtocolSession::getNetworkInterface()</a>, <a class="el" href="protocol__session_8h_source.html#l00178">s3f::s3fnet::ProtocolSession::inGraph()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00118">s3f::s3fnet::ProtocolSession::inHost()</a>.</p>

</div>
</div>
<a class="anchor" id="a41caeb7af8ef9b2d1b3ead0bedfe63c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_random_1_1_r_n_g.html">Random::RNG</a>* s3f::s3fnet::ProtocolSession::sess_rng</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to a random number generator. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00338">338</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="protocol__session_8h_source.html#l00200">s3f::s3fnet::ProtocolSession::getRandom()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a446b7857e72ac901402821230f5bcd60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ProtocolSession::stage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This variable indicates the current stage of this protocol session. </p>
<p>Each protocol session will go through four staged: PSESS_CREATED, PSESS_CONFIGURED, PSESS_INITIALIZED, and then PSESS_WRAPPED_UP. </p>

<p>Definition at line <a class="el" href="protocol__session_8h_source.html#l00346">346</a> of file <a class="el" href="protocol__session_8h_source.html">protocol_session.h</a>.</p>

<p>Referenced by <a class="el" href="host_8cc_source.html#l00049">s3f::s3fnet::Host::config()</a>, <a class="el" href="protocol__session_8cc_source.html#l00021">s3f::s3fnet::ProtocolSession::config()</a>, <a class="el" href="protocol__session_8h_source.html#l00221">s3f::s3fnet::ProtocolSession::configured()</a>, <a class="el" href="protocol__session_8cc_source.html#l00041">s3f::s3fnet::ProtocolSession::init()</a>, <a class="el" href="protocol__session_8h_source.html#l00233">s3f::s3fnet::ProtocolSession::initialized()</a>, <a class="el" href="protocol__session_8h_source.html#l00245">s3f::s3fnet::ProtocolSession::wrapped_up()</a>, and <a class="el" href="protocol__session_8cc_source.html#l00059">s3f::s3fnet::ProtocolSession::wrapup()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="tcp__server_8h_source.html">tcp_server.h</a></li>
<li><a class="el" href="tcp__server_8cc_source.html">tcp_server.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaces3f.html">s3f</a></li><li class="navelem"><a class="el" href="namespaces3f_1_1s3fnet.html">s3fnet</a></li><li class="navelem"><a class="el" href="classs3f_1_1s3fnet_1_1_t_c_p_server_session.html">TCPServerSession</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 00:36:03 for S3F by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
