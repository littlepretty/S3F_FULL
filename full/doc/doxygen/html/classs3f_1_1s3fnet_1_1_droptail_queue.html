<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>S3F: s3f::s3fnet::DroptailQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">S3F
   &#160;<span id="projectnumber">2.1.0_full_version</span>
   </div>
   <div id="projectbrief">Simpler Scalable Simulation Framework + S3F-based Network Testbed (Simulation, OpenVZ-based Emulation, and OpenFlow-based SDN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classs3f_1_1s3fnet_1_1_droptail_queue.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classs3f_1_1s3fnet_1_1_droptail_queue-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">s3f::s3fnet::DroptailQueue Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A FIFO queue used inside a network interface.  
 <a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="droptail__queue_8h_source.html">droptail_queue.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for s3f::s3fnet::DroptailQueue:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classs3f_1_1s3fnet_1_1_droptail_queue.png" usemap="#s3f::s3fnet::DroptailQueue_map" alt=""/>
  <map id="s3f::s3fnet::DroptailQueue_map" name="s3f::s3fnet::DroptailQueue_map">
<area href="classs3f_1_1s3fnet_1_1_nic_queue.html" title="A base class for implementation of queues in an NIC. " alt="s3f::s3fnet::NicQueue" shape="rect" coords="0,0,157,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1665cb0c45a3266bd00950597a9ce36d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a1665cb0c45a3266bd00950597a9ce36d">DroptailQueue</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_lowest_protocol_session.html">LowestProtocolSession</a> *lowsess)</td></tr>
<tr class="memdesc:a1665cb0c45a3266bd00950597a9ce36d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor.  <a href="#a1665cb0c45a3266bd00950597a9ce36d">More...</a><br/></td></tr>
<tr class="separator:a1665cb0c45a3266bd00950597a9ce36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539b968a58f03114ba51cffc2a96ea2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a539b968a58f03114ba51cffc2a96ea2a">~DroptailQueue</a> ()</td></tr>
<tr class="memdesc:a539b968a58f03114ba51cffc2a96ea2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor.  <a href="#a539b968a58f03114ba51cffc2a96ea2a">More...</a><br/></td></tr>
<tr class="separator:a539b968a58f03114ba51cffc2a96ea2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a181c15e473ab5f2eba2bd385e226d9f1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a181c15e473ab5f2eba2bd385e226d9f1">init</a> ()</td></tr>
<tr class="memdesc:a181c15e473ab5f2eba2bd385e226d9f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the queue.  <a href="#a181c15e473ab5f2eba2bd385e226d9f1">More...</a><br/></td></tr>
<tr class="separator:a181c15e473ab5f2eba2bd385e226d9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff15727b1c038cfd425dc2ba807ef8b"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a6ff15727b1c038cfd425dc2ba807ef8b">type</a> ()</td></tr>
<tr class="memdesc:a6ff15727b1c038cfd425dc2ba807ef8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the type of this queue.  <a href="#a6ff15727b1c038cfd425dc2ba807ef8b">More...</a><br/></td></tr>
<tr class="separator:a6ff15727b1c038cfd425dc2ba807ef8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7104cba295cb6bbca1f87442b78ad59f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a7104cba295cb6bbca1f87442b78ad59f">enqueue</a> (<a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a> msg)</td></tr>
<tr class="memdesc:a7104cba295cb6bbca1f87442b78ad59f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue the message at the tail of the buffer.  <a href="#a7104cba295cb6bbca1f87442b78ad59f">More...</a><br/></td></tr>
<tr class="separator:a7104cba295cb6bbca1f87442b78ad59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a748cbd701d63ed4b2e1721c27447fc07"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a748cbd701d63ed4b2e1721c27447fc07">config</a> (s3f::dml::Configuration *cfg)</td></tr>
<tr class="memdesc:a748cbd701d63ed4b2e1721c27447fc07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the nic queue.  <a href="#a748cbd701d63ed4b2e1721c27447fc07">More...</a><br/></td></tr>
<tr class="separator:a748cbd701d63ed4b2e1721c27447fc07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52744f50eb35740f2635ca355c9fe751"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a52744f50eb35740f2635ca355c9fe751">control</a> (int ctrltyp, void *ctrlmsg, <a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *sess)</td></tr>
<tr class="memdesc:a52744f50eb35740f2635ca355c9fe751"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control information; nothing implemented as default.  <a href="#a52744f50eb35740f2635ca355c9fe751">More...</a><br/></td></tr>
<tr class="separator:a52744f50eb35740f2635ca355c9fe751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bd91a94fb485643564014ae638370b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a42bd91a94fb485643564014ae638370b">wrapup</a> ()</td></tr>
<tr class="memdesc:a42bd91a94fb485643564014ae638370b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The wrapup method is called when the simulation finishes.  <a href="#a42bd91a94fb485643564014ae638370b">More...</a><br/></td></tr>
<tr class="separator:a42bd91a94fb485643564014ae638370b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:acbb7b891d7cf4e2262b40988af82a7cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#acbb7b891d7cf4e2262b40988af82a7cd">calibrate</a> (int length)</td></tr>
<tr class="memdesc:acbb7b891d7cf4e2262b40988af82a7cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the enqueue method.  <a href="#acbb7b891d7cf4e2262b40988af82a7cd">More...</a><br/></td></tr>
<tr class="separator:acbb7b891d7cf4e2262b40988af82a7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1e93ebdcaa6412af67c14e9d0e9e85d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_lowest_protocol_session.html">LowestProtocolSession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a></td></tr>
<tr class="memdesc:a1e93ebdcaa6412af67c14e9d0e9e85d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The lowest protocol session that this queue is associated with.  <a href="#a1e93ebdcaa6412af67c14e9d0e9e85d5">More...</a><br/></td></tr>
<tr class="separator:a1e93ebdcaa6412af67c14e9d0e9e85d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880afbc6c4f16881d1e58a5f5a6140ee"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a880afbc6c4f16881d1e58a5f5a6140ee">bitrate</a></td></tr>
<tr class="memdesc:a880afbc6c4f16881d1e58a5f5a6140ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitrate of the link the NIC is attached to.  <a href="#a880afbc6c4f16881d1e58a5f5a6140ee">More...</a><br/></td></tr>
<tr class="separator:a880afbc6c4f16881d1e58a5f5a6140ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9cfa8c89b470743e2cc2db8c44e8159"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#ad9cfa8c89b470743e2cc2db8c44e8159">bufsize</a></td></tr>
<tr class="memdesc:ad9cfa8c89b470743e2cc2db8c44e8159"><td class="mdescLeft">&#160;</td><td class="mdescRight">The buffer size of the queue.  <a href="#ad9cfa8c89b470743e2cc2db8c44e8159">More...</a><br/></td></tr>
<tr class="separator:ad9cfa8c89b470743e2cc2db8c44e8159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae132e1e2ff72c977aff070bd35582d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#adae132e1e2ff72c977aff070bd35582d">latency</a></td></tr>
<tr class="memdesc:adae132e1e2ff72c977aff070bd35582d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The latency of the NIC.  <a href="#adae132e1e2ff72c977aff070bd35582d">More...</a><br/></td></tr>
<tr class="separator:adae132e1e2ff72c977aff070bd35582d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4d23386324d40d238ed8dfe9f36ef9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#abf4d23386324d40d238ed8dfe9f36ef9">jitter_range</a></td></tr>
<tr class="memdesc:abf4d23386324d40d238ed8dfe9f36ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The jitter range of this NIC.  <a href="#abf4d23386324d40d238ed8dfe9f36ef9">More...</a><br/></td></tr>
<tr class="separator:abf4d23386324d40d238ed8dfe9f36ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8159fa8ea15fed5b85cbc4e151348af5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a8159fa8ea15fed5b85cbc4e151348af5">last_xmit_time</a></td></tr>
<tr class="memdesc:a8159fa8ea15fed5b85cbc4e151348af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time of the last transmission.  <a href="#a8159fa8ea15fed5b85cbc4e151348af5">More...</a><br/></td></tr>
<tr class="separator:a8159fa8ea15fed5b85cbc4e151348af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5cf2ffd97ab50a85e1b16f219d4e35e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a></td></tr>
<tr class="memdesc:ad5cf2ffd97ab50a85e1b16f219d4e35e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queuing delay since the last transmission time.  <a href="#ad5cf2ffd97ab50a85e1b16f219d4e35e">More...</a><br/></td></tr>
<tr class="separator:ad5cf2ffd97ab50a85e1b16f219d4e35e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a860f795387a6a05ad2cf7ed617c59979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a860f795387a6a05ad2cf7ed617c59979">max_queue_delay</a></td></tr>
<tr class="memdesc:a860f795387a6a05ad2cf7ed617c59979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum queuing delay is bounded by the queue length.  <a href="#a860f795387a6a05ad2cf7ed617c59979">More...</a><br/></td></tr>
<tr class="separator:a860f795387a6a05ad2cf7ed617c59979"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A FIFO queue used inside a network interface. </p>
<p>The drop-tail queue maintains a buffer that holds up to a fixed number of bits. Bits go out one by one at the NIC's bit-rate. If attempting to enqueue a message whose size is larger than the currently available free buffer space, the packet is dropped. This is accomplished by the following scheme. Each interface tracks its "queueing delay," which accumulates as packets are written out. Each packet contributes its transmission time (computed as the size of the packet in bits divided by the bit rate of the NIC) to the queueing delay of future packets. This guarantees that the interface will never exceed the local NIC's set bit rate . </p>

<p>Definition at line <a class="el" href="droptail__queue_8h_source.html#l00033">33</a> of file <a class="el" href="droptail__queue_8h_source.html">droptail_queue.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1665cb0c45a3266bd00950597a9ce36d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::DroptailQueue::DroptailQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_lowest_protocol_session.html">LowestProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>lowsess</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The constructor. </p>
<p>The lowest protocol session in the interface that contains the queue is passed as an argument. </p>

<p>Definition at line <a class="el" href="droptail__queue_8cc_source.html#l00025">25</a> of file <a class="el" href="droptail__queue_8cc_source.html">droptail_queue.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                                           :</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#ac68c2ad7a6a5555f936210370e641867">NicQueue</a>(lowsess), <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a8159fa8ea15fed5b85cbc4e151348af5">last_xmit_time</a>(0), <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a>(0) {}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_ac68c2ad7a6a5555f936210370e641867"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#ac68c2ad7a6a5555f936210370e641867">s3f::s3fnet::NicQueue::NicQueue</a></div><div class="ttdeci">NicQueue(LowestProtocolSession *_nic)</div><div class="ttdoc">The constructor. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8cc_source.html#l00017">nic_queue.cc:17</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_droptail_queue_html_a8159fa8ea15fed5b85cbc4e151348af5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a8159fa8ea15fed5b85cbc4e151348af5">s3f::s3fnet::DroptailQueue::last_xmit_time</a></div><div class="ttdeci">ltime_t last_xmit_time</div><div class="ttdoc">The time of the last transmission. </div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8h_source.html#l00071">droptail_queue.h:71</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_droptail_queue_html_ad5cf2ffd97ab50a85e1b16f219d4e35e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">s3f::s3fnet::DroptailQueue::queue_delay</a></div><div class="ttdeci">ltime_t queue_delay</div><div class="ttdoc">Queuing delay since the last transmission time. </div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8h_source.html#l00074">droptail_queue.h:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a539b968a58f03114ba51cffc2a96ea2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::DroptailQueue::~DroptailQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor. </p>

<p>Definition at line <a class="el" href="droptail__queue_8h_source.html#l00041">41</a> of file <a class="el" href="droptail__queue_8h_source.html">droptail_queue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a181c15e473ab5f2eba2bd385e226d9f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::DroptailQueue::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the queue. </p>

<p>Reimplemented from <a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#ad635441e60780542bcee0226a61abfe8">s3f::s3fnet::NicQueue</a>.</p>

<p>Definition at line <a class="el" href="droptail__queue_8cc_source.html#l00028">28</a> of file <a class="el" href="droptail__queue_8cc_source.html">droptail_queue.cc</a>.</p>

<p>References <a class="el" href="nic__queue_8h_source.html#l00070">s3f::s3fnet::NicQueue::bitrate</a>, <a class="el" href="nic__queue_8h_source.html#l00073">s3f::s3fnet::NicQueue::bufsize</a>, <a class="el" href="entity_8cc_source.html#l00269">Entity::d2t()</a>, <a class="el" href="nic__protocol__session_8cc_source.html#l00042">s3f::s3fnet::NicProtocolSession::inHost()</a>, <a class="el" href="nic__queue_8cc_source.html#l00026">s3f::s3fnet::NicQueue::init()</a>, <a class="el" href="droptail__queue_8h_source.html#l00077">max_queue_delay</a>, and <a class="el" href="nic__queue_8h_source.html#l00067">s3f::s3fnet::NicQueue::phy_sess</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#ad635441e60780542bcee0226a61abfe8">NicQueue::init</a>();</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keywordtype">double</span> max_queue_delay_double = 8 * <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#ad9cfa8c89b470743e2cc2db8c44e8159">bufsize</a> / <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a880afbc6c4f16881d1e58a5f5a6140ee">bitrate</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a860f795387a6a05ad2cf7ed617c59979">max_queue_delay</a> = <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">inHost</a>()-&gt;<a class="code" href="class_entity.html#a6ac4fe093bf16c28a822bdfb0bd89dc6">d2t</a>(max_queue_delay_double, 0)+1;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_a1e93ebdcaa6412af67c14e9d0e9e85d5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">s3f::s3fnet::NicQueue::phy_sess</a></div><div class="ttdeci">LowestProtocolSession * phy_sess</div><div class="ttdoc">The lowest protocol session that this queue is associated with. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00067">nic_queue.h:67</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_ad635441e60780542bcee0226a61abfe8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#ad635441e60780542bcee0226a61abfe8">s3f::s3fnet::NicQueue::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdoc">Initialize the queue. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8cc_source.html#l00026">nic_queue.cc:26</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_ad9cfa8c89b470743e2cc2db8c44e8159"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#ad9cfa8c89b470743e2cc2db8c44e8159">s3f::s3fnet::NicQueue::bufsize</a></div><div class="ttdeci">long bufsize</div><div class="ttdoc">The buffer size of the queue. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00073">nic_queue.h:73</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_protocol_session_html_a176a88375c43e4cba63c97bf6c3acc79"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">s3f::s3fnet::NicProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="nic__protocol__session_8cc_source.html#l00042">nic_protocol_session.cc:42</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_a880afbc6c4f16881d1e58a5f5a6140ee"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#a880afbc6c4f16881d1e58a5f5a6140ee">s3f::s3fnet::NicQueue::bitrate</a></div><div class="ttdeci">double bitrate</div><div class="ttdoc">Bitrate of the link the NIC is attached to. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00070">nic_queue.h:70</a></div></div>
<div class="ttc" id="class_entity_html_a6ac4fe093bf16c28a822bdfb0bd89dc6"><div class="ttname"><a href="class_entity.html#a6ac4fe093bf16c28a822bdfb0bd89dc6">Entity::d2t</a></div><div class="ttdeci">ltime_t d2t(double d)</div><div class="ttdoc">Conversion routines to translate from double precision to clock ticks. </div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00269">entity.cc:269</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_droptail_queue_html_a860f795387a6a05ad2cf7ed617c59979"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a860f795387a6a05ad2cf7ed617c59979">s3f::s3fnet::DroptailQueue::max_queue_delay</a></div><div class="ttdeci">ltime_t max_queue_delay</div><div class="ttdoc">Maximum queuing delay is bounded by the queue length. </div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8h_source.html#l00077">droptail_queue.h:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ff15727b1c038cfd425dc2ba807ef8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::DroptailQueue::type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the type of this queue. </p>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a9deb8103ef8f7e7c724e616a0e39bcb6">s3f::s3fnet::NicQueue</a>.</p>

<p>Definition at line <a class="el" href="droptail__queue_8h_source.html#l00047">47</a> of file <a class="el" href="droptail__queue_8h_source.html">droptail_queue.h</a>.</p>

<p>References <a class="el" href="droptail__queue_8h_source.html#l00016">DROPTAIL_QUEUE_TYPE</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="droptail__queue_8h.html#a360ebd9085fd720e695817424650f969">DROPTAIL_QUEUE_TYPE</a>; }</div>
<div class="ttc" id="droptail__queue_8h_html_a360ebd9085fd720e695817424650f969"><div class="ttname"><a href="droptail__queue_8h.html#a360ebd9085fd720e695817424650f969">DROPTAIL_QUEUE_TYPE</a></div><div class="ttdeci">#define DROPTAIL_QUEUE_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8h_source.html#l00016">droptail_queue.h:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7104cba295cb6bbca1f87442b78ad59f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::DroptailQueue::enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message_8h.html#a093346897a71a253ceb5aaa3785721a0">Activation</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueue the message at the tail of the buffer. </p>
<p>If the NIC hasn't yet used up all of its bandwidth, the message is sent after the appropriate buffer delay. If the queue is full, the message will be dropped. </p>

<p>Implements <a class="el" href="classs3f_1_1s3fnet_1_1_nic_queue.html#ac04a3f16710dc4a1c49cf349637577cb">s3f::s3fnet::NicQueue</a>.</p>

<p>Definition at line <a class="el" href="droptail__queue_8cc_source.html#l00036">36</a> of file <a class="el" href="droptail__queue_8cc_source.html">droptail_queue.cc</a>.</p>

<p>References <a class="el" href="nic__queue_8h_source.html#l00070">s3f::s3fnet::NicQueue::bitrate</a>, <a class="el" href="droptail__queue_8cc_source.html#l00074">calibrate()</a>, <a class="el" href="entity_8cc_source.html#l00269">Entity::d2t()</a>, <a class="el" href="message_8h_source.html#l00026">Message::erase_all()</a>, <a class="el" href="errhandle_8cc_source.html#l00128">s3f::s3fnet::error_quit()</a>, <a class="el" href="protocol__session_8cc_source.html#l00123">s3f::s3fnet::ProtocolSession::getNow()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00017">IFACE_DUMP</a>, <a class="el" href="protocol__session_8h_source.html#l00178">s3f::s3fnet::ProtocolSession::inGraph()</a>, <a class="el" href="nic__protocol__session_8cc_source.html#l00042">s3f::s3fnet::NicProtocolSession::inHost()</a>, <a class="el" href="ip__prefix_8cc_source.html#l00041">s3f::s3fnet::IPPrefix::ip2txt()</a>, <a class="el" href="nic__queue_8h_source.html#l00076">s3f::s3fnet::NicQueue::latency</a>, <a class="el" href="droptail__queue_8h_source.html#l00077">max_queue_delay</a>, <a class="el" href="nic__queue_8h_source.html#l00067">s3f::s3fnet::NicQueue::phy_sess</a>, <a class="el" href="droptail__queue_8h_source.html#l00074">queue_delay</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_lowest_protocol_session.html#afbabb77b2c0d8ab56cfea8438ac00c83">s3f::s3fnet::LowestProtocolSession::sendPacket()</a>, and <a class="el" href="protocol__message_8cc_source.html#l00074">s3f::s3fnet::ProtocolMessage::totalRealBytes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        assert(<a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        ProtocolMessage* msg = (ProtocolMessage*)pkt;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordtype">int</span> len = msg-&gt;totalRealBytes();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="droptail__queue_8cc.html#a5185c84a3c287fe5c0de9d01de237ffa">IFACE_DUMP</a>(printf(<span class="stringliteral">&quot;DroptailQueue::enqueue() pkt_len = %d\n&quot;</span>, len););</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">if</span> (len &lt;= 0)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <a class="code" href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">error_quit</a>(<span class="stringliteral">&quot;DroptailQueue::enqueue(), pkt len &lt;= 0\n&quot;</span>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> jitter = <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#acbb7b891d7cf4e2262b40988af82a7cd">calibrate</a>(len);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordtype">double</span> transmission_time_double = 8.0*len/<a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a880afbc6c4f16881d1e58a5f5a6140ee">bitrate</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> transmission_time = <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">inHost</a>()-&gt;<a class="code" href="class_entity.html#a6ac4fe093bf16c28a822bdfb0bd89dc6">d2t</a>(transmission_time_double, 0)+1;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> testqueue_delay = <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a> + transmission_time;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">if</span>(testqueue_delay &gt; <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a860f795387a6a05ad2cf7ed617c59979">max_queue_delay</a>) </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="comment">// drop the entire packet if the queue full.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                <a class="code" href="droptail__queue_8cc.html#a5185c84a3c287fe5c0de9d01de237ffa">IFACE_DUMP</a>(printf(<span class="stringliteral">&quot;[nic=\&quot;%s\&quot;, ip=\&quot;%s\&quot;] %ld: drop packet (queue overflow).\n&quot;</span>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                   ((NetworkInterface*)<a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a383bfb5d8385ab3ddbabaeba2e4a38aa">inGraph</a>())-&gt;nhi.toString(),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                   <a class="code" href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">IPPrefix::ip2txt</a>(((NetworkInterface*)<a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a383bfb5d8385ab3ddbabaeba2e4a38aa">inGraph</a>())-&gt;getIP()),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                   <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7a8fc3b0c62b09c82b72268b56abb58c">getNow</a>()));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                pkt-&gt;erase_all();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">// calculate queueing delay</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a> = testqueue_delay+jitter+<a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#adae132e1e2ff72c977aff070bd35582d">latency</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="droptail__queue_8cc.html#a5185c84a3c287fe5c0de9d01de237ffa">IFACE_DUMP</a>(printf(<span class="stringliteral">&quot;DroptailQueue::enqueue() jitter = %ld, transmission_time = %ld, &quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                        <span class="stringliteral">&quot;current_queue_delay = %ld, latency = %ld\n&quot;</span>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                jitter, transmission_time, <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a>, latency););</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// call the interface to send the packet.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_lowest_protocol_session.html#afbabb77b2c0d8ab56cfea8438ac00c83">sendPacket</a>(pkt, <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_lowest_protocol_session_html_afbabb77b2c0d8ab56cfea8438ac00c83"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_lowest_protocol_session.html#afbabb77b2c0d8ab56cfea8438ac00c83">s3f::s3fnet::LowestProtocolSession::sendPacket</a></div><div class="ttdeci">virtual void sendPacket(Activation pkt, ltime_t delay)=0</div><div class="ttdoc">Derived class should use this method to send packet frames out from the host to its peer(s)...</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_droptail_queue_html_acbb7b891d7cf4e2262b40988af82a7cd"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#acbb7b891d7cf4e2262b40988af82a7cd">s3f::s3fnet::DroptailQueue::calibrate</a></div><div class="ttdeci">ltime_t calibrate(int length)</div><div class="ttdoc">Called by the enqueue method. </div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8cc_source.html#l00074">droptail_queue.cc:74</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_a1e93ebdcaa6412af67c14e9d0e9e85d5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">s3f::s3fnet::NicQueue::phy_sess</a></div><div class="ttdeci">LowestProtocolSession * phy_sess</div><div class="ttdoc">The lowest protocol session that this queue is associated with. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00067">nic_queue.h:67</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_adae132e1e2ff72c977aff070bd35582d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#adae132e1e2ff72c977aff070bd35582d">s3f::s3fnet::NicQueue::latency</a></div><div class="ttdeci">ltime_t latency</div><div class="ttdoc">The latency of the NIC. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00076">nic_queue.h:76</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_protocol_session_html_a176a88375c43e4cba63c97bf6c3acc79"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">s3f::s3fnet::NicProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="nic__protocol__session_8cc_source.html#l00042">nic_protocol_session.cc:42</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_a880afbc6c4f16881d1e58a5f5a6140ee"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#a880afbc6c4f16881d1e58a5f5a6140ee">s3f::s3fnet::NicQueue::bitrate</a></div><div class="ttdeci">double bitrate</div><div class="ttdoc">Bitrate of the link the NIC is attached to. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00070">nic_queue.h:70</a></div></div>
<div class="ttc" id="droptail__queue_8cc_html_a5185c84a3c287fe5c0de9d01de237ffa"><div class="ttname"><a href="droptail__queue_8cc.html#a5185c84a3c287fe5c0de9d01de237ffa">IFACE_DUMP</a></div><div class="ttdeci">#define IFACE_DUMP(x)</div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8cc_source.html#l00017">droptail_queue.cc:17</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_i_p_prefix_html_a4649010db0c18ea0c15e1d42e96467e8"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_i_p_prefix.html#a4649010db0c18ea0c15e1d42e96467e8">s3f::s3fnet::IPPrefix::ip2txt</a></div><div class="ttdeci">static char * ip2txt(IPADDR ip, char *str)</div><div class="ttdoc">Convert an IP prefix to a string. </div><div class="ttdef"><b>Definition:</b> <a href="ip__prefix_8cc_source.html#l00041">ip_prefix.cc:41</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a7a8fc3b0c62b09c82b72268b56abb58c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7a8fc3b0c62b09c82b72268b56abb58c">s3f::s3fnet::ProtocolSession::getNow</a></div><div class="ttdeci">ltime_t getNow()</div><div class="ttdoc">The method returns the current simulation time. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00123">protocol_session.cc:123</a></div></div>
<div class="ttc" id="class_entity_html_a6ac4fe093bf16c28a822bdfb0bd89dc6"><div class="ttname"><a href="class_entity.html#a6ac4fe093bf16c28a822bdfb0bd89dc6">Entity::d2t</a></div><div class="ttdeci">ltime_t d2t(double d)</div><div class="ttdoc">Conversion routines to translate from double precision to clock ticks. </div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00269">entity.cc:269</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_aee6e3282670be024dcee8ac3cef67e85"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#aee6e3282670be024dcee8ac3cef67e85">s3f::s3fnet::error_quit</a></div><div class="ttdeci">void error_quit(const char *fmt,...)</div><div class="ttdoc">This function is called when there&#39;s a fatal error unrelated to a system call. </div><div class="ttdef"><b>Definition:</b> <a href="errhandle_8cc_source.html#l00128">errhandle.cc:128</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a383bfb5d8385ab3ddbabaeba2e4a38aa"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a383bfb5d8385ab3ddbabaeba2e4a38aa">s3f::s3fnet::ProtocolSession::inGraph</a></div><div class="ttdeci">ProtocolGraph * inGraph()</div><div class="ttdoc">The method returns the protocol graph in which this protocol session resides. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00178">protocol_session.h:178</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_droptail_queue_html_a860f795387a6a05ad2cf7ed617c59979"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a860f795387a6a05ad2cf7ed617c59979">s3f::s3fnet::DroptailQueue::max_queue_delay</a></div><div class="ttdeci">ltime_t max_queue_delay</div><div class="ttdoc">Maximum queuing delay is bounded by the queue length. </div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8h_source.html#l00077">droptail_queue.h:77</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_droptail_queue_html_ad5cf2ffd97ab50a85e1b16f219d4e35e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">s3f::s3fnet::DroptailQueue::queue_delay</a></div><div class="ttdeci">ltime_t queue_delay</div><div class="ttdoc">Queuing delay since the last transmission time. </div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8h_source.html#l00074">droptail_queue.h:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acbb7b891d7cf4e2262b40988af82a7cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::DroptailQueue::calibrate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the enqueue method. </p>
<p>The queueing delay is calculated relative to the last recorded transmission. If we have moved forward in time, we need to recalibrate the accumulated delay so that it remains relative to the current time. We need to recalibrate before every transmission. If the jitter range is defined in the interface, this method also samples and returns a jitter for sending the message. </p>

<p>Definition at line <a class="el" href="droptail__queue_8cc_source.html#l00074">74</a> of file <a class="el" href="droptail__queue_8cc_source.html">droptail_queue.cc</a>.</p>

<p>References <a class="el" href="nic__queue_8h_source.html#l00070">s3f::s3fnet::NicQueue::bitrate</a>, <a class="el" href="entity_8cc_source.html#l00269">Entity::d2t()</a>, <a class="el" href="protocol__session_8cc_source.html#l00123">s3f::s3fnet::ProtocolSession::getNow()</a>, <a class="el" href="protocol__session_8h_source.html#l00200">s3f::s3fnet::ProtocolSession::getRandom()</a>, <a class="el" href="nic__protocol__session_8cc_source.html#l00042">s3f::s3fnet::NicProtocolSession::inHost()</a>, <a class="el" href="nic__queue_8h_source.html#l00079">s3f::s3fnet::NicQueue::jitter_range</a>, <a class="el" href="droptail__queue_8h_source.html#l00071">last_xmit_time</a>, <a class="el" href="nic__queue_8h_source.html#l00067">s3f::s3fnet::NicQueue::phy_sess</a>, <a class="el" href="droptail__queue_8h_source.html#l00074">queue_delay</a>, and <a class="el" href="rng_8cc_source.html#l00059">Random::RNG::Uniform()</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00036">enqueue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> jitter(0);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> now = <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7a8fc3b0c62b09c82b72268b56abb58c">getNow</a>();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#abf4d23386324d40d238ed8dfe9f36ef9">jitter_range</a> &gt; 0) <span class="comment">// if jitter is enabled</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">double</span> jitter_double = <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9ffe57c5dfd8cc847d566acf4581b968">getRandom</a>()-&gt;<a class="code" href="class_random_1_1_r_n_g.html#afabbc73f8078820be95fc605b93d3e65">Uniform</a>(-1, 1) * <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#abf4d23386324d40d238ed8dfe9f36ef9">jitter_range</a> * len * 8 / <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a880afbc6c4f16881d1e58a5f5a6140ee">bitrate</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    jitter = <a class="code" href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">phy_sess</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">inHost</a>()-&gt;<a class="code" href="class_entity.html#a6ac4fe093bf16c28a822bdfb0bd89dc6">d2t</a>(jitter_double, 0)+1;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    now += jitter;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span>(now &gt; <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a8159fa8ea15fed5b85cbc4e151348af5">last_xmit_time</a>) <span class="comment">// it&#39;s possible jitter makes now &lt; last_xmit_time</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a> -= (now - <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a8159fa8ea15fed5b85cbc4e151348af5">last_xmit_time</a>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a> &lt; 0) <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">queue_delay</a> = 0;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a8159fa8ea15fed5b85cbc4e151348af5">last_xmit_time</a> = now;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span> jitter;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_abf4d23386324d40d238ed8dfe9f36ef9"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#abf4d23386324d40d238ed8dfe9f36ef9">s3f::s3fnet::NicQueue::jitter_range</a></div><div class="ttdeci">float jitter_range</div><div class="ttdoc">The jitter range of this NIC. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00079">nic_queue.h:79</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_a1e93ebdcaa6412af67c14e9d0e9e85d5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#a1e93ebdcaa6412af67c14e9d0e9e85d5">s3f::s3fnet::NicQueue::phy_sess</a></div><div class="ttdeci">LowestProtocolSession * phy_sess</div><div class="ttdoc">The lowest protocol session that this queue is associated with. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00067">nic_queue.h:67</a></div></div>
<div class="ttc" id="class_random_1_1_r_n_g_html_afabbc73f8078820be95fc605b93d3e65"><div class="ttname"><a href="class_random_1_1_r_n_g.html#afabbc73f8078820be95fc605b93d3e65">Random::RNG::Uniform</a></div><div class="ttdeci">double Uniform(double a, double b)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cc_source.html#l00059">rng.cc:59</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_protocol_session_html_a176a88375c43e4cba63c97bf6c3acc79"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_protocol_session.html#a176a88375c43e4cba63c97bf6c3acc79">s3f::s3fnet::NicProtocolSession::inHost</a></div><div class="ttdeci">virtual Host * inHost()</div><div class="ttdoc">Return a pointer to the host owning this protocol session. </div><div class="ttdef"><b>Definition:</b> <a href="nic__protocol__session_8cc_source.html#l00042">nic_protocol_session.cc:42</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_nic_queue_html_a880afbc6c4f16881d1e58a5f5a6140ee"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_nic_queue.html#a880afbc6c4f16881d1e58a5f5a6140ee">s3f::s3fnet::NicQueue::bitrate</a></div><div class="ttdeci">double bitrate</div><div class="ttdoc">Bitrate of the link the NIC is attached to. </div><div class="ttdef"><b>Definition:</b> <a href="nic__queue_8h_source.html#l00070">nic_queue.h:70</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a7a8fc3b0c62b09c82b72268b56abb58c"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a7a8fc3b0c62b09c82b72268b56abb58c">s3f::s3fnet::ProtocolSession::getNow</a></div><div class="ttdeci">ltime_t getNow()</div><div class="ttdoc">The method returns the current simulation time. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8cc_source.html#l00123">protocol_session.cc:123</a></div></div>
<div class="ttc" id="class_entity_html_a6ac4fe093bf16c28a822bdfb0bd89dc6"><div class="ttname"><a href="class_entity.html#a6ac4fe093bf16c28a822bdfb0bd89dc6">Entity::d2t</a></div><div class="ttdeci">ltime_t d2t(double d)</div><div class="ttdoc">Conversion routines to translate from double precision to clock ticks. </div><div class="ttdef"><b>Definition:</b> <a href="entity_8cc_source.html#l00269">entity.cc:269</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_protocol_session_html_a9ffe57c5dfd8cc847d566acf4581b968"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_protocol_session.html#a9ffe57c5dfd8cc847d566acf4581b968">s3f::s3fnet::ProtocolSession::getRandom</a></div><div class="ttdeci">Random::RNG * getRandom()</div><div class="ttdoc">The method returns a pointer to the random number generator. </div><div class="ttdef"><b>Definition:</b> <a href="protocol__session_8h_source.html#l00200">protocol_session.h:200</a></div></div>
<div class="ttc" id="s3f_8h_html_adfa38db6ddd965e5a50cec3ddc678778"><div class="ttname"><a href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a></div><div class="ttdeci">long ltime_t</div><div class="ttdef"><b>Definition:</b> <a href="s3f_8h_source.html#l00133">s3f.h:133</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_droptail_queue_html_a8159fa8ea15fed5b85cbc4e151348af5"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#a8159fa8ea15fed5b85cbc4e151348af5">s3f::s3fnet::DroptailQueue::last_xmit_time</a></div><div class="ttdeci">ltime_t last_xmit_time</div><div class="ttdoc">The time of the last transmission. </div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8h_source.html#l00071">droptail_queue.h:71</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_droptail_queue_html_ad5cf2ffd97ab50a85e1b16f219d4e35e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_droptail_queue.html#ad5cf2ffd97ab50a85e1b16f219d4e35e">s3f::s3fnet::DroptailQueue::queue_delay</a></div><div class="ttdeci">ltime_t queue_delay</div><div class="ttdoc">Queuing delay since the last transmission time. </div><div class="ttdef"><b>Definition:</b> <a href="droptail__queue_8h_source.html#l00074">droptail_queue.h:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a748cbd701d63ed4b2e1721c27447fc07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::NicQueue::config </td>
          <td>(</td>
          <td class="paramtype">s3f::dml::Configuration *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the nic queue. </p>

<p>Reimplemented in <a class="el" href="classs3f_1_1s3fnet_1_1_red_queue.html#adf13c52a3174b98bd2598fb7e820e13d">s3f::s3fnet::RedQueue</a>.</p>

<p>Definition at line <a class="el" href="nic__queue_8cc_source.html#l00024">24</a> of file <a class="el" href="nic__queue_8cc_source.html">nic_queue.cc</a>.</p>

<p>Referenced by <a class="el" href="simple__phy_8cc_source.html#l00040">s3f::s3fnet::SimplePhy::config()</a>, and <a class="el" href="red__queue_8cc_source.html#l00039">s3f::s3fnet::RedQueue::config()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a52744f50eb35740f2635ca355c9fe751"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int s3f::s3fnet::NicQueue::control </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ctrltyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctrlmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>sess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Control information; nothing implemented as default. </p>

<p>Definition at line <a class="el" href="nic__queue_8h_source.html#l00055">55</a> of file <a class="el" href="nic__queue_8h_source.html">nic_queue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    { <span class="keywordflow">return</span> 0; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42bd91a94fb485643564014ae638370b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void s3f::s3fnet::NicQueue::wrapup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The wrapup method is called when the simulation finishes. </p>

<p>Definition at line <a class="el" href="nic__queue_8h_source.html#l00059">59</a> of file <a class="el" href="nic__queue_8h_source.html">nic_queue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8159fa8ea15fed5b85cbc4e151348af5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::DroptailQueue::last_xmit_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The time of the last transmission. </p>

<p>Definition at line <a class="el" href="droptail__queue_8h_source.html#l00071">71</a> of file <a class="el" href="droptail__queue_8h_source.html">droptail_queue.h</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">calibrate()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5cf2ffd97ab50a85e1b16f219d4e35e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::DroptailQueue::queue_delay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queuing delay since the last transmission time. </p>

<p>Definition at line <a class="el" href="droptail__queue_8h_source.html#l00074">74</a> of file <a class="el" href="droptail__queue_8h_source.html">droptail_queue.h</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">calibrate()</a>, and <a class="el" href="droptail__queue_8cc_source.html#l00036">enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a860f795387a6a05ad2cf7ed617c59979"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::DroptailQueue::max_queue_delay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum queuing delay is bounded by the queue length. </p>

<p>Definition at line <a class="el" href="droptail__queue_8h_source.html#l00077">77</a> of file <a class="el" href="droptail__queue_8h_source.html">droptail_queue.h</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00036">enqueue()</a>, and <a class="el" href="droptail__queue_8cc_source.html#l00028">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e93ebdcaa6412af67c14e9d0e9e85d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_lowest_protocol_session.html">LowestProtocolSession</a>* s3f::s3fnet::NicQueue::phy_sess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The lowest protocol session that this queue is associated with. </p>

<p>Definition at line <a class="el" href="nic__queue_8h_source.html#l00067">67</a> of file <a class="el" href="nic__queue_8h_source.html">nic_queue.h</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00036">enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00028">init()</a>, <a class="el" href="nic__queue_8cc_source.html#l00026">s3f::s3fnet::NicQueue::init()</a>, and <a class="el" href="red__queue_8cc_source.html#l00121">s3f::s3fnet::RedQueue::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a880afbc6c4f16881d1e58a5f5a6140ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double s3f::s3fnet::NicQueue::bitrate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bitrate of the link the NIC is attached to. </p>

<p>Definition at line <a class="el" href="nic__queue_8h_source.html#l00070">70</a> of file <a class="el" href="nic__queue_8h_source.html">nic_queue.h</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00036">enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00028">init()</a>, <a class="el" href="nic__queue_8cc_source.html#l00026">s3f::s3fnet::NicQueue::init()</a>, and <a class="el" href="red__queue_8cc_source.html#l00121">s3f::s3fnet::RedQueue::init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9cfa8c89b470743e2cc2db8c44e8159"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long s3f::s3fnet::NicQueue::bufsize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The buffer size of the queue. </p>

<p>Definition at line <a class="el" href="nic__queue_8h_source.html#l00073">73</a> of file <a class="el" href="nic__queue_8h_source.html">nic_queue.h</a>.</p>

<p>Referenced by <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="droptail__queue_8cc_source.html#l00028">init()</a>, <a class="el" href="nic__queue_8cc_source.html#l00026">s3f::s3fnet::NicQueue::init()</a>, and <a class="el" href="red__queue_8cc_source.html#l00121">s3f::s3fnet::RedQueue::init()</a>.</p>

</div>
</div>
<a class="anchor" id="adae132e1e2ff72c977aff070bd35582d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s3f_8h.html#adfa38db6ddd965e5a50cec3ddc678778">ltime_t</a> s3f::s3fnet::NicQueue::latency</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The latency of the NIC. </p>

<p>Definition at line <a class="el" href="nic__queue_8h_source.html#l00076">76</a> of file <a class="el" href="nic__queue_8h_source.html">nic_queue.h</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00036">enqueue()</a>, <a class="el" href="red__queue_8cc_source.html#l00156">s3f::s3fnet::RedQueue::enqueue()</a>, <a class="el" href="nic__queue_8cc_source.html#l00026">s3f::s3fnet::NicQueue::init()</a>, and <a class="el" href="red__queue_8cc_source.html#l00121">s3f::s3fnet::RedQueue::init()</a>.</p>

</div>
</div>
<a class="anchor" id="abf4d23386324d40d238ed8dfe9f36ef9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float s3f::s3fnet::NicQueue::jitter_range</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The jitter range of this NIC. </p>

<p>Definition at line <a class="el" href="nic__queue_8h_source.html#l00079">79</a> of file <a class="el" href="nic__queue_8h_source.html">nic_queue.h</a>.</p>

<p>Referenced by <a class="el" href="droptail__queue_8cc_source.html#l00074">calibrate()</a>, <a class="el" href="red__queue_8cc_source.html#l00196">s3f::s3fnet::RedQueue::calibrate()</a>, <a class="el" href="nic__queue_8cc_source.html#l00026">s3f::s3fnet::NicQueue::init()</a>, and <a class="el" href="red__queue_8cc_source.html#l00121">s3f::s3fnet::RedQueue::init()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="droptail__queue_8h_source.html">droptail_queue.h</a></li>
<li><a class="el" href="droptail__queue_8cc_source.html">droptail_queue.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaces3f.html">s3f</a></li><li class="navelem"><a class="el" href="namespaces3f_1_1s3fnet.html">s3fnet</a></li><li class="navelem"><a class="el" href="classs3f_1_1s3fnet_1_1_droptail_queue.html">DroptailQueue</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 00:36:01 for S3F by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
