<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>S3F: s3f::s3fnet::ForwardingTable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">S3F
   &#160;<span id="projectnumber">2.1.0_full_version</span>
   </div>
   <div id="projectbrief">Simpler Scalable Simulation Framework + S3F-based Network Testbed (Simulation, OpenVZ-based Emulation, and OpenFlow-based SDN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classs3f_1_1s3fnet_1_1_forwarding_table.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classs3f_1_1s3fnet_1_1_forwarding_table-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">s3f::s3fnet::ForwardingTable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The forwarding table.  
 <a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="forwardingtable_8h_source.html">forwardingtable.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65dbbbfc908f43e56e4b1acb680041a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a65dbbbfc908f43e56e4b1acb680041a4">ForwardingTable</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *ipsess, int trie_version=-1, int cache_version=-1)</td></tr>
<tr class="memdesc:a65dbbbfc908f43e56e4b1acb680041a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor.  <a href="#a65dbbbfc908f43e56e4b1acb680041a4">More...</a><br/></td></tr>
<tr class="separator:a65dbbbfc908f43e56e4b1acb680041a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211057642bf04195aecd461b1a706fec"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a211057642bf04195aecd461b1a706fec">~ForwardingTable</a> ()</td></tr>
<tr class="memdesc:a211057642bf04195aecd461b1a706fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor.  <a href="#a211057642bf04195aecd461b1a706fec">More...</a><br/></td></tr>
<tr class="separator:a211057642bf04195aecd461b1a706fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0c4c144848f3a8ae761653053b0897"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">addRoute</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> *route, bool replace=true)</td></tr>
<tr class="memdesc:a4a0c4c144848f3a8ae761653053b0897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the preferred route to a given ip prefix.  <a href="#a4a0c4c144848f3a8ae761653053b0897">More...</a><br/></td></tr>
<tr class="separator:a4a0c4c144848f3a8ae761653053b0897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5393e68dec7441c36305d4af1d3f6c5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a5393e68dec7441c36305d4af1d3f6c5c">removeRoute</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> *route)</td></tr>
<tr class="memdesc:a5393e68dec7441c36305d4af1d3f6c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a route from the forwarding table to a given ip prefix.  <a href="#a5393e68dec7441c36305d4af1d3f6c5c">More...</a><br/></td></tr>
<tr class="separator:a5393e68dec7441c36305d4af1d3f6c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a8a1d09de4df61a7a1c5e5119809a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a01a8a1d09de4df61a7a1c5e5119809a8">getRoute</a> (<a class="el" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a> ipaddr)</td></tr>
<tr class="memdesc:a01a8a1d09de4df61a7a1c5e5119809a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a route to a given ip address.  <a href="#a01a8a1d09de4df61a7a1c5e5119809a8">More...</a><br/></td></tr>
<tr class="separator:a01a8a1d09de4df61a7a1c5e5119809a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef5496221b6fa05499d10c635ef8b27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#acef5496221b6fa05499d10c635ef8b27">dump</a> (FILE *fp=NULL)</td></tr>
<tr class="memdesc:acef5496221b6fa05499d10c635ef8b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints out the forwarding table.  <a href="#acef5496221b6fa05499d10c635ef8b27">More...</a><br/></td></tr>
<tr class="separator:acef5496221b6fa05499d10c635ef8b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abee6bd613a65652f732c1fc2849f67c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#abee6bd613a65652f732c1fc2849f67c8">invalidateAllRoutes</a> (int protocol)</td></tr>
<tr class="memdesc:abee6bd613a65652f732c1fc2849f67c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate all routes in forwarding table that were installed by the given protocol.  <a href="#abee6bd613a65652f732c1fc2849f67c8">More...</a><br/></td></tr>
<tr class="separator:abee6bd613a65652f732c1fc2849f67c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519dcba988f732a18ab5b76fcae0b604"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a519dcba988f732a18ab5b76fcae0b604">getDefaultRoute</a> ()</td></tr>
<tr class="memdesc:a519dcba988f732a18ab5b76fcae0b604"><td class="mdescLeft">&#160;</td><td class="mdescRight">If there is a default route, the method returns it; otherwise, it returns NULL.  <a href="#a519dcba988f732a18ab5b76fcae0b604">More...</a><br/></td></tr>
<tr class="separator:a519dcba988f732a18ab5b76fcae0b604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3427ecece113aadafc0b7b7652274f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aee3427ecece113aadafc0b7b7652274f">addListener</a> (<a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *sess)</td></tr>
<tr class="memdesc:aee3427ecece113aadafc0b7b7652274f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a listener protocol session, who wish to be notified of the changes to the forwarding table.  <a href="#aee3427ecece113aadafc0b7b7652274f">More...</a><br/></td></tr>
<tr class="separator:aee3427ecece113aadafc0b7b7652274f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a861754cfb71887e7eca64ec6340abfba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a861754cfb71887e7eca64ec6340abfba">dump_helper</a> (TrieNode *root, <a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a> sofar, int n, FILE *fp)</td></tr>
<tr class="memdesc:a861754cfb71887e7eca64ec6340abfba"><td class="mdescLeft">&#160;</td><td class="mdescRight">The recursive helper to the dump method.  <a href="#a861754cfb71887e7eca64ec6340abfba">More...</a><br/></td></tr>
<tr class="separator:a861754cfb71887e7eca64ec6340abfba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af08b0e0f8150aa9fe4ac35286075ede2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_route_cache.html">RouteCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a></td></tr>
<tr class="memdesc:af08b0e0f8150aa9fe4ac35286075ede2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The routing cache.  <a href="#af08b0e0f8150aa9fe4ac35286075ede2">More...</a><br/></td></tr>
<tr class="separator:af08b0e0f8150aa9fe4ac35286075ede2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1378342703d7382dee5cd673286735"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_trie.html">Trie</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a></td></tr>
<tr class="memdesc:a2b1378342703d7382dee5cd673286735"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> in which routes are stored (<a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html" title="The forwarding table. ">ForwardingTable</a> originally inherited from <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>)  <a href="#a2b1378342703d7382dee5cd673286735">More...</a><br/></td></tr>
<tr class="separator:a2b1378342703d7382dee5cd673286735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c0ebc8bcc20fb9b00fa678985d1fa1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">ip_sess</a></td></tr>
<tr class="memdesc:aa9c0ebc8bcc20fb9b00fa678985d1fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IP session is the owner of the forwarding table.  <a href="#aa9c0ebc8bcc20fb9b00fa678985d1fa1">More...</a><br/></td></tr>
<tr class="separator:aa9c0ebc8bcc20fb9b00fa678985d1fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71f9760c21eceee9fec2798222fb91c4"><td class="memItemLeft" align="right" valign="top">S3FNET_FIB_PROTO_SET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">listeners</a></td></tr>
<tr class="memdesc:a71f9760c21eceee9fec2798222fb91c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of protocol sessions who wish to be notified of FIB changes.  <a href="#a71f9760c21eceee9fec2798222fb91c4">More...</a><br/></td></tr>
<tr class="separator:a71f9760c21eceee9fec2798222fb91c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The forwarding table. </p>
<p>This class maps IP addresses (in the form a.b.c.d/p) into <a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html" title="A route entry of a forwarding table. ">RouteInfo</a> structures that specify the interface and the next hop among others. We need the next hop in order to be able to implement LAN links. The forwarding table is implemented as a <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> so we can quickly find the most specific prefix for any destination.</p>
<p>Obviously each machine will have a forwarding table which is the result of routing calculations done by a routing protocol. The forwarding table is used by a network layer protocol, IP, to be specific. Conceptually the ProtoGraph class owns the forwarding table and the routing protocols (like OSPF and BGP) should be able to access and change it accordingly. </p>

<p>Definition at line <a class="el" href="forwardingtable_8h_source.html#l00218">218</a> of file <a class="el" href="forwardingtable_8h_source.html">forwardingtable.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a65dbbbfc908f43e56e4b1acb680041a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::ForwardingTable::ForwardingTable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>ipsess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trie_version</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cache_version</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The constructor. </p>

<p>Definition at line <a class="el" href="forwardingtable_8cc_source.html#l00221">221</a> of file <a class="el" href="forwardingtable_8cc_source.html">forwardingtable.cc</a>.</p>

<p>References <a class="el" href="trie_8h_source.html#l00117">s3f::s3fnet::Trie::ARRAY_BACKED</a>, <a class="el" href="forwardingtable_8h_source.html#l00182">s3f::s3fnet::RouteCache::ASSOCIATIVE</a>, <a class="el" href="forwardingtable_8cc_source.html#l00043">DEFAULT_CACHE_VERSION</a>, <a class="el" href="forwardingtable_8cc_source.html#l00038">DEFAULT_TRIE_VERSION</a>, <a class="el" href="forwardingtable_8h_source.html#l00181">s3f::s3fnet::RouteCache::DIRECT_MAPPED</a>, <a class="el" href="forwardingtable_8h_source.html#l00273">mCache</a>, <a class="el" href="forwardingtable_8h_source.html#l00276">mTrie</a>, <a class="el" href="forwardingtable_8h_source.html#l00183">s3f::s3fnet::RouteCache::NONE</a>, <a class="el" href="trie_8h_source.html#l00113">s3f::s3fnet::Trie::ORIGINAL</a>, <a class="el" href="trie_8h_source.html#l00115">s3f::s3fnet::Trie::PREFIX</a>, <a class="el" href="trie_8h_source.html#l00114">s3f::s3fnet::Trie::SIMPLE</a>, <a class="el" href="forwardingtable_8h_source.html#l00180">s3f::s3fnet::RouteCache::SINGLE_ENTRY</a>, and <a class="el" href="trie_8h_source.html#l00116">s3f::s3fnet::Trie::UNORDERED_PREFIX</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                                                                                             :</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">ip_sess</a>(ipsess) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span>(trie_version == -1) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        trie_version = <a class="code" href="forwardingtable_8cc.html#ac0d9dca5677c3d8bc9ce0b81b5959ca5">DEFAULT_TRIE_VERSION</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">if</span>(cache_version == -1) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        cache_version = <a class="code" href="forwardingtable_8cc.html#a2947f90ac7c3eacac7c088b7fc60ec5f">DEFAULT_CACHE_VERSION</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// TODO: Make Trie and Cache configurable via dml (based on version)</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  tvstart:</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">switch</span>(trie_version) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9af9cbfa34cf569adfc09db2b3121ba24e">Trie::ORIGINAL</a>:</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a> = (Trie*)<span class="keyword">new</span> trie0::Trie0();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a54d44ac160288696ddec6c025a8d5e10">Trie::SIMPLE</a>:</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a> = (Trie*)<span class="keyword">new</span> trie1::Trie1();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a8dfbbc0de205c769a7d12642b2ece98e">Trie::PREFIX</a>:</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a> = (Trie*)<span class="keyword">new</span> trie2::Trie2();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a9f1859b031694d2c5a423a2bafeedf25">Trie::UNORDERED_PREFIX</a>:</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a> = (Trie*)<span class="keyword">new</span> trie3::Trie3();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a4c2fc60f314104b1982c2e2be9d5b4bc">Trie::ARRAY_BACKED</a>:</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a> = (Trie*)<span class="keyword">new</span> trie4::Trie4();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                fprintf(stderr, <span class="stringliteral">&quot;Invalid forwarding table version (%d). Using default (%d).&quot;</span>,trie_version,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                <a class="code" href="forwardingtable_8cc.html#ac0d9dca5677c3d8bc9ce0b81b5959ca5">DEFAULT_TRIE_VERSION</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                trie_version = <a class="code" href="forwardingtable_8cc.html#ac0d9dca5677c3d8bc9ce0b81b5959ca5">DEFAULT_TRIE_VERSION</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <span class="keywordflow">goto</span> tvstart;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        assert(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  cvstart:</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">switch</span>(cache_version) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_route_cache.html#ac73f620d335cba4d277ac9998b272947a0746bfc8cf01b19846cda8b9dc016af6">RouteCache::SINGLE_ENTRY</a>:</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a> = (RouteCache*)<span class="keyword">new</span> routecache0::RouteCache0();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_route_cache.html#ac73f620d335cba4d277ac9998b272947a12fbdd9274849687397a3944cd2ae89f">RouteCache::DIRECT_MAPPED</a>:</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a> = (RouteCache*)<span class="keyword">new</span> routecache1::RouteCache1();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_route_cache.html#ac73f620d335cba4d277ac9998b272947a7e8e92bbaf44e58219beb1b95890bff4">RouteCache::ASSOCIATIVE</a>:</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a> = (RouteCache*)<span class="keyword">new</span> routecache2::RouteCache2();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classs3f_1_1s3fnet_1_1_route_cache.html#ac73f620d335cba4d277ac9998b272947a9582d2e5481bb97d1aa8294883974a76">RouteCache::NONE</a>:</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a> = NULL;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                fprintf(stderr, <span class="stringliteral">&quot;Invalid cache version (%d). Using default (%d).&quot;</span>,cache_version,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                <a class="code" href="forwardingtable_8cc.html#a2947f90ac7c3eacac7c088b7fc60ec5f">DEFAULT_CACHE_VERSION</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                cache_version = <a class="code" href="forwardingtable_8cc.html#a2947f90ac7c3eacac7c088b7fc60ec5f">DEFAULT_CACHE_VERSION</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">goto</span> cvstart;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_route_cache_html_ac73f620d335cba4d277ac9998b272947a7e8e92bbaf44e58219beb1b95890bff4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_route_cache.html#ac73f620d335cba4d277ac9998b272947a7e8e92bbaf44e58219beb1b95890bff4">s3f::s3fnet::RouteCache::ASSOCIATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00182">forwardingtable.h:182</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_aa9c0ebc8bcc20fb9b00fa678985d1fa1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">s3f::s3fnet::ForwardingTable::ip_sess</a></div><div class="ttdeci">ProtocolSession * ip_sess</div><div class="ttdoc">The IP session is the owner of the forwarding table. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00279">forwardingtable.h:279</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a4c2fc60f314104b1982c2e2be9d5b4bc"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a4c2fc60f314104b1982c2e2be9d5b4bc">s3f::s3fnet::Trie::ARRAY_BACKED</a></div><div class="ttdoc">Trie that stores indices into an array in its nodes (vs data IN the nodes). </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00117">trie.h:117</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a54d44ac160288696ddec6c025a8d5e10"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a54d44ac160288696ddec6c025a8d5e10">s3f::s3fnet::Trie::SIMPLE</a></div><div class="ttdoc">Identical to ORIGINAL with minor fixes/enhancements. </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00114">trie.h:114</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_route_cache_html_ac73f620d335cba4d277ac9998b272947a0746bfc8cf01b19846cda8b9dc016af6"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_route_cache.html#ac73f620d335cba4d277ac9998b272947a0746bfc8cf01b19846cda8b9dc016af6">s3f::s3fnet::RouteCache::SINGLE_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00180">forwardingtable.h:180</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_route_cache_html_ac73f620d335cba4d277ac9998b272947a9582d2e5481bb97d1aa8294883974a76"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_route_cache.html#ac73f620d335cba4d277ac9998b272947a9582d2e5481bb97d1aa8294883974a76">s3f::s3fnet::RouteCache::NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00183">forwardingtable.h:183</a></div></div>
<div class="ttc" id="forwardingtable_8cc_html_a2947f90ac7c3eacac7c088b7fc60ec5f"><div class="ttname"><a href="forwardingtable_8cc.html#a2947f90ac7c3eacac7c088b7fc60ec5f">DEFAULT_CACHE_VERSION</a></div><div class="ttdeci">#define DEFAULT_CACHE_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00043">forwardingtable.cc:43</a></div></div>
<div class="ttc" id="forwardingtable_8cc_html_ac0d9dca5677c3d8bc9ce0b81b5959ca5"><div class="ttname"><a href="forwardingtable_8cc.html#ac0d9dca5677c3d8bc9ce0b81b5959ca5">DEFAULT_TRIE_VERSION</a></div><div class="ttdeci">#define DEFAULT_TRIE_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00038">forwardingtable.cc:38</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_route_cache_html_ac73f620d335cba4d277ac9998b272947a12fbdd9274849687397a3944cd2ae89f"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_route_cache.html#ac73f620d335cba4d277ac9998b272947a12fbdd9274849687397a3944cd2ae89f">s3f::s3fnet::RouteCache::DIRECT_MAPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00181">forwardingtable.h:181</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a2b1378342703d7382dee5cd673286735"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">s3f::s3fnet::ForwardingTable::mTrie</a></div><div class="ttdeci">Trie * mTrie</div><div class="ttdoc">The Trie in which routes are stored (ForwardingTable originally inherited from Trie) ...</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00276">forwardingtable.h:276</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a9f1859b031694d2c5a423a2bafeedf25"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a9f1859b031694d2c5a423a2bafeedf25">s3f::s3fnet::Trie::UNORDERED_PREFIX</a></div><div class="ttdoc">Like PREFIX but can take CIDR-format IP address as input in any order. </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00116">trie.h:116</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9af9cbfa34cf569adfc09db2b3121ba24e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9af9cbfa34cf569adfc09db2b3121ba24e">s3f::s3fnet::Trie::ORIGINAL</a></div><div class="ttdoc">Very first s3fnet Trie implementation. </div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00113">trie.h:113</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a8a138853be305e70fb5a1bd7b2c85eb9a8dfbbc0de205c769a7d12642b2ece98e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a8a138853be305e70fb5a1bd7b2c85eb9a8dfbbc0de205c769a7d12642b2ece98e">s3f::s3fnet::Trie::PREFIX</a></div><div class="ttdoc">Stores values at minimum depth instead of depth equal to their bit-length (ie depth 32 for an ipv4 ad...</div><div class="ttdef"><b>Definition:</b> <a href="trie_8h_source.html#l00115">trie.h:115</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_af08b0e0f8150aa9fe4ac35286075ede2"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">s3f::s3fnet::ForwardingTable::mCache</a></div><div class="ttdeci">RouteCache * mCache</div><div class="ttdoc">The routing cache. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00273">forwardingtable.h:273</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a211057642bf04195aecd461b1a706fec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">s3f::s3fnet::ForwardingTable::~ForwardingTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor. </p>

<p>Definition at line <a class="el" href="forwardingtable_8cc_source.html#l00279">279</a> of file <a class="el" href="forwardingtable_8cc_source.html">forwardingtable.cc</a>.</p>

<p>References <a class="el" href="forwardingtable_8h_source.html#l00273">mCache</a>, and <a class="el" href="forwardingtable_8h_source.html#l00276">mTrie</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                  {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a>) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a2b1378342703d7382dee5cd673286735"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">s3f::s3fnet::ForwardingTable::mTrie</a></div><div class="ttdeci">Trie * mTrie</div><div class="ttdoc">The Trie in which routes are stored (ForwardingTable originally inherited from Trie) ...</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00276">forwardingtable.h:276</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_af08b0e0f8150aa9fe4ac35286075ede2"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">s3f::s3fnet::ForwardingTable::mCache</a></div><div class="ttdeci">RouteCache * mCache</div><div class="ttdoc">The routing cache. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00273">forwardingtable.h:273</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4a0c4c144848f3a8ae761653053b0897"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ForwardingTable::addRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>replace</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the preferred route to a given ip prefix. </p>
<p>If there's already an entry for this address and if replace is true, the old route will be overwritten and the method returns FT_ROUTE_OVERWRITTEN. Also, the old route will be reclaimed. Otherwise, the method returns 0. </p>

<p>Definition at line <a class="el" href="forwardingtable_8cc_source.html#l00288">288</a> of file <a class="el" href="forwardingtable_8cc_source.html">forwardingtable.cc</a>.</p>

<p>References <a class="el" href="ip__prefix_8h_source.html#l00132">s3f::s3fnet::IPPrefix::addr</a>, <a class="el" href="forwardingtable_8h_source.html#l00099">s3f::s3fnet::RouteInfo::destination</a>, <a class="el" href="forwardingtable_8h_source.html#l00028">FT_ROUTE_NOT_REPLACED</a>, <a class="el" href="forwardingtable_8h_source.html#l00027">FT_ROUTE_OVERWRITTEN</a>, <a class="el" href="forwardingtable_8h_source.html#l00026">FT_ROUTE_SUCCESS</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#aa7fd473e289ddf3f54603950d4052321">s3f::s3fnet::Trie::insert()</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_route_cache.html#aba55b2fd9a071537f521d2b5db067526">s3f::s3fnet::RouteCache::invalidate()</a>, <a class="el" href="s3fnet_8h_source.html#l00336">s3f::s3fnet::IP_CTRL_FIB_ADDROUTE</a>, <a class="el" href="s3fnet_8h_source.html#l00340">s3f::s3fnet::IP_CTRL_FIB_DELROUTE</a>, <a class="el" href="forwardingtable_8h_source.html#l00279">ip_sess</a>, <a class="el" href="ip__prefix_8h_source.html#l00135">s3f::s3fnet::IPPrefix::len</a>, <a class="el" href="forwardingtable_8h_source.html#l00288">listeners</a>, <a class="el" href="forwardingtable_8h_source.html#l00273">mCache</a>, and <a class="el" href="forwardingtable_8h_source.html#l00276">mTrie</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">s3f::s3fnet::IPSession::control()</a>, <a class="el" href="ip__session_8cc_source.html#l00076">s3f::s3fnet::IPSession::init()</a>, and <a class="el" href="forwardingtable_8cc_source.html#l00321">removeRoute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_route_cache.html#aba55b2fd9a071537f521d2b5db067526">invalidate</a>(); <span class="comment">// TODO: only invalidate if necessary</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// if returns a conflict route; it could be the original or the new</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// route depending on whether &#39;replace&#39; is true or not</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  RouteInfo* conflict = (RouteInfo*)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#aa7fd473e289ddf3f54603950d4052321">insert</a>(route-&gt;destination.addr, route-&gt;destination.len, route, replace);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span>(conflict) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span>(replace) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">for</span>(S3FNET_FIB_PROTO_SET::iterator iter = <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">listeners</a>.begin();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;          iter != <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">listeners</a>.end(); iter++) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        (*iter)-&gt;control(<a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a4c159aa772fdc02a7b4f014e12e467a2">IP_CTRL_FIB_DELROUTE</a>, conflict, <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">ip_sess</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        (*iter)-&gt;control(<a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ade8f03155bee337782f6de06194b4f51">IP_CTRL_FIB_ADDROUTE</a>, route, <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">ip_sess</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keyword">delete</span> conflict; <span class="comment">// this is the old route</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="forwardingtable_8h.html#a527143f93894ea8f76369d3a12e77d83">FT_ROUTE_OVERWRITTEN</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      assert(conflict == route);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keyword">delete</span> conflict;  <span class="comment">// this is the new route</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="forwardingtable_8h.html#aa13d43ca7dabfa22c786279359d8467b">FT_ROUTE_NOT_REPLACED</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">for</span>(S3FNET_FIB_PROTO_SET::iterator iter = <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">listeners</a>.begin();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        iter != <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">listeners</a>.end(); iter++) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      (*iter)-&gt;control(<a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ade8f03155bee337782f6de06194b4f51">IP_CTRL_FIB_ADDROUTE</a>, route, <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">ip_sess</a>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_aa9c0ebc8bcc20fb9b00fa678985d1fa1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">s3f::s3fnet::ForwardingTable::ip_sess</a></div><div class="ttdeci">ProtocolSession * ip_sess</div><div class="ttdoc">The IP session is the owner of the forwarding table. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00279">forwardingtable.h:279</a></div></div>
<div class="ttc" id="forwardingtable_8h_html_a527143f93894ea8f76369d3a12e77d83"><div class="ttname"><a href="forwardingtable_8h.html#a527143f93894ea8f76369d3a12e77d83">FT_ROUTE_OVERWRITTEN</a></div><div class="ttdeci">#define FT_ROUTE_OVERWRITTEN</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00027">forwardingtable.h:27</a></div></div>
<div class="ttc" id="forwardingtable_8h_html_aa13d43ca7dabfa22c786279359d8467b"><div class="ttname"><a href="forwardingtable_8h.html#aa13d43ca7dabfa22c786279359d8467b">FT_ROUTE_NOT_REPLACED</a></div><div class="ttdeci">#define FT_ROUTE_NOT_REPLACED</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00028">forwardingtable.h:28</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_route_cache_html_aba55b2fd9a071537f521d2b5db067526"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_route_cache.html#aba55b2fd9a071537f521d2b5db067526">s3f::s3fnet::RouteCache::invalidate</a></div><div class="ttdeci">virtual void invalidate()=0</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_aa7fd473e289ddf3f54603950d4052321"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#aa7fd473e289ddf3f54603950d4052321">s3f::s3fnet::Trie::insert</a></div><div class="ttdeci">virtual TrieData * insert(TRIEBITSTRING key, int nBits, TrieData *data, bool replace)=0</div><div class="ttdoc">Inserts a new (key, data) pair. </div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a2b1378342703d7382dee5cd673286735"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">s3f::s3fnet::ForwardingTable::mTrie</a></div><div class="ttdeci">Trie * mTrie</div><div class="ttdoc">The Trie in which routes are stored (ForwardingTable originally inherited from Trie) ...</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00276">forwardingtable.h:276</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a4c159aa772fdc02a7b4f014e12e467a2"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a4c159aa772fdc02a7b4f014e12e467a2">s3f::s3fnet::IP_CTRL_FIB_DELROUTE</a></div><div class="ttdoc">Inform FIB listener protocol sessions of routes being deleted. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00340">s3fnet.h:340</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_af08b0e0f8150aa9fe4ac35286075ede2"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">s3f::s3fnet::ForwardingTable::mCache</a></div><div class="ttdeci">RouteCache * mCache</div><div class="ttdoc">The routing cache. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00273">forwardingtable.h:273</a></div></div>
<div class="ttc" id="forwardingtable_8h_html_afc97b904215bfa9cec978167172d6c25"><div class="ttname"><a href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a></div><div class="ttdeci">#define FT_ROUTE_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00026">forwardingtable.h:26</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223ade8f03155bee337782f6de06194b4f51"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223ade8f03155bee337782f6de06194b4f51">s3f::s3fnet::IP_CTRL_FIB_ADDROUTE</a></div><div class="ttdoc">Inform FIB listener protocol sessions of routes being added. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00336">s3fnet.h:336</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a71f9760c21eceee9fec2798222fb91c4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">s3f::s3fnet::ForwardingTable::listeners</a></div><div class="ttdeci">S3FNET_FIB_PROTO_SET listeners</div><div class="ttdoc">List of protocol sessions who wish to be notified of FIB changes. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00288">forwardingtable.h:288</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5393e68dec7441c36305d4af1d3f6c5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s3f::s3fnet::ForwardingTable::removeRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a route from the forwarding table to a given ip prefix. </p>
<p>The removed route will be deleted. The method returns 0 if the route has been found and reclaimed. Oherwise, the method returns FT_ROUTE_NOT_FOUND. </p>

<p>Definition at line <a class="el" href="forwardingtable_8cc_source.html#l00321">321</a> of file <a class="el" href="forwardingtable_8cc_source.html">forwardingtable.cc</a>.</p>

<p>References <a class="el" href="ip__prefix_8h_source.html#l00132">s3f::s3fnet::IPPrefix::addr</a>, <a class="el" href="forwardingtable_8cc_source.html#l00288">addRoute()</a>, <a class="el" href="forwardingtable_8h_source.html#l00099">s3f::s3fnet::RouteInfo::destination</a>, <a class="el" href="forwardingtable_8h_source.html#l00029">FT_ROUTE_NOT_FOUND</a>, <a class="el" href="forwardingtable_8h_source.html#l00026">FT_ROUTE_SUCCESS</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_route_cache.html#aba55b2fd9a071537f521d2b5db067526">s3f::s3fnet::RouteCache::invalidate()</a>, <a class="el" href="s3fnet_8h_source.html#l00340">s3f::s3fnet::IP_CTRL_FIB_DELROUTE</a>, <a class="el" href="forwardingtable_8h_source.html#l00279">ip_sess</a>, <a class="el" href="ip__prefix_8h_source.html#l00135">s3f::s3fnet::IPPrefix::len</a>, <a class="el" href="forwardingtable_8h_source.html#l00288">listeners</a>, <a class="el" href="forwardingtable_8h_source.html#l00273">mCache</a>, <a class="el" href="forwardingtable_8h_source.html#l00276">mTrie</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a9efe19d03a3cd65b799cc49b7816d830">s3f::s3fnet::Trie::remove()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">s3f::s3fnet::IPSession::control()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_route_cache.html#aba55b2fd9a071537f521d2b5db067526">invalidate</a>(); <span class="comment">// TODO: only invalidate if necessary</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  RouteInfo* old = (RouteInfo*)<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a9efe19d03a3cd65b799cc49b7816d830">remove</a>(route-&gt;destination.addr, route-&gt;destination.len);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span>(old) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// we need to compare the existing route with the one we want to</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// remove; if they don&#39;t match, we reinstall the existing one;</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// otherwise, we remove it</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span>(*route != *old) <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">addRoute</a>(old);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">for</span>(S3FNET_FIB_PROTO_SET::iterator iter = <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">listeners</a>.begin();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          iter != <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">listeners</a>.end(); iter++) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        (*iter)-&gt;control(<a class="code" href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a4c159aa772fdc02a7b4f014e12e467a2">IP_CTRL_FIB_DELROUTE</a>, old, <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">ip_sess</a>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keyword">delete</span> old;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">delete</span> route;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keyword">delete</span> route;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="forwardingtable_8h.html#a86a482d5e64eac35d97d9ba832cdbb92">FT_ROUTE_NOT_FOUND</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_aa9c0ebc8bcc20fb9b00fa678985d1fa1"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#aa9c0ebc8bcc20fb9b00fa678985d1fa1">s3f::s3fnet::ForwardingTable::ip_sess</a></div><div class="ttdeci">ProtocolSession * ip_sess</div><div class="ttdoc">The IP session is the owner of the forwarding table. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00279">forwardingtable.h:279</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_route_cache_html_aba55b2fd9a071537f521d2b5db067526"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_route_cache.html#aba55b2fd9a071537f521d2b5db067526">s3f::s3fnet::RouteCache::invalidate</a></div><div class="ttdeci">virtual void invalidate()=0</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a4a0c4c144848f3a8ae761653053b0897"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a4a0c4c144848f3a8ae761653053b0897">s3f::s3fnet::ForwardingTable::addRoute</a></div><div class="ttdeci">int addRoute(RouteInfo *route, bool replace=true)</div><div class="ttdoc">Add the preferred route to a given ip prefix. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8cc_source.html#l00288">forwardingtable.cc:288</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a2b1378342703d7382dee5cd673286735"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">s3f::s3fnet::ForwardingTable::mTrie</a></div><div class="ttdeci">Trie * mTrie</div><div class="ttdoc">The Trie in which routes are stored (ForwardingTable originally inherited from Trie) ...</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00276">forwardingtable.h:276</a></div></div>
<div class="ttc" id="namespaces3f_1_1s3fnet_html_a378ed67967dbfd4a8ddba9fb8c13f223a4c159aa772fdc02a7b4f014e12e467a2"><div class="ttname"><a href="namespaces3f_1_1s3fnet.html#a378ed67967dbfd4a8ddba9fb8c13f223a4c159aa772fdc02a7b4f014e12e467a2">s3f::s3fnet::IP_CTRL_FIB_DELROUTE</a></div><div class="ttdoc">Inform FIB listener protocol sessions of routes being deleted. </div><div class="ttdef"><b>Definition:</b> <a href="s3fnet_8h_source.html#l00340">s3fnet.h:340</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a9efe19d03a3cd65b799cc49b7816d830"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a9efe19d03a3cd65b799cc49b7816d830">s3f::s3fnet::Trie::remove</a></div><div class="ttdeci">virtual TrieData * remove(TRIEBITSTRING key, int nBits)=0</div><div class="ttdoc">Removes a key from the Trie. </div></div>
<div class="ttc" id="forwardingtable_8h_html_a86a482d5e64eac35d97d9ba832cdbb92"><div class="ttname"><a href="forwardingtable_8h.html#a86a482d5e64eac35d97d9ba832cdbb92">FT_ROUTE_NOT_FOUND</a></div><div class="ttdeci">#define FT_ROUTE_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00029">forwardingtable.h:29</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_af08b0e0f8150aa9fe4ac35286075ede2"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">s3f::s3fnet::ForwardingTable::mCache</a></div><div class="ttdeci">RouteCache * mCache</div><div class="ttdoc">The routing cache. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00273">forwardingtable.h:273</a></div></div>
<div class="ttc" id="forwardingtable_8h_html_afc97b904215bfa9cec978167172d6c25"><div class="ttname"><a href="forwardingtable_8h.html#afc97b904215bfa9cec978167172d6c25">FT_ROUTE_SUCCESS</a></div><div class="ttdeci">#define FT_ROUTE_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00026">forwardingtable.h:26</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a71f9760c21eceee9fec2798222fb91c4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">s3f::s3fnet::ForwardingTable::listeners</a></div><div class="ttdeci">S3FNET_FIB_PROTO_SET listeners</div><div class="ttdoc">List of protocol sessions who wish to be notified of FIB changes. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00288">forwardingtable.h:288</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01a8a1d09de4df61a7a1c5e5119809a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> * s3f::s3fnet::ForwardingTable::getRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaces3f_1_1s3fnet.html#adb6ef126f30d476c9b658aa224769652">IPADDR</a>&#160;</td>
          <td class="paramname"><em>ipaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a route to a given ip address. </p>
<p>The method returns NULL if no such route exists. </p>

<p>Definition at line <a class="el" href="forwardingtable_8cc_source.html#l00348">348</a> of file <a class="el" href="forwardingtable_8cc_source.html">forwardingtable.cc</a>.</p>

<p>References <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a9820fbea84200d3cd8b5028626f0a20f">s3f::s3fnet::Trie::lookup()</a>, <a class="el" href="classs3f_1_1s3fnet_1_1_route_cache.html#af8b4fc47171421e7438920dd44e1e55e">s3f::s3fnet::RouteCache::lookup()</a>, <a class="el" href="forwardingtable_8h_source.html#l00273">mCache</a>, <a class="el" href="forwardingtable_8h_source.html#l00276">mTrie</a>, and <a class="el" href="classs3f_1_1s3fnet_1_1_route_cache.html#af1049c2975571354b8facbd21d539f73">s3f::s3fnet::RouteCache::update()</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00494">s3f::s3fnet::IPSession::handle_pop_pkt()</a>, and <a class="el" href="ip__session_8cc_source.html#l00282">s3f::s3fnet::IPSession::push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                                  {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  RouteInfo* pData;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        pData = <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_route_cache.html#af8b4fc47171421e7438920dd44e1e55e">lookup</a>(ipaddr);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span>(pData != NULL) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <span class="keywordflow">return</span> pData;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// find out the route for the given ip address</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  pData = (RouteInfo*)<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a9820fbea84200d3cd8b5028626f0a20f">lookup</a>(ipaddr);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a> &amp;&amp; pData) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">mCache</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_route_cache.html#af1049c2975571354b8facbd21d539f73">update</a>(ipaddr,pData);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">return</span> pData;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_route_cache_html_af1049c2975571354b8facbd21d539f73"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_route_cache.html#af1049c2975571354b8facbd21d539f73">s3f::s3fnet::RouteCache::update</a></div><div class="ttdeci">virtual void update(IPADDR ipaddr, RouteInfo *route)=0</div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a9820fbea84200d3cd8b5028626f0a20f"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a9820fbea84200d3cd8b5028626f0a20f">s3f::s3fnet::Trie::lookup</a></div><div class="ttdeci">virtual TrieData * lookup(TRIEBITSTRING key)=0</div><div class="ttdoc">Finds a key in the Trie. </div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a2b1378342703d7382dee5cd673286735"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">s3f::s3fnet::ForwardingTable::mTrie</a></div><div class="ttdeci">Trie * mTrie</div><div class="ttdoc">The Trie in which routes are stored (ForwardingTable originally inherited from Trie) ...</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00276">forwardingtable.h:276</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_af08b0e0f8150aa9fe4ac35286075ede2"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#af08b0e0f8150aa9fe4ac35286075ede2">s3f::s3fnet::ForwardingTable::mCache</a></div><div class="ttdeci">RouteCache * mCache</div><div class="ttdoc">The routing cache. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00273">forwardingtable.h:273</a></div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_route_cache_html_af8b4fc47171421e7438920dd44e1e55e"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_route_cache.html#af8b4fc47171421e7438920dd44e1e55e">s3f::s3fnet::RouteCache::lookup</a></div><div class="ttdeci">virtual RouteInfo * lookup(IPADDR ipaddr)=0</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acef5496221b6fa05499d10c635ef8b27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::ForwardingTable::dump </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints out the forwarding table. </p>

</div>
</div>
<a class="anchor" id="abee6bd613a65652f732c1fc2849f67c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::ForwardingTable::invalidateAllRoutes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>protocol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invalidate all routes in forwarding table that were installed by the given protocol. </p>
<p>If the protocol is UNSPEC, all routes will be removed. </p>

</div>
</div>
<a class="anchor" id="a519dcba988f732a18ab5b76fcae0b604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html">RouteInfo</a> * s3f::s3fnet::ForwardingTable::getDefaultRoute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If there is a default route, the method returns it; otherwise, it returns NULL. </p>

<p>Definition at line <a class="el" href="forwardingtable_8cc_source.html#l00416">416</a> of file <a class="el" href="forwardingtable_8cc_source.html">forwardingtable.cc</a>.</p>

<p>References <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html#a758577983d032c1b841faf737f69940d">s3f::s3fnet::Trie::getDefault()</a>, and <a class="el" href="forwardingtable_8h_source.html#l00276">mTrie</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a>) <span class="keywordflow">return</span> (RouteInfo*)(<a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">mTrie</a>-&gt;<a class="code" href="classs3f_1_1s3fnet_1_1_trie.html#a758577983d032c1b841faf737f69940d">getDefault</a>());</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_trie_html_a758577983d032c1b841faf737f69940d"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_trie.html#a758577983d032c1b841faf737f69940d">s3f::s3fnet::Trie::getDefault</a></div><div class="ttdeci">virtual TrieData * getDefault()=0</div><div class="ttdoc">Return the default TrieData item. </div></div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a2b1378342703d7382dee5cd673286735"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a2b1378342703d7382dee5cd673286735">s3f::s3fnet::ForwardingTable::mTrie</a></div><div class="ttdeci">Trie * mTrie</div><div class="ttdoc">The Trie in which routes are stored (ForwardingTable originally inherited from Trie) ...</div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00276">forwardingtable.h:276</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee3427ecece113aadafc0b7b7652274f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s3f::s3fnet::ForwardingTable::addListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a> *&#160;</td>
          <td class="paramname"><em>sess</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a listener protocol session, who wish to be notified of the changes to the forwarding table. </p>

<p>Definition at line <a class="el" href="forwardingtable_8cc_source.html#l00422">422</a> of file <a class="el" href="forwardingtable_8cc_source.html">forwardingtable.cc</a>.</p>

<p>References <a class="el" href="forwardingtable_8h_source.html#l00288">listeners</a>.</p>

<p>Referenced by <a class="el" href="ip__session_8cc_source.html#l00148">s3f::s3fnet::IPSession::control()</a>, and <a class="el" href="ip__session_8cc_source.html#l00076">s3f::s3fnet::IPSession::init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <a class="code" href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">listeners</a>.insert(sess);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div>
<div class="ttc" id="classs3f_1_1s3fnet_1_1_forwarding_table_html_a71f9760c21eceee9fec2798222fb91c4"><div class="ttname"><a href="classs3f_1_1s3fnet_1_1_forwarding_table.html#a71f9760c21eceee9fec2798222fb91c4">s3f::s3fnet::ForwardingTable::listeners</a></div><div class="ttdeci">S3FNET_FIB_PROTO_SET listeners</div><div class="ttdoc">List of protocol sessions who wish to be notified of FIB changes. </div><div class="ttdef"><b>Definition:</b> <a href="forwardingtable_8h_source.html#l00288">forwardingtable.h:288</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a861754cfb71887e7eca64ec6340abfba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void s3f::s3fnet::ForwardingTable::dump_helper </td>
          <td>(</td>
          <td class="paramtype">TrieNode *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaces3f_1_1s3fnet.html#af9913b509c50836bbe30b0a16b2500b9">uint32</a>&#160;</td>
          <td class="paramname"><em>sofar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The recursive helper to the dump method. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af08b0e0f8150aa9fe4ac35286075ede2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_route_cache.html">RouteCache</a>* s3f::s3fnet::ForwardingTable::mCache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The routing cache. </p>
<p>Configurable/extendable much like <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>. </p>

<p>Definition at line <a class="el" href="forwardingtable_8h_source.html#l00273">273</a> of file <a class="el" href="forwardingtable_8h_source.html">forwardingtable.h</a>.</p>

<p>Referenced by <a class="el" href="forwardingtable_8cc_source.html#l00288">addRoute()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00221">ForwardingTable()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00348">getRoute()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00321">removeRoute()</a>, and <a class="el" href="forwardingtable_8cc_source.html#l00279">~ForwardingTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b1378342703d7382dee5cd673286735"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_trie.html">Trie</a>* s3f::s3fnet::ForwardingTable::mTrie</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a> in which routes are stored (<a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html" title="The forwarding table. ">ForwardingTable</a> originally inherited from <a class="el" href="classs3f_1_1s3fnet_1_1_trie.html" title="Base class for Trie implementations. ">Trie</a>) </p>

<p>Definition at line <a class="el" href="forwardingtable_8h_source.html#l00276">276</a> of file <a class="el" href="forwardingtable_8h_source.html">forwardingtable.h</a>.</p>

<p>Referenced by <a class="el" href="forwardingtable_8cc_source.html#l00288">addRoute()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00221">ForwardingTable()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00416">getDefaultRoute()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00348">getRoute()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00321">removeRoute()</a>, and <a class="el" href="forwardingtable_8cc_source.html#l00279">~ForwardingTable()</a>.</p>

</div>
</div>
<a class="anchor" id="aa9c0ebc8bcc20fb9b00fa678985d1fa1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classs3f_1_1s3fnet_1_1_protocol_session.html">ProtocolSession</a>* s3f::s3fnet::ForwardingTable::ip_sess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IP session is the owner of the forwarding table. </p>

<p>Definition at line <a class="el" href="forwardingtable_8h_source.html#l00279">279</a> of file <a class="el" href="forwardingtable_8h_source.html">forwardingtable.h</a>.</p>

<p>Referenced by <a class="el" href="forwardingtable_8cc_source.html#l00288">addRoute()</a>, and <a class="el" href="forwardingtable_8cc_source.html#l00321">removeRoute()</a>.</p>

</div>
</div>
<a class="anchor" id="a71f9760c21eceee9fec2798222fb91c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">S3FNET_FIB_PROTO_SET s3f::s3fnet::ForwardingTable::listeners</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of protocol sessions who wish to be notified of FIB changes. </p>
<p>The protocol sessions will be informed of the changes via calls to the control() method with the following types: IP_CTRL_FIB_ADDROUTE and IP_CTRL_FIB_DELROUTE. In both cases, the ctrlmsg argument should be a pointer to the corresponding <a class="el" href="classs3f_1_1s3fnet_1_1_route_info.html" title="A route entry of a forwarding table. ">RouteInfo</a> object being added to or removed from the forwarding table. </p>

<p>Definition at line <a class="el" href="forwardingtable_8h_source.html#l00288">288</a> of file <a class="el" href="forwardingtable_8h_source.html">forwardingtable.h</a>.</p>

<p>Referenced by <a class="el" href="forwardingtable_8cc_source.html#l00422">addListener()</a>, <a class="el" href="forwardingtable_8cc_source.html#l00288">addRoute()</a>, and <a class="el" href="forwardingtable_8cc_source.html#l00321">removeRoute()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="forwardingtable_8h_source.html">forwardingtable.h</a></li>
<li><a class="el" href="forwardingtable_8cc_source.html">forwardingtable.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaces3f.html">s3f</a></li><li class="navelem"><a class="el" href="namespaces3f_1_1s3fnet.html">s3fnet</a></li><li class="navelem"><a class="el" href="classs3f_1_1s3fnet_1_1_forwarding_table.html">ForwardingTable</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 00:36:01 for S3F by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
